{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/DatasetSelectionView/styles.scss?f141","webpack:///./src/ElementView/styles.scss?c067","webpack:///./src/EmbedGenView/styles.scss?a027","webpack:///./src/FilterBoxView/styles.scss?7a6c","webpack:///./src/NavBarView/styles.scss?96aa","webpack:///./src/ProvenanceView/styles.scss?434c","webpack:///./src/UnusedSetsView/style.scss?4a0f","webpack:///./src/UpsetView/styles.scss?4aeb","webpack:///./src/app/styles.scss?c094","webpack:///./src/lib/dsv_importer/src/FileUploadView/styles.scss?2e0e","webpack:///./src/lib/dsv_importer/src/TableView/styles.scss?dcb7","webpack:///./src/lib/dsv_importer/src/app/styles.scss?15c0","webpack:///./src/DataSetInfoView/DataSetInfoView.ts","webpack:///./src/DataSetInfoView/DataSetInfoViewModel.ts","webpack:///./src/DataStructure/Aggregate.ts","webpack:///./src/DataStructure/AggregateAndFilters.ts","webpack:///./src/DataStructure/AggregationStrategy.ts","webpack:///./src/DataStructure/BaseElement.ts","webpack:///./src/DataStructure/BaseSet.ts","webpack:///./src/DataStructure/Data.ts","webpack:///./src/DataStructure/DataUtils.ts","webpack:///./src/DataStructure/EmbedConfig.ts","webpack:///./src/DataStructure/Group.ts","webpack:///./src/DataStructure/RowType.ts","webpack:///./src/DataStructure/Set.ts","webpack:///./src/DataStructure/SortingStrategy.ts","webpack:///./src/DataStructure/SubSet.ts","webpack:///./src/DatasetSelectionView/DatasetSelectionView.ts","webpack:///./src/DatasetSelectionView/DatasetSelectionViewModel.ts","webpack:///./src/DatasetSelectionView/dataset.info.view.html","webpack:///./src/DatasetSelectionView/dataset.list.view.html","webpack:///./src/DatasetSelectionView/dataset.selection.modal.view.html","webpack:///./src/DatasetSelectionView/styles.scss?0759","webpack:///./src/ElementView/ElementView.ts","webpack:///./src/ElementView/ElementViewModel.ts","webpack:///./src/ElementView/dropdown.view.html","webpack:///./src/ElementView/styles.scss?89a7","webpack:///./src/EmbedGenView/EmbedGenView.ts","webpack:///./src/EmbedGenView/embedgen.view.html","webpack:///./src/EmbedGenView/styles.scss?d963","webpack:///./src/FilterBoxView/FilterBoxView.ts","webpack:///./src/FilterBoxView/FilterBoxViewModel.ts","webpack:///./src/FilterBoxView/filterbox.view.html","webpack:///./src/FilterBoxView/styles.scss?0171","webpack:///./src/NavBarView/NavBarView.ts","webpack:///./src/NavBarView/NavBarViewModel.ts","webpack:///./src/NavBarView/navbar.view.html","webpack:///./src/NavBarView/styles.scss?2ce2","webpack:///./src/ProvenanceView/ProvenanceView.ts","webpack:///./src/ProvenanceView/ProvenanceViewModel.ts","webpack:///./src/ProvenanceView/provenance.view.html","webpack:///./src/ProvenanceView/styles.scss?55c2","webpack:///./src/ProvenanceView/uiBuilderFunctions.ts","webpack:///./src/UnusedSetsView/UnusedSetView.ts","webpack:///./src/UnusedSetsView/UnusedSetViewModel.ts","webpack:///./src/UnusedSetsView/style.scss?cc31","webpack:///./src/UnusedSetsView/unusedset.view.html","webpack:///./src/UpsetView/UpsetView.ts","webpack:///./src/UpsetView/UpsetViewModel.ts","webpack:///./src/UpsetView/styles.scss?18dd","webpack:///./src/UpsetView/uiBuilderFunctions.ts","webpack:///./src/UpsetView/ui_params.ts","webpack:///./src/UpsetView/upset.view.html","webpack:///./src/VegaFactory/VegaFactory.ts","webpack:///./src/app/app.ts","webpack:///./src/app/styles.scss?9d84","webpack:///./src/lib/dsv_importer/src/DataTypes/DatasetInfo.ts","webpack:///./src/lib/dsv_importer/src/FileUploadView/FileUpload.ts","webpack:///./src/lib/dsv_importer/src/FileUploadView/FileUpload.view.html","webpack:///./src/lib/dsv_importer/src/FileUploadView/styles.scss?e19b","webpack:///./src/lib/dsv_importer/src/FileView/FileView.ts","webpack:///./src/lib/dsv_importer/src/FileView/file.view.html","webpack:///./src/lib/dsv_importer/src/TableView/ColumnType.ts","webpack:///./src/lib/dsv_importer/src/TableView/TableView.ts","webpack:///./src/lib/dsv_importer/src/TableView/dropdown.view.html","webpack:///./src/lib/dsv_importer/src/TableView/styles.scss?e69e","webpack:///./src/lib/dsv_importer/src/Utils/PubSub.ts","webpack:///./src/lib/dsv_importer/src/Utils/utils.ts","webpack:///./src/lib/dsv_importer/src/app/app.ts","webpack:///./src/lib/dsv_importer/src/app/layout_config.ts","webpack:///./src/lib/dsv_importer/src/app/styles.scss?a6b2","webpack:///node-fetch (ignored)","webpack:///fs (ignored)"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;ACtJA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;GAKG;AACsB;AAC4B;AAG/C,qBAAuB,SAAQ,kEAAQ;IAC3C,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAED,KAAK,KAAI,CAAC;IAEV,MAAM;QACJ,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC;aACvB,MAAM,CAAC,KAAK,CAAC;aACb,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC;aACxB,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC;aAC7B,KAAK,CAAC,kBAAkB,EAAE,iBAAiB,CAAC;aAC5C,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC;aACtB,KAAK,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;IAC1C,CAAC;IAED,MAAM,CAAC,IAAkB;QACvB,IAAI,GAAG,GAAG,yCAAS,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACvD,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACb,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,qBAAqB,CAAC;aAC3B,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAChC,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,QAAQ,CAAC;aACd,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAExB,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,UAAU,CAAC;aAChB,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAE5B,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,gBAAgB,CAAC;aACtB,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QAElC,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,UAAU,CAAC;aAChB,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;QAEhC,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,eAAe,CAAC;aACrB,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QAErC,GAAG;aACA,MAAM,CAAC,KAAK,CAAC;aACb,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,UAAU,CAAC;aAChB,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC;YACN,OAAa,IAAK,CAAC,UAAU,CAAC;QAChC,CAAC,CAAC;aACD,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;aAC/B,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;IAClC,CAAC;CACF;;;;;;;;;;;;;;;ACrGD;AAAA;AAAA;;;;;GAKG;AAKgC;AAK7B,0BAA4B,SAAQ,uEAAa;IAErD,YAAY,IAAqB,EAAE,GAAgB;QACjD,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAFZ,aAAQ,GAAmB,EAAE,CAAC;QAGnC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACnD,CAAC;IAED,MAAM,CAAC,OAAqB;QAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACpC,CAAC;CACF;;;;;;;;;;;;;;;;;ACnB2C;AACR;AAE9B,eAAiB,SAAQ,wDAAW;IAOxC,YACE,WAA4B,EAC5B,aAAqB,EACrB,KAAa;QAEb,KAAK,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,GAAG,gDAAO,CAAC,SAAS,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;IAC9B,CAAC;IAED,SAAS,CAAC,MAAc;QACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,kBAAkB,IAAI,MAAM,CAAC,kBAAkB,CAAC;IACvD,CAAC;CACF;;;;;;;;;;;;;;;;;ACrCK;IAAN;QACE,0BAAqB,GAAgB,WAAW,CAAC,IAAI,CAAC;QACtD,iBAAY,GAAW,CAAC,CAAC;QACzB,2BAAsB,GAAgB,WAAW,CAAC,IAAI,CAAC;QACvD,kBAAa,GAAW,CAAC,CAAC;QAC1B,WAAM,GAAW,MAAM,CAAC,WAAW,CAAC;QACpC,gBAAW,GAAY,KAAK,CAAC;QAC7B,0BAAqB,GAAY,IAAI,CAAC;QACtC,cAAS,GAAW,CAAC,CAAC;QACtB,cAAS,GAAW,CAAC,CAAC;IAYxB,CAAC;IARC,MAAM,CAAC,kBAAkB,CAAC,EAAU;QAClC,IAAI,EAAE,GAAG,IAAI,YAAY,EAAE,CAAC;QAC5B,EAAE,CAAC,qBAAqB,GAAG,WAAW,CAAC,IAAI,CAAC;QAC5C,EAAE,CAAC,sBAAsB,GAAG,WAAW,CAAC,IAAI,CAAC;QAC7C,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC;QACvB,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC;QACpB,OAAO,EAAE,CAAC;IACZ,CAAC;CACF;AAED,IAAY,WAMX;AAND,WAAY,WAAW;IACrB,gCAAiB;IACjB,4BAAa;IACb,sCAAuB;IACvB,oCAAqB;IACrB,4BAAa;AACf,CAAC,EANW,WAAW,KAAX,WAAW,QAMtB;AAED,IAAY,MAKX;AALD,WAAY,MAAM;IAChB,2BAAiB;IACjB,qCAA2B;IAC3B,iCAAuB;IACvB,qBAAW;AACb,CAAC,EALW,MAAM,KAAN,MAAM,QAKjB;;;;;;;;;;;;;;;;ACpC+B;AACoB;AAIpD,IAAI,mBAAmB,GAOnB,EAAE,CAAC;AAEP,mBAAmB,CAAC,gEAAW,CAAC,MAAM,CAAC,GAAG,iBAAiB,CAAC;AAC5D,mBAAmB,CAAC,gEAAW,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC;AACxD,mBAAmB,CAAC,gEAAW,CAAC,SAAS,CAAC,GAAG,oBAAoB,CAAC;AAClE,mBAAmB,CAAC,gEAAW,CAAC,QAAQ,CAAC,GAAG,kBAAkB,CAAC;AAE/D,+DAAe,mBAAmB,EAAC;AAEnC,YAAY;AACZ,2BACE,IAAiB,EACjB,OAAgB,EAChB,KAAc,EACd,iBAA6C;IAE7C,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAW,EAAE,IAAI,EAAE,EAAE;QAC7C,IAAI,GAAG,GAAI,IAAI,CAAC,IAAe,CAAC,cAAc,CAAC;QAC/C,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QAChC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,IAAI,EAAE,GAAgB,EAAE,CAAC;IAEzB,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;QACxB,IAAI,CAAC,GAAG,IAAI,4CAAK,CAAC,aAAa,KAAK,EAAE,EAAE,UAAU,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;QAClE,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAgB,CAAC;QAC3C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAc,CAAC,CAAC;YACnC,4DAA4D;QAC9D,CAAC,CAAC,CAAC;KACJ;IAED,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,8BACE,IAAiB,EACjB,OAAgB,EAChB,KAAc,EACd,iBAA6C;IAE7C,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAW,EAAE,IAAI,EAAE,EAAE;QAC7C,IAAI,GAAG,GAAI,IAAI,CAAC,IAAe,CAAC,kBAAkB,CAAC;QACnD,IAAI,GAAG,IAAI,CAAC,EAAE;YACZ,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YAC9C,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;aAAM;YACL,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YAC9C,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;QACD,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAI,EAAE,GAAgB,EAAE,CAAC;IAEzB,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;QACxB,IAAI,CAAC,GAAG,IAAI,4CAAK,CACf,GAAG,KAAK,iBAAiB,EACzB,GAAG,KAAK,iBAAiB,EACzB,KAAK,CACN,CAAC;QACF,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAgB,CAAC;QAC3C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAc,CAAC,CAAC;YACnC,4DAA4D;QAC9D,CAAC,CAAC,CAAC;KACJ;IAED,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,4BACE,IAAiB,EACjB,OAAgB,EAChB,KAAc,EACd,iBAA6C;IAE7C,IAAI,YAAY,GAAG,IAAI;SACpB,MAAM,CAAC,CAAC,CAAC,EAAE;QACV,OAAQ,CAAC,CAAC,IAAe,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC;IAC5E,CAAC,CAAC;SACD,GAAG,CAAC,CAAC,CAAC,EAAE;QACP,OAAO;YACL,IAAI,EAAG,CAAC,CAAC,IAAe,CAAC,WAAW;YACpC,GAAG,EAAG,CAAC,CAAC,IAAe,CAAC,YAAY;iBACjC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC3B,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjB,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAClB,CAAC;IACJ,CAAC,CAAC,CAAC;IAEL,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QACrB,OAAQ,CAAC,CAAC,IAAe,CAAC,cAAc,IAAI,OAAO,CAAC;IACtD,CAAC,CAAC,CAAC;IAEH,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAW,EAAE,IAAI,EAAE,EAAE;QAC7C,IAAI,GAAG,GAAI,IAAI,CAAC,IAAe,CAAC,YAAY,CAAC;QAC7C,IAAI,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;YACpC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAChB,IAAI,GAAG,CAAC,CAAW,CAAC,KAAK,CAAC;oBAAE,KAAK,GAAG,KAAK,CAAC;YAC5C,CAAC,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAClB,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,IAAI,EAAE,GAAgB,EAAE,CAAC;IAEzB,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;QACxB,IAAI,CAAC,GAAG,IAAI,4CAAK,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACvC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAgB,CAAC;QAC3C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAc,CAAC,CAAC;YACnC,4DAA4D;QAC9D,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,yBACE,IAAiB,EACjB,OAAgB,EAChB,KAAc,EACd,iBAA6C;IAE7C,IAAI,WAAW,GAA8B,iBAAiB,CAAC;IAE/D,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAW,EAAE,IAAI,EAAE,EAAE;QAC7C,IAAI,GAAG,GAAI,IAAI,CAAC,IAAe,CAAC,YAAY,CAAC;QAC7C,IAAI,IAAI,GAAa,EAAE,CAAC;QACxB,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACnB,IAAI,CAAC,KAAK,CAAC,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACd;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACjB,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1D,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAI,EAAE,GAAgB,EAAE,CAAC;IAEzB,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;QACxB,IAAI,CAAC,GAAG,IAAI,4CAAK,CACf,aAAa,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EACtC,QAAQ,KAAK,EAAE,EACf,KAAK,CACN,CAAC;QACF,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAgB,CAAC;QAC3C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAc,CAAC,CAAC;YACnC,4DAA4D;QAC9D,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,EAAE,CAAC;AACZ,CAAC;;;;;;;;;;;;;;ACtLD;AAAA;;;;;GAKG;AAIH;;;;;GAKG;AACG;IAQJ;;;;;OAKG;IACH,YAAY,EAAmB,EAAE,WAAmB;QAClD,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;IACvB,CAAC;CACF;;;;;;;;;;;;;;;ACpCD;AAAA;;;;;GAKG;AACyC;AAE5C;;;;;;GAMG;AACG,aAAe,SAAQ,wDAAW;IAItC;;;;;;;OAOG;IACH,YACE,KAAsB,EACtB,OAAe,EACf,YAAsB,EACtB,OAAiB,EACjB,QAAgB,CAAC;QAEjB,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACjD,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;gBAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;IAC7C,CAAC;IAED,kBAAkB,CAChB,GAAY,EACZ,KAAyE;QAEzE,IAAI,YAAY,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CACpD,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAC3B,CAAC,MAAM,CAAC;QACT,OAAO,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClE,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDyE;AAClB;AAG5B;AACiB;AACX;AACE;AACX;AACO;AAI1B;IA8BJ,YAAY,GAAgB;QA3B5B,SAAI,GAAe,EAAE,CAAC;QACtB,aAAQ,GAAe,EAAE,CAAC;QAC1B,eAAU,GAAqB,EAAE,CAAC;QAClC,YAAO,GAAkB,EAAE,CAAC;QAC5B,eAAU,GAAqB,EAAE,CAAC;QAClC,uBAAkB,GAAqB,EAAE,CAAC;QAC1C,iBAAY,GAAW,CAAC,CAAC;QACzB,aAAQ,GAAkB,EAAE,CAAC;QAC7B,UAAK,GAAW,CAAC,CAAC;QAClB,kBAAa,GAAW,CAAC,CAAC;QAE1B,eAAU,GAAe,EAAE,CAAC;QAC5B,gBAAW,GAAe,EAAE,CAAC;QAC7B,kBAAa,GAAa,EAAE,CAAC;QAC7B,oBAAe,GAAa,EAAE,CAAC;QAc7B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,YAAY,GAAG,IAAI,iEAAY,EAAE,CAAC;QACvC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,EAAgB,EAAE,EAAE;YACjD,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAtBD,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC/D,CAAC;IAED,IAAI,iBAAiB;QACnB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE;YACpD,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC;YAC9B,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAE,CAAC,CAAC;IACT,CAAC;IAeD,aAAa,CAAC,CAAY,EAAE,kBAA2B,KAAK;QAC1D,IAAI,KAAK,GAAG,CAAC,CAAC,IAAa,CAAC;QAC5B,KAAK,CAAC,WAAW,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC;QACvC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,eAAe;YAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAEK,IAAI,CACR,IAAkC,EAClC,WAAyB;;YAEzB,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC;YAC7B,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACtD,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACtB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;gBAC/C,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC;YACH,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBAC9B,GAAG,CAAM,IAAI,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,IAAI,UAAU;QACZ,IAAI,CAAC,GAA2B,EAAE,CAAC;QACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACzC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACnC;QACD,OAAO,CAAC,CAAC;IACX,CAAC;IAEO,eAAe,CACrB,cAAmC,EACnC,UAA+B;QAE/B,OAAO,cAAc;aAClB,GAAG,CAAC,IAAI,CAAC,EAAE;YACV,OAAO,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC;aACD,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAE1D,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAElB,IAAI,qBAAqB,GAAqC,EAAE,CAAC;QAEjE,IAAI,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAEtD,IAAI,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;YAChD,OAAO,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEN,IAAI,SAAS,GAAW,EAAE,CAAC;QAE3B,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,GAAG,EAAE,EAAE;YAC/C,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YAC7D,IAAI,qBAAqB,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;gBAC5C,qBAAqB,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC1C;iBAAM;gBACL,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5C;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QACzC,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,IAAI,SAAS,GAAG,CAAC,CAAC,CAAC;QACnB,IAAI,KAAK,GAAa,EAAE,CAAC;QAEzB,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE,OAAO,EAAE;YAC7D,WAAW,GAAG,OAAO,CAAC;YAEtB,IAAI,IAAI,GAAG,CAAC,CAAC;YACb,IAAI,YAAY,GAAa,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;iBACrE,GAAG,CAAC,GAAG,EAAE;gBACR,SAAS,GAAG,WAAW,GAAG,CAAC,CAAC;gBAC5B,WAAW,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC5C,IAAI,IAAI,SAAS,CAAC;gBAClB,OAAO,CAAC,SAAS,CAAC;YACpB,CAAC,CAAC;iBACD,OAAO,EAAE,CAAC;YAEb,gBAAgB,GAAG,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAEzC,KAAK,GAAG,EAAE,CAAC;YACX,IAAI,aAAa,GAAG,CAAC,CAAC;YACtB,IAAI,gBAAgB,GAAG,CAAC,CAAC;YAEzB,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5B,IAAI,CAAC,KAAK,CAAC,EAAE;oBACX,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;oBACzC,aAAa,GAAG,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;iBAC5D;qBAAM;oBACL,gBAAgB;wBACd,gBAAgB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;iBACvD;YACH,CAAC,CAAC,CAAC;YAEH,aAAa,IAAI,gBAAgB,CAAC;YAElC,IAAI,IAAI,GAAG,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;YACnD,IAAI,IAAI,IAAI,IAAI,EAAE;gBAChB,IAAI,GAAG,EAAE,CAAC;aACX;YAED,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAC5C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;gBAAE,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YAC5D,IAAI,IAAI,KAAK,EAAE,EAAE;gBACf,IAAI,GAAG,YAAY,CAAC;aACrB;YACD,IAAI,MAAM,GAAG,IAAI,8CAAM,CACrB,OAAO,EACP,IAAI,EACJ,YAAY,EACZ,IAAI,EACJ,aAAa,EACb,IAAI,CAAC,KAAK,CACX,CAAC;YACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;SACnD;QACD,qBAAqB,GAAG,EAAE,CAAC;IAC7B,CAAC;IAEO,gBAAgB,CAAC,KAAe,EAAE,SAA0B;QAClE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gBAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,aAAa,CACnB,IAAkC,EAClC,OAAgB,EAChB,WAAyB;QAEzB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAChD,IAAI,cAAc,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;gBACnB,IAAI,EAAE,cAAc,CAAC,IAAI,IAAI,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC;gBACjE,IAAI,EAAE,cAAc,CAAC,IAAI;gBACzB,MAAM,EAAE,EAAE;gBACV,IAAI,EAAE,CAAC;aACR,CAAC,CAAC;SACJ;QAED,uBAAuB;QAEvB,sBAAsB;QACtB,IAAI,iBAAiB,GAAc;YACjC,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;SACP,CAAC;QAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;YACnC,IAAI,QAAQ,GAAG,CAAC,CAAC;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC/C,QAAQ,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACnC;YACD,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;SACxC;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAExC,gBAAgB;QAChB,IAAI,YAAY,GAAc;YAC5B,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,CAAC;SACR,CAAC;QAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;YACnC,IAAI,OAAO,GAA2B,EAAE,CAAC;YACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC/C,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;oBAC/B,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;iBAC/B;aACF;YACD,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;SAClC;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAEnC,iBAAiB;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAChD,IAAI,cAAc,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;gBACpD,IAAI,GAAG,GAAS,MAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;gBAC1D,QAAQ,cAAc,CAAC,IAAI,EAAE;oBAC3B,KAAK,SAAS,CAAC,CAAC;wBACd,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;wBAC/B,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE;4BACjB,OAAO,CAAC,KAAK,CAAC,gBAAgB,GAAG,aAAa,CAAC,CAAC;4BAChD,OAAO,GAAG,CAAC;yBACZ;wBACD,OAAO,MAAM,CAAC;qBACf;oBACD,KAAK,OAAO,CAAC,CAAC;wBACZ,IAAI,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE;4BACnB,OAAO,CAAC,KAAK,CAAC,gBAAgB,GAAG,aAAa,CAAC,CAAC;4BAChD,OAAO,GAAG,CAAC;yBACZ;wBACD,OAAO,QAAQ,CAAC;qBACjB;oBACD,KAAK,IAAI,CAAC;oBACV,KAAK,QAAQ,CAAC;oBACd;wBACE,OAAO,GAAG,CAAC;iBACd;YACH,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,GAAG,CAAC;QAER,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC/C,IACE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO;gBACnC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,EACrC;gBACA,IAAI,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;wBACpB,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG;4BACvB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;oBAClD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;wBACpB,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG;4BACvB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBACnD;qBAAM;oBACL,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;wBACpB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;4BACtB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;oBAClD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;wBACpB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;4BACtB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBACnD;aACF;SACF;QAED,yEAAyE;QACzE,2BAA2B;QAC3B,oCAAoC;QACpC,4CAA4C;QAC5C,IAAI;IACN,CAAC;IAED;;;;;OAKG;IACK,OAAO,CAAC,IAAa;QAC3B,IAAI,SAAS,GAAG,IAAI,CAAC;QAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC7C,IAAI,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CACtE,MAAM,CAAC,SAAS,CAAC,OAAO,EACxB,CAAC,CACF,CAAC;YACF,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACpB,IAAI,GAAG,GAAG,IAAI,wCAAG,CACf,SAAS,GAAG,CAAC,EACb,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAChB,YAAY,EACZ,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EACf,IAAI,CAAC,KAAK,CACX,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE;gBAC1B,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACzB;iBAAM;gBACL,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC3B;SACF;IACH,CAAC;IAEO,sBAAsB,CAAC,IAAW;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAM,EAAE,CAAM,EAAE,EAAE;YAClC,OAAO,4CAAY,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,MAAM,CAAC,GAAQ;QACpB,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxB,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACpD,CAAC;IAED,YAAY,CAAC,IAAe;QAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1D,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAClB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;SAC5C;IACH,CAAC;IAEM,SAAS,CAAC,GAAQ;QACvB,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;QAClE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACpD,CAAC;IAEM,eAAe,CAAC,IAAe;QACpC,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAClB,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;YACvE,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;gBACd,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;aAC5C;SACF;IACH,CAAC;IAED;;;;;;;OAOG;IACK,UAAU,CAChB,IAAkC,EAClC,WAAyB;QAEzB,IAAI,OAAO,GAAY;YACrB,OAAO,EAAE,EAAE;YACX,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAE,EAAE;SACX,CAAC;QAEF,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC3B,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;QAC9B,IAAI,iBAAiB,GAAG,CAAC,CAAC;QAE1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAChD,IAAI,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,MAAM,CAAC,MAAM,KAAK,QAAQ,EAAE;gBAC9B,IAAI,YAAY,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;gBAEjD,KAAK,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,YAAY,EAAE,EAAE,QAAQ,EAAE;oBAC1D,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,EAAU,CAAC,CAAC;iBAC3C;gBAED,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;oBACnC,OAAa,MAAO;yBACjB,OAAO,CAAC,GAAG,CAAC;yBACZ,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;yBACrB,GAAG,CAAC,CAAC,GAAW,EAAE,OAAe,EAAE,EAAE;wBACpC,IAAI,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,OAAO,IAAI,MAAM,CAAC,GAAG,EAAE;4BACpD,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;4BAC/B,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE;gCACjB,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;6BAC1C;4BACD,OAAO,MAAM,CAAC;yBACf;wBACD,OAAO,IAAI,CAAC;oBACd,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;gBAEH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACpC,IAAI,CAAC,KAAK,CAAC,EAAE;wBACX,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;qBAClC;oBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,EAAE,CAAC,EAAE;wBACrC,OAAO,CAAC,OAAO,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC,IAAI,CACzC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAC1B,CAAC;wBACF,IAAI,CAAC,KAAK,CAAC,EAAE;4BACX,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;yBAClD;qBACF;iBACF;gBAED,iBAAiB,IAAI,YAAY,CAAC;aACnC;iBAAM;gBACL,OAAO,CAAC,KAAK,CAAC,yBAAyB,MAAM,CAAC,MAAM,iBAAiB,CAAC,CAAC;aACxE;SACF;QAED,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YAC9B,GAAG,CAAC,OAAO,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,eAAe,CACrB,eAA6B,IAAI,EACjC,WAAoB;QAEpB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAE1B,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAC3B,IAAI,CAAC,YAAY,CAAC,qBAAqB,EACvC,IAAI,CAAC,YAAY,CAAC,sBAAsB,EACxC,IAAI,CAAC,YAAY,CAAC,MAAM,EACxB,IAAI,CAAC,YAAY,CAAC,SAAS,EAC3B,IAAI,CAAC,YAAY,CAAC,SAAS,EAC3B,IAAI,CAAC,YAAY,CAAC,YAAY,EAC9B,IAAI,CAAC,YAAY,CAAC,aAAa,EAC/B,IAAI,CAAC,YAAY,CAAC,WAAW,EAC7B,IAAI,CAAC,YAAY,CAAC,WAAW,CAC9B,CAAC;SACH;aAAM;YACL,IAAI,CAAC,WAAW;gBAAE,WAAW,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAC3B,IAAI,EACJ,IAAI,EACJ,2DAAM,CAAC,GAAG,EACV,IAAI,CAAC,YAAY,CAAC,SAAS,EAC3B,IAAI,CAAC,YAAY,CAAC,SAAS,EAC3B,IAAI,CAAC,YAAY,CAAC,YAAY,EAC9B,IAAI,CAAC,YAAY,CAAC,aAAa,EAC/B,IAAI,CAAC,YAAY,CAAC,WAAW,EAC7B,IAAI,CAAC,YAAY,CAAC,WAAW,CAC9B,CAAC;SACH;QAED,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;YACjC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAC1B,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;IAC7C,CAAC;IAEO,MAAM,CACZ,UAAuB,EACvB,WAAwB,EACxB,MAAc,EACd,SAAiB,EACjB,SAAiB,EACjB,QAAgB,EAChB,QAAgB,EAChB,WAAoB,EACpB,cAAuB,KAAK;QAE5B,IAAI,GAAG,GAAgB,EAAE,CAAC;QAE1B,IAAI,CAAC,OAAO;aACT,MAAM,CAAC,CAAC,CAAC,EAAE;YACV,OAAO,CAAC,CAAC,cAAc,IAAI,SAAS,IAAI,CAAC,CAAC,cAAc,IAAI,SAAS,CAAC;QACxE,CAAC,CAAC;aACD,OAAO,CAAC,CAAC,GAAW,EAAE,EAAE;YACvB,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,UAAU,KAAK,gEAAW,CAAC,QAAQ;YACrC,GAAG,GAAG,4DAAmB,CAAC,UAAU,CAAC,CACnC,GAAG,EACH,QAAQ,EACR,CAAC,EACD,IAAI,CAAC,iBAAiB,CACvB,CAAC;aACC,IAAI,UAAU,IAAI,UAAU,KAAK,gEAAW,CAAC,IAAI;YACpD,GAAG,GAAG,4DAAmB,CAAC,UAAU,CAAC,CACnC,GAAG,EACH,QAAQ,EACR,CAAC,EACD,IAAI,CAAC,iBAAiB,CACvB,CAAC;QACJ,IAAI,WAAW,IAAI,WAAW,KAAK,gEAAW,CAAC,IAAI;YACjD,GAAG,GAAG,sBAAsB,CAC1B,GAAG,EACH,WAAW,EACX,QAAQ,EACR,IAAI,CAAC,iBAAiB,CACvB,CAAC;QAEJ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE;YAC5C,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,gDAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC;gBAC3D,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;oBACd,IAAI,KAAK,GAAG,CAAC,CAAC,IAAa,CAAC;oBAC5B,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC;gBAC9C,CAAC,CAAC,CAAC;SACN;aAAM;YACL,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,gDAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7D,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;oBAChB,IAAI,KAAK,GAAG,GAAG,CAAC,IAAa,CAAC;oBAC9B,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;gBACrE,CAAC,CAAC,CAAC;aACJ;SACF;QAED,IAAI,MAAM;YAAE,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;QAEtD,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,YAAY,4CAAK,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC;IACb,CAAC;CACF;AAED,gCACE,GAAgB,EAChB,KAAkB,EAClB,OAAe,EACf,iBAA4C;IAE5C,IAAI,EAAE,GAAgB,EAAE,CAAC;IAEzB,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QAChB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACb,IAAI,KAAK,GAAG,GAAG,CAAC,IAAa,CAAC;QAC9B,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;YACrC,OAAO;gBACL,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;gBACnB,IAAI,EAAE,CAAC;aACR,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,QAAQ,GAAG,4DAAmB,CAAC,KAAK,CAAC,CACvC,UAAU,EACV,OAAO,EACP,CAAC,EACD,iBAAiB,CAClB,CAAC;QACF,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAE,GAAG,CAAC,IAAc,CAAC,cAAc,CAAC,CAAC,CAAC,IAAa,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC;IACH,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,mBACE,GAAgB,EAChB,MAAc,EACd,WAAoB;IAEpB,IAAI,CAAC,GAAG,wDAAY,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;IAC/C,OAAO,CAAC,CAAC;AACX,CAAC;;;;;;;;;;;;;;;;;ACxmBD;AAAA;;;;;GAKG;AACsB;AACK;AAOS;AAEjC;IAIJ,MAAM,CAAC,cAAc,CAAC,IAAS;QAC7B,IAAI,KAAK,GAAgB,EAAE,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;YAC3B,IAAI,CAAC,GAAc;gBACjB,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,IAAI,EAAE,CAAC,CAAC,IAAI;aACb,CAAC;YACF,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,GAAe,EAAE,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;YAC3B,IAAI,CAAC,GAAa;gBAChB,MAAM,EAAE,CAAC,CAAC,MAAM;gBAChB,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,GAAG,EAAE,CAAC,CAAC,GAAG;aACX,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAiB;YACpB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,IAAI;YACV,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,MAAM,EAAE,IAAI,CAAC,MAAM;SACpB,CAAC;QACF,OAAO,CAAC,CAAC;IACX,CAAC;IAED,MAAM,CAAC,cAAc,CACnB,IAAkB,EAClB,aAAsB,KAAK;QAE3B,IAAI,IAAI,GAAiB;YACvB,IAAI,EAAE,EAAE;YACR,QAAQ,EAAE,CAAC;YACX,cAAc,EAAE,CAAC;YACjB,UAAU,EAAE,UAAU;YACtB,KAAK,EAAE,IAAI;SACZ,CAAC;QACF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACzC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAEvB,IAAI,GAAG,CAAC,MAAM,KAAK,QAAQ,EAAE;gBAC3B,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;aAC1C;iBAAM;gBACL,OAAO,CAAC,KAAK,CAAC,yBAAyB,GAAG,CAAC,MAAM,gBAAgB,CAAC,CAAC;aACpE;SACF;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,WAAyB;QAC7C,IAAI,WAAW,GAAiB,WAAW,CAAC,KAAK,CAAC;QAClD,IAAI,WAAW,CAAC,UAAU,EAAE;YAC1B,sCAAM,CACJ,WAAW,CAAC,SAAS,EACrB,GAAG,kDAAS,oBAAoB,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,CACzD,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBACZ,IAAI,CAAC,GAAG,IAAI,0CAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;gBACxD,CAAC,CAAC,IAAI,CAAC,CAAC,EAAQ,EAAE,EAAE;oBAClB,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC;gBACvD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,sCAAM,CAAC,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAChE,IAAI,CAAC,GAAG,IAAI,0CAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;gBACxD,CAAC,CAAC,IAAI,CAAC,CAAC,EAAQ,EAAE,EAAE;oBAClB,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC;gBACvD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;CACF;;;;;;;;;;;;;;;ACxGK;IAAN;QACE,WAAM,GAAY,KAAK,CAAC;QAExB,cAAS,GAAY,KAAK,CAAC;QAC3B,gBAAW,GAAY,KAAK,CAAC;QAC7B,gBAAW,GAAY,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC;QAE1D,iBAAY,GAAY,KAAK,CAAC;QAE9B,mBAAc,GAAY,KAAK,CAAC;QAEhC,kBAAa,GAAY,KAAK,CAAC;QAC/B,oBAAe,GAAY,KAAK,CAAC;IAenC,CAAC;IAXC,MAAM,CAAC,SAAS;QACd,IAAI,WAAW,CAAC,EAAE,KAAK,SAAS,IAAI,WAAW,CAAC,EAAE,KAAK,IAAI;YACzD,WAAW,CAAC,EAAE,GAAG,IAAI,WAAW,EAAE,CAAC;QACrC,WAAW,CAAC,EAAE,CAAC,WAAW;YACxB,WAAW,CAAC,EAAE,CAAC,SAAS,IAAI,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC;QACzD,OAAO,WAAW,CAAC,EAAE,CAAC;IACxB,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,GAAgB;QAC/B,IAAI,GAAG;YAAE,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC;IAChC,CAAC;CACF;;;;;;;;;;;;;;;;;AC3BD;AAAA;;;;;GAKG;AACqC;AAEI;AACR;AAE9B,WAAa,SAAQ,wDAAW;IAWpC,YAAY,OAAwB,EAAE,SAAiB,EAAE,KAAa;QACpE,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,gDAAO,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,KAAK;YAAE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAE9B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,oDAAS,CAAC,QAAQ,OAAO,EAAE,EAAE,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;QAExE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAErB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;IACjC,CAAC;IAED,SAAS,CAAC,MAAc;QACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE1B,IAAI,MAAM,CAAC,OAAO,GAAG,CAAC,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAClC;QAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,kBAAkB,IAAI,MAAM,CAAC,kBAAkB,CAAC;IACvD,CAAC;IAED,cAAc,CAAC,KAAY;QACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC9D,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,+CAA+C;QAC/C,iCAAiC;QACjC,2CAA2C;QAC3C,uDAAuD;IACzD,CAAC;IAED,QAAQ,CAAC,OAAe;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;CACF;;;;;;;;;;;;;;;AC3ED,IAAY,OAQX;AARD,WAAY,OAAO;IACjB,sBAAW;IACX,4BAAiB;IACjB,0BAAe;IACf,kCAAuB;IACvB,sCAA2B;IAC3B,kCAAuB;IACvB,kCAAuB;AACzB,CAAC,EARW,OAAO,KAAP,OAAO,QAQlB;;;;;;;;;;;;;;;;ACRD;AAAA;;;;;GAKG;AACiC;AACA;AAC9B,SAAW,SAAQ,gDAAO;IAI9B,YACE,KAAsB,EACtB,OAAe,EACf,YAAsB,EACtB,QAAkB,EAClB,KAAa,EACb,cAAuB,KAAK;QAE5B,IAAI,WAAW;YAAE,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;aACjE;YACH,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACxC,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;oBACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;iBAChB;aACF;SACF;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,gDAAO,CAAC,GAAG,CAAC;IAC1B,CAAC;CACF;;;;;;;;;;;;;;;;ACnCmC;AAEW;AAG/C,IAAI,YAAY,GAEZ,EAAE,CAAC;AAEP,YAAY,CAAC,2DAAM,CAAC,WAAW,CAAC,GAAG,iBAAiB,CAAC;AACrD,YAAY,CAAC,2DAAM,CAAC,MAAM,CAAC,GAAG,YAAY,CAAC;AAC3C,YAAY,CAAC,2DAAM,CAAC,SAAS,CAAC,GAAG,eAAe,CAAC;AACjD,YAAY,CAAC,2DAAM,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;AAErC,+DAAe,YAAY,EAAC;AAE5B,gCAAgC;AAChC,mBAAmB,IAAiB,EAAE,KAAa;IACjD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;QAC3B,OAAO,CACJ,EAAE,CAAC,IAAe,CAAC,YAAY,CAAC,KAAK,CAAC;YACtC,EAAE,CAAC,IAAe,CAAC,YAAY,CAAC,KAAK,CAAC,CACxC,CAAC;IACJ,CAAC,CAAC,CAAC;IACH,OAAO,CAAC,CAAC;AACX,CAAC;AAED,sBAAsB,IAAiB,EAAE,KAAa;IACpD,OAAO,IAAI,CAAC;AACd,CAAC;AAED,yBAAyB,IAAiB,EAAE,KAAa;IACvD,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC3E,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,gDAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QAC9D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACjB,IAAI,KAAK,GAAG,GAAG,CAAC,IAAa,CAAC;YAC9B,KAAK,CAAC,WAAW,CAAC,IAAI,CACpB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,kBAAkB,GAAG,CAAC,CAAC,kBAAkB,CACtD,CAAC;YACF,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjC,KAAK,CAAC,YAAY,CAAC,IAAI,CACrB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,kBAAkB,GAAG,CAAC,CAAC,kBAAkB,CACtD,CAAC;gBACF,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;oBAC9B,EAAE,CAAC,WAAW,CAAC,IAAI,CACjB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,kBAAkB,GAAG,CAAC,CAAC,kBAAkB,CACtD,CAAC;gBACJ,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED,2BAA2B,IAAiB;IAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrD,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,gDAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QAC9D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACjB,IAAI,KAAK,GAAG,GAAG,CAAC,IAAa,CAAC;YAC9B,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;YACxD,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;gBACzD,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;oBAC9B,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;gBACvD,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,IAAI,CAAC;AACd,CAAC;;;;;;;;;;;;;;;;ACtED;AAAA;;;;;GAKG;AACyB;AACQ;AAE9B,YAAc,SAAQ,wCAAG;IAI7B,YACE,KAAa,EACb,OAAe,EACf,YAAsB,EACtB,QAAkB,EAClB,YAAoB,EACpB,KAAa;QAEb,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,YAAY,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;QACrD,IAAI,CAAC,kBAAkB,GAAG,YAAY,GAAG,YAAY,CAAC;QACtD,IAAI,CAAC,IAAI,GAAG,gDAAO,CAAC,MAAM,CAAC;IAC7B,CAAC;IAED,QAAQ;QACN,OAAO,UAAU,IAAI,CAAC,EAAE,0BAA0B,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1E,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;ACjCwB;AAC4B;AACO;AAEW;AACvB;AACO;AAChB;AACgB;AAEjD,0BAA4B,SAAQ,kEAAQ;IAGhD,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,QAAQ,GAAG,yCACN,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,0EAAS,CAAC,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAC/C,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QACtD,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,KAAK;QACH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,wBAAwB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACjD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC3B,0FAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1C,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,+DAAQ,CAAC,CAAC;QACjC,IAAI,CAAC,KAAK;aACP,MAAM,CAAC,qBAAqB,CAAC;aAC7B,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjD,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC7C,uCAAO,CAAC,GAAG,kDAAS,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAU,EAAE,EAAE;YACxD,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;YACrB,IAAI,GAAG,IAAI;iBACR,KAAK,EAAE;iBACP,MAAM,CAAC,KAAK,CAAC;iBACb,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;iBACpB,KAAK,CAAC,IAAI,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,UAAS,CAAC;gBAClB,IAAI,EAAE,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC;gBACzB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACZ,EAAE,CAAC,IAAI,CAAC,+DAAe,CAAC,CAAC;gBACzB,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC7C,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACrD,EAAE,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3D,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,IAAI,CAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,EAAE,CAC1C,CAAC;gBAEF,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CACZ,wBAAwB,EACxB,kEAAS,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CACvC,CAAC;gBACJ,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,6DAA6D;IAC/D,CAAC;CACF;;;;;;;;;;;;;;;;;;;AC3EsE;AAEhD;AACjB,+BAAiC,SAAQ,uEAAa;IAC1D,YAAY,IAA0B,EAAE,GAAgB;QACtD,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,wBAAwB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,wBAAwB,EAAE,CAAC,CAAC,EAAE;YACzC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAC3C,CAAC;CACF;;;;;;;;;;;;;ACfD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,O;;;;;;;;;;;;ACjBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,O;;;;;;;;;;;;ACfA;AAAA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACPA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;;AChBqD;AAC5B;AAEkC;AACnB;AAElC,iBAAmB,SAAQ,kEAAQ;IAkBvC,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;QAJd,kBAAa,GAAY,IAAI,CAAC;QAK5B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;QAE3B,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAS,EAAE,EAAE;YACtC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,mBAAmB,CACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAChC,IAAI,CAAC,UAAU,CAChB,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAS,EAAE,EAAE;YACtC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,mBAAmB,CACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAChC,IAAI,CAAC,UAAU,CAChB,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,CAAC,CAAS,EAAE,EAAE;YAC9C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAS,EAAE,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAS,EAAE,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC;aAC5B,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,CAAC,CAAS,EAAE,EAAE;YAC9C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAS,EAAE,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAS,EAAE,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC;aAC5B,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,0BAA0B,EAAE,CAAC,GAAW,EAAE,EAAE;YACvD,IAAI,IAAI,CAAC,gBAAgB,KAAK,GAAG;gBAAE,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,IAAI,CAAC,gBAAgB,GAAG,GAAG;gBAAE,OAAO;YACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,6BAA6B,EAAE,CAAC,GAAW,EAAE,EAAE;YAC1D,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC;gBAC3C,CAAC;gBACD,IAAI,EAAE,CAAC,GAAG,CAAC;aACZ,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC;gBAC3C,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC;aAC9B,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CACV,qBAAqB,EACrB,CAAC,GAAW,EAAE,SAAkB,IAAI,EAAE,EAAE;YACtC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACvC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;QACtE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC;aAC/B,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC;aAC9C,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC3B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;QAEzE,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,uBAAuB,CAAC,CAAC;QAExE,UAAU;aACP,MAAM,CAAC,KAAK,CAAC;aACb,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC;aAC9C,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAEjC,IAAI,CAAC,oBAAoB,GAAG,UAAU;aACnC,MAAM,CAAC,KAAK,CAAC;aACb,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC,CAAC;QAElD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAC1D,cAAc,EACd,IAAI,CACL,CAAC;QACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAC1D,cAAc,EACd,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAI,CAAC,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAI,CAAC,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEhD,IAAI,CAAC,uBAAuB,GAAG,UAAU;aACtC,MAAM,CAAC,KAAK,CAAC;aACb,OAAO,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC;QAEpD,IAAI,CAAC,sBAAsB,GAAG,IAAI;aAC/B,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,IAAI,EAAE,uBAAuB,CAAC,CAAC;QACvC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,KAAK,CAAC;aACtC,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC;aAC9C,IAAI,CAAC,eAAe,CAAC,CAAC;QAEzB,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,uBAAuB,CAAC,CAAC;QACtE,QAAQ;aACL,MAAM,CAAC,KAAK,CAAC;aACb,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC;aAC9C,IAAI,CAAC,eAAe,CAAC,CAAC;QAEzB,IAAI,CAAC,sBAAsB,GAAG,QAAQ;aACnC,MAAM,CAAC,KAAK,CAAC;aACb,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,MAAM,CAAC,IAAuB,EAAE,UAAuB;QACrD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,MAAM,EAAE;YACrE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;SACrE;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAEzB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;YACtB,IAAI,CAAC,6BAA6B,CAChC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAC3B,UAAU,CACX,CAAC;IACN,CAAC;IAED,aAAa,CAAC,IAAuB;QACnC,IAAI,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAEjD,IAAI,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACrB,IAAI,GAAG,IAAI;aACR,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,KAAK,CAAC,IAAI,CAAC;aACX,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC;aACvB,IAAI,CAAC,EAAE,CAAC,CAAC;QAEZ,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAE3D,WAAW;aACR,MAAM,CAAC,GAAG,CAAC;aACX,OAAO,CAAC,2BAA2B,EAAE,IAAI,CAAC;aAC1C,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAChC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,UAAU,GAAG,WAAW;aACzB,MAAM,CAAC,GAAG,CAAC;aACX,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC,CAAC;QAElD,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;YAC9C,wCAAQ,CAAC,eAAe,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,EAAE,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC3E,CAAC;IAED,kBAAkB,CAAC,GAAW,EAAE,SAAkB,IAAI;QACpD,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC;QAC5B,IAAI,MAAM;YAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACtD,CAAC;IAED,6BAA6B,CAC3B,IAAsB,EACtB,UAAuB;QAEvB,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QACnC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,aAAa;QACX,IAAI,WAAW,GAAG,YAAY,CAAC,yCAAS,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC5E,IAAI,gBAAgB,GAAG,YAAY,CACjC,yCAAS,CAAC,wBAAwB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACpD,CAAC;QACF,IAAI,kBAAkB,GAAG,YAAY,CACnC,yCAAS,CAAC,wBAAwB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACpD,CAAC;QACF,IAAI,YAAY,GAAG,YAAY,CAC7B,yCAAS,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAC7C,CAAC;QACF,IAAI,UAAU,GAAG,YAAY,CAAC,yCAAS,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QACjE,yCAAS,CAAC,wBAAwB,CAAC,CAAC,KAAK,CACvC,QAAQ,EACR,GAAG,UAAU;YACX,CAAC,YAAY,GAAG,WAAW,GAAG,gBAAgB,GAAG,kBAAkB,CAAC,IAAI,CAC3E,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,mBAAmB,CAAC,IAAsB,EAAE,UAAuB;QACjE,IAAI,mBAAmB,GAAG,UAAU,CAAC,MAAM,CACzC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,CAChD,CAAC;QAEF,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK;aACjB,MAAM,CAAC,UAAU,CAAC;aAClB,SAAS,CAAC,QAAQ,CAAC;aACnB,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC7B,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACpB,GAAG,GAAG,GAAG;aACN,KAAK,EAAE;aACP,MAAM,CAAC,QAAQ,CAAC;aAChB,KAAK,CAAC,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAEtB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK;aACjB,MAAM,CAAC,UAAU,CAAC;aAClB,SAAS,CAAC,QAAQ,CAAC;aACnB,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC7B,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACpB,GAAG,GAAG,GAAG;aACN,KAAK,EAAE;aACP,MAAM,CAAC,QAAQ,CAAC;aAChB,KAAK,CAAC,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,IAAI,GAAG,IAAI,CAAC;QAEhB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAS,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAG,IAAY,CAAC,KAAK,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAS,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAG,IAAY,CAAC,KAAK,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,cAAc;YACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aACnE;YACH,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,UAAU,CAAC;iBAClB,SAAS,CAAC,QAAQ,CAAC;iBACnB,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAM,EAAE,EAAE;gBAC/B,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC;YACxC,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,IAAI,CAAC,cAAc;YACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aACnE;YACH,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,UAAU,CAAC;iBAClB,SAAS,CAAC,QAAQ,CAAC;iBACnB,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAM,EAAE,EAAE;gBAC/B,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC;YACxC,CAAC,CAAC,CAAC;SACN;QAED,IAAI,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,IAAI,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAExE,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO;YAAE,OAAO;QAEjC,IAAI,IAAI,GAAG;YACT,OAAO,EAAE,yDAAyD;YAClE,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE;YAC1B,IAAI,EAAE;gBACJ,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE;oBACP,OAAO,EAAE,MAAM;iBAChB;aACF;YACD,QAAQ,EAAE;gBACR,CAAC,EAAE;oBACD,KAAK,EAAE,IAAI,CAAC,cAAc;oBAC1B,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE;iBAC9C;gBACD,CAAC,EAAE;oBACD,KAAK,EAAE,IAAI,CAAC,cAAc;oBAC1B,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE;iBAC9C;aACF;SACF,CAAC;QAEF,8EAAa,CAAC,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;IACpD,CAAC;IAED,WAAW,CAAC,IAAsB,EAAE,UAAuB;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAExD,IAAI,OAAO,GAAG,KAAK;aAChB,MAAM,CAAC,OAAO,CAAC;aACf,MAAM,CAAC,IAAI,CAAC;aACZ,SAAS,CAAC,IAAI,CAAC;aACf,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACrC,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACxB,OAAO,GAAG,OAAO;aACd,KAAK,EAAE;aACP,MAAM,CAAC,IAAI,CAAC;aACZ,KAAK,CAAC,OAAO,CAAC;aACd,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;QAEnC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAErB,IAAI,IAAI,GAAG,KAAK;aACb,MAAM,CAAC,OAAO,CAAC;aACf,SAAS,CAAC,IAAI,CAAC;aACf,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACrB,IAAI,GAAG,IAAI;aACR,KAAK,EAAE;aACP,MAAM,CAAC,IAAI,CAAC;aACZ,KAAK,CAAC,IAAI,CAAC,CAAC;QAEf,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YACxC,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;gBACzC,OAAO;oBACL,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;oBACX,IAAI,EAAE,CAAC;iBACR,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACtB,KAAK,GAAG,KAAK;aACV,KAAK,EAAE;aACP,MAAM,CAAC,IAAI,CAAC;aACZ,KAAK,CAAC,KAAK,CAAC,CAAC;QAEhB,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAEzB,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAS,CAAC;YAC5B,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,uBAAuB,CAAC,CAAC;YAE/C,IAAI,IAAI,CAAC,aAAa,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBACjB,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;gBACxC,IAAY,CAAC,SAAS,GAAG,oBAAoB,CAAC;aAChD;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBACjB,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;gBACxC,IAAY,CAAC,SAAS,GAAG,oBAAoB,CAAC;aAChD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,sBAAsB,KAAa;IACjC,OAAO,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AAC7B,CAAC;;;;;;;;;;;;;;;;;;;;ACxZyD;AACnC;AASjB,sBAAwB,SAAQ,uEAAa;IAIjD,YAAY,IAAiB,EAAE,GAAgB;QAC7C,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QAEvB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,IAAU,EAAE,EAAE;YAChD,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;gBACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,CAAC,EAAE,CACT,uBAAuB,EACvB,CAAC,CAAY,EAAE,EAAE;YACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;QAC7C,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,EAAE,CACT,0BAA0B,EAC1B,CAAC,GAAW,EAAE,EAAE;YACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;QAClD,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,uBAAuB,EAAE,CAAC,CAAY,EAAE,EAAE;YACrD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAY,EAAE,EAAE;oBACrB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACpC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,GAAW,EAAE,EAAE;oBACpB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;gBACzC,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;aACjC,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,eAAe,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,0BAA0B,EAAE,CAAC,GAAW,EAAE,EAAE;YACvD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,GAAW,EAAE,EAAE;oBACpB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;gBACzC,CAAC;gBACD,IAAI,EAAE,CAAC,GAAG,CAAC;aACZ,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAY,EAAE,EAAE;oBACrB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACpC,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;aAC/B,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;YAC3C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,iBAAiB,CACpB,qBAAqB,EACrB,CAAC,GAAW,EAAE,EAAE;YACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;QAC7C,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,qBAAqB,EACrB,CAAC,GAAW,EAAE,EAAE;YACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;QAC7C,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,eAAe,EACf,CAAC,CAAY,EAAE,EAAE;YACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,eAAe,EACf,CAAC,GAAW,EAAE,EAAE;YACd,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;QACzC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,kBAAkB,EAClB,CAAC,GAAW,EAAE,EAAE;YACd,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;QACzC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,kBAAkB,EAClB,CAAC,CAAY,EAAE,EAAE;YACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,WAAW,EACX,CAAC,CAAS,EAAE,EAAE;YACZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,WAAW,EACX,CAAC,CAAS,EAAE,EAAE;YACZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,WAAW,EACX,CAAC,CAAS,EAAE,EAAE;YACZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,WAAW,EACX,CAAC,CAAS,EAAE,EAAE;YACZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,GAAc;QACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC;QACtE,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAClD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CACvB,CAAC;QACF,IAAI,KAAK,GAAG,wBAAwB,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,eAAe,CAAC,GAAW;QACzB,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC1C,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;;YAAM,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB,CAAC;IAED,UAAU;QACR,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAClD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CACvB,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,IAAI,CACZ,QAAQ,EACR,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC,EAC/D,eAAe,CAChB,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAClD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CACvB,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;IAC/D,CAAC;CACF;AAED,kCACE,GAAc,EACd,UAAuB;IAEvB,IAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;IAC3B,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;QACtB,IAAI,GAAG,GAAQ,EAAE,CAAC;QAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAe,EAAE,EAAE;YACrC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC;IACb,CAAC,CAAC,CAAC;IACH,OAAO;QACL,EAAE,EAAE,GAAG,CAAC,EAAE;QACV,IAAI,EAAE,GAAG,CAAC,IAAI;QACd,GAAG,EAAE,GAAG;QACR,KAAK,EAAE,WAAW,EAAE;KACrB,CAAC;AACJ,CAAC;AAED,+BACE,KAAe,EACf,UAAuB;IAEvB,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;QACtB,IAAI,GAAG,GAAQ,EAAE,CAAC;QAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAe,EAAE,EAAE;YACrC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC;IACb,CAAC,CAAC,CAAC;IACH,OAAO;QACL,EAAE,EAAE,SAAS;QACb,IAAI,EAAE;YACJ,OAAO,EAAE,KAAK,CAAC,MAAM;SACf;QACR,GAAG,EAAE,GAAG;QACR,KAAK,EAAE,WAAW,EAAE;KACrB,CAAC;AACJ,CAAC;AAED,IAAI,WAAW,GAAa,EAAE,CAAC;AAE/B;IACE,IAAI,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxE,IAAI,eAAe,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,MAAM,CAAC;IAChD,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IACrC,OAAO,eAAe,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC;AAED,qBAAqB,KAAa;IAChC,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;QAAE,OAAO;IAC3C,IAAI,GAAG,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACrC,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AAC7B,CAAC;AAEM,MAAM,SAAS,GAAG;IACvB,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;CACV,CAAC;;;;;;;;;;;;;AChSF;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;ACLA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;;ACnB6D;AAErB;AACf;AACF;AAEjB,sBAAuB,IAAiB;IAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,2DAAI,CAAC,CAAC;IAC9B,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACzB,oBAAoB,CAAC,IAAI,CAAC,CAAC;IAC3B,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACzB,iBAAiB,CAAC,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,4BAA4B,IAAiB;IAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QACtC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;AACL,CAAC;AAED,8BAA8B,IAAiB;IAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAC3C,IAAI,CAAC,GAAG,yCACC,CAAC,eAAe,CAAC;aACvB,SAAS,CAAC,QAAQ,CAAC;aACnB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC,CAAC,KAAK,EAAE;aACN,MAAM,CAAC,QAAQ,CAAC;aAChB,KAAK,CAAC,CAAC,CAAC;aACR,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC;aACnB,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC;aACnB,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE;YACjB,OAAO,IAAI,CAAC,SAAS,CAAC,sEAAW,CAAC,SAAS,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC;aACD,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;aACtB,IAAI,CACH,KAAK,EACL,8CAA8C,IAAI,CAAC,SAAS,CAC1D,sEAAW,CAAC,SAAS,EAAE,CACxB,EAAE,CACJ,CAAC;QAEJ,IAAI,EAAE,GAAG,yCAAS,CAAC,eAAe,CAAC,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAU,CAAC,MAAM,EAAE,CAAC;QAC9C,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC7B,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACZ,EAAE,CAAC,MAAM,EAAE,CAAC;IACd,CAAC,CAAC,CAAC;AACL,CAAC;AAED,2BAA2B,IAAiB;IAC1C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;QACtC,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;QACjC,EAAE,CAAC,SAAS,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACnD,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;QAC5C,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;QACjC,EAAE,CAAC,WAAW,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACrD,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;QAC3C,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;QACjC,EAAE,CAAC,cAAc,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACxD,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;QACzC,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;QACjC,EAAE,CAAC,aAAa,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACvD,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;QAC3C,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;QACjC,EAAE,CAAC,eAAe,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACzD,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;AACL,CAAC;AAED,4BAA4B,IAAiB;IAC3C,IAAI,EAAE,GAAG,sEAAW,CAAC,SAAS,EAAE,CAAC;IACjC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IAC9D,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACtE,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACxE,EAAE,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACrE,EAAE,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACzE,sEAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;AAC5B,CAAC;;;;;;;;;;;;;AC9FD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;ACxCA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;;ACnB6E;AAC7E;;;;;GAKG;AACsB;AAC4B;AACZ;AAC2B;AAG9D,mBAAqB,SAAQ,kEAAQ;IACzC,IAAI,MAAM;QACR,IAAI,CAAE,cAAsB,CAAC,eAAe,CAAC;YAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,+EAAY,EAAE,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC,KAAK,CAAE,cAAsB,CAAC,eAAe,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,EAAU,EAAE,EAAE;YACzC,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CACpB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EACjD,IAAI,CAAC,MAAM,CACZ,CAAC;YACF,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC;gBACpC,IAAI,EAAE,CAAC,EAAE,CAAC;aACX,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,EAAE,CAAC,EAAE,CAAC;aACX,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;YACvC,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CACpB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EACjD,IAAI,CAAC,MAAM,CACZ,CAAC;YACF,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,EAAS;aAChB,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC9C,IAAI,EAAE,CAAC,EAAE,CAAC;aACX,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;YACrC,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CACpB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EACjD,IAAI,CAAC,MAAM,CACZ,CAAC;YACF,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC1C,IAAI,EAAE,EAAS;aAChB,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,CAAC,EAAE,CAAC;aACX,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,iBAAiB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,4DAAI,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEO,iBAAiB;QACvB,IAAI,QAAQ,GAAG,yCAAS,CAAC,cAAc,CAAC,CAAC;QACzC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QACtD,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,QAAQ,CAAC,EAAE,CAAC,QAAQ,EAAE;YACpB,IAAI,EAAE,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YACjC,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,EAAE,CAAC,GAAG,CAAC;aACZ,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC;aACb,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,oBAAoB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB;QACtB,IAAI,SAAS,GAAG,yCAAS,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,yCAAS,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,yCAAS,CAAC,YAAY,CAAC,CAAC;QAExC,IAAI,YAAY,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC/D,IAAI,aAAa,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAEhE,YAAY;aACT,MAAM,CAAC,sBAAsB,CAAC;aAC9B,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAC/C,aAAa;aACV,MAAM,CAAC,uBAAuB,CAAC;aAC/B,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAEhD,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC/C,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC/C,SAAS,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QACjE,IAAI,CAAC,GAAG,IAAI,CAAC;QAEb,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE;YACrB,IAAI,MAAM,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE/C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpC,IAAI,EAAE,CAAC,MAAM,CAAC;aACf,CAAC;YAEF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpC,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC;aAC3B,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE;YACrB,IAAI,MAAM,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE/C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpC,IAAI,EAAE,CAAC,MAAM,CAAC;aACf,CAAC;YAEF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpC,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC;aAC3B,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE;YACrB,IAAI,IAAI,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAE/C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC9B,IAAI,EAAE,CAAC,IAAI,CAAC;aACb,CAAC;YAEF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC9B,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC;aACvC,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,mBAAmB;QACzB,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,yEAAM,CAAC,CAAC;QACjC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACrB,IAAI,aAAa,GAAG,yCACX,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,gBAAgB,CAAC;aACxB,SAAS,CAAC,aAAa,CAAC;aACxB,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhB,aAAa,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAE9B,IAAI,UAAU,GAAG,aAAa;aAC3B,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;aAC3B,IAAI,CAAC,EAAE,CAAC;aACR,MAAM,CAAC,OAAO,CAAC;aACf,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAE1B,UAAU;aACP,MAAM,CAAC,OAAO,CAAC;aACf,IAAI,CAAC,MAAM,EAAE,YAAY,CAAC;aAC1B,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC;aACrB,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEL,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAM,EAAE,CAAC,EAAE,EAAE;YACnC,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,UAAU,CAAC,IAAI,CAAC,UAAS,CAAC;gBACxB,IACE,yCACS,CAAC,IAAI,CAAC;qBACZ,MAAM,CAAC,OAAO,CAAC;qBACf,QAAQ,CAAC,SAAS,CAAC,KAAK,IAAI;oBAE/B,OAAO,GAAG,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;YAEH,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;gBACjC,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YAEF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;gBACjC,IAAI,EAAE,CAAC,OAAO,CAAC;aAChB,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,aAAa,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACtC,OAAO,IAAI,CAAC,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,0BAA0B;QAChC,IAAI,IAAI,CAAC,MAAM,CAAC,qBAAqB,KAAK,8EAAW,CAAC,IAAI,EAAE;YAC1D,yCAAS,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAClC;aAAM;YACL,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,4DAAI,CAAC,CAAC;SACjC;QAED,IAAI,UAAU,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QACpE,IAAI,WAAW,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QAEtE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,8EAAW,CAAC,CAAC;QAC1C,IAAI,iBAAiB,GAAG,yCACf,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,oBAAoB,CAAC;aAC5B,SAAS,CAAC,gBAAgB,CAAC;aAC3B,IAAI,CAAC,UAAU,CAAC,CAAC;QACpB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAEnD,iBAAiB,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAClC,iBAAiB;aACd,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;aAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACb,OAAO,CAAC,CAAC;QACX,CAAC,CAAC;aACD,EAAE,CAAC,OAAO,EAAE,CAAC,CAAM,EAAE,CAAC,EAAE,EAAE;YACzB,IAAI,OAAO,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;YAEhC,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC3C,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YAEF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC3C,IAAI,EAAE,CAAC,OAAO,CAAC;aAChB,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,uBAAuB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEL,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5E,IAAI,kBAAkB,GAAG,yCAChB,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,qBAAqB,CAAC;aAC7B,SAAS,CAAC,gBAAgB,CAAC;aAC3B,IAAI,CAAC,UAAU,CAAC,CAAC;QAEpB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QAErD,kBAAkB,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAEnC,kBAAkB;aACf,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;aAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACb,OAAO,CAAC,CAAC;QACX,CAAC,CAAC;aACD,EAAE,CAAC,OAAO,EAAE,CAAC,CAAM,EAAE,CAAC,EAAE,EAAE;YACzB,IAAI,OAAO,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;YACjC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;YACxC,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,CAAC,OAAO,CAAC;aAChB,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,wBAAwB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAClE,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,cAAc;QACpB,IAAI,YAAY,GAAG,yCAAS,CAAC,sBAAsB,CAAC,CAAC;QACrD,IAAI,aAAa,GAAG,yCAAS,CAAC,uBAAuB,CAAC,CAAC;QACvD,IAAI,CAAC,GAAG,IAAI,CAAC;QACb,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE;YACxB,IAAI,OAAO,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEhD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjC,IAAI,EAAE,CAAC,OAAO,CAAC;aAChB,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjC,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;aAC9B,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,aAAa,CAAC,EAAE,CAAC,QAAQ,EAAE;YACzB,IAAI,OAAO,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEhD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,IAAI,EAAE,CAAC,OAAO,CAAC;aAChB,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,IAAI,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC;aAC/B,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,oBAAoB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,UAAU,CAAC,MAAoB,EAAE,SAAkB,IAAI;QAC5D,cAAsB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAClE,IAAI,MAAM;YAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5D,CAAC;IAED,qBAAqB,CAAC,CAAM;QAC1B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,qBAAqB,GAAgB,8EAAW,CAAC,CAAC,CAAC,CAAC;QACvD,IAAI,EAAE,CAAC,sBAAsB,KAAK,EAAE,CAAC,qBAAqB,EAAE;YAC1D,EAAE,CAAC,sBAAsB,GAAG,8EAAW,CAAC,IAAI,CAAC;SAC9C;QACD,IAAI,EAAE,CAAC,qBAAqB,KAAK,8EAAW,CAAC,IAAI;YAC/C,EAAE,CAAC,sBAAsB,GAAG,8EAAW,CAAC,IAAI,CAAC;QAC/C,IACE,EAAE,CAAC,qBAAqB,KAAK,8EAAW,CAAC,IAAI;YAC7C,EAAE,CAAC,MAAM,KAAK,yEAAM,CAAC,GAAG;YAExB,EAAE,CAAC,MAAM,GAAG,yEAAM,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,sBAAsB,CAAC,CAAM;QAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,sBAAsB,GAAgB,8EAAW,CAAC,CAAC,CAAC,CAAC;QAExD,IACE,EAAE,CAAC,sBAAsB,KAAK,8EAAW,CAAC,IAAI;YAC9C,EAAE,CAAC,MAAM,KAAK,yEAAM,CAAC,GAAG;YAExB,EAAE,CAAC,MAAM,GAAG,yEAAM,CAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,WAAW,CAAC,CAAM;QAChB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,MAAM,GAAW,yEAAM,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,iBAAiB,CAAC,CAAS;QACzB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,kBAAkB,CAAC,CAAS;QAC1B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,aAAa,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,oBAAoB,CAAC,CAAS;QAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,oBAAoB,CAAC,CAAS;QAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,cAAc,CAAC,CAAU;QACvB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,qBAAqB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,cAAc,CAAC,EAAU;QACvB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,qBAAqB,GAAG,8EAAW,CAAC,IAAI,CAAC;QAC5C,EAAE,CAAC,sBAAsB,GAAG,8EAAW,CAAC,IAAI,CAAC;QAC7C,EAAE,CAAC,MAAM,GAAG,yEAAM,CAAC,GAAG,CAAC;QACvB,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,gBAAgB,CAAC,EAAgB;QAC/B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,gBAAgB,CAAC,GAAY;QAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,WAAW,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,sBAAsB;QACpB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,MAAM,GAAG,yEAAM,CAAC,WAAW,CAAC;QAC/B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,wBAAwB,CAAC,EAAgB;QACvC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,oBAAoB;QAClB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,EAAE,CAAC,MAAM,GAAG,yEAAM,CAAC,SAAS,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,sBAAsB,CAAC,EAAgB;QACrC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;CACF;;;;;;;;;;;;;;;;;;;;AC5cyD;AAEnC;AAC6C;AAE9D,wBAA0B,SAAQ,uEAAa;IACnD,IAAI,MAAM;QACR,IAAI,CAAE,cAAsB,CAAC,eAAe,CAAC;YAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,+EAAY,EAAE,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC,KAAK,CAAE,cAAsB,CAAC,eAAe,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,YAAY,IAAmB,EAAE,GAAgB;QAC/C,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,MAAoB,EAAE,EAAE;YACtD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,EAAU,EAAE,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;YACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;YACpC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE;YAChC,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;YACrB,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CACpB,uBAAuB,EACvB,IAAI,CAAC,qBAAqB,EAC1B,IAAI,CACL,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,wBAAwB,EACxB,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CACL,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC1E,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QAC5E,IAAI,CAAC,iBAAiB,CACpB,sBAAsB,EACtB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CACL,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,sBAAsB,EACtB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CACL,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,iBAAiB,CACpB,mBAAmB,EACnB,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CACL,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAC3E,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;QAE1E,wBAAwB;QACxB,IAAI,CAAC,iBAAiB,CACpB,uBAAuB,EACvB,IAAI,CAAC,qBAAqB,EAC1B,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,wBAAwB,EACxB,IAAI,CAAC,sBAAsB,EAC3B,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,iBAAiB,CACpB,mBAAmB,EACnB,IAAI,CAAC,iBAAiB,EACtB,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,oBAAoB,EACpB,IAAI,CAAC,kBAAkB,EACvB,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,sBAAsB,EACtB,IAAI,CAAC,oBAAoB,EACzB,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,sBAAsB,EACtB,IAAI,CAAC,oBAAoB,EACzB,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC3E,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACxE,IAAI,CAAC,iBAAiB,CACpB,mBAAmB,EACnB,IAAI,CAAC,wBAAwB,EAC7B,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,iBAAiB,EACjB,IAAI,CAAC,sBAAsB,EAC3B,IAAI,EACJ,KAAK,CACN,CAAC;QACF,IAAI,CAAC,iBAAiB,CACpB,oBAAoB,EACpB,IAAI,CAAC,gBAAgB,EACrB,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;YAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,UAAU,CAAC,MAAoB,EAAE,SAAkB,IAAI;QAC5D,cAAsB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAClE,IAAI,MAAM;YAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5D,CAAC;CACF;;;;;;;;;;;;;AChJD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,O;;;;;;;;;;;;AC/GA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;ACnBA;AAAA;;;;;GAKG;AACsB;AAC0B;AAET;AAGpC,gBAAkB,SAAQ,kEAAQ;IAEtC,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,yDAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAC5C,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,YAAY,CAAC;aACpB,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YAChB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,QAAe;QACpB,IAAI,gBAAgB,GAAG,yCACd,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,0BAA0B,CAAC;aAClC,SAAS,CAAC,GAAG,CAAC;aACd,IAAI,CAAC,QAAQ,CAAC;aACd,KAAK,EAAE;aACP,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,CAAC,CAAM,EAAE,CAAS,EAAE,EAAE;YAC1B,OAAO,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,QAAQ,UAAU,CAAC,CAAC,cAAc,cAAc,CAAC;QAC1E,CAAC,CAAC;aACD,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;aAC9B,EAAE,CAAC,OAAO,EAAE,CAAC,CAAM,EAAE,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEL,IAAI,EAAE,GAAiB,IAAI,CAAC;QAC5B,IAAI,CAAC,GAAiB,IAAI,CAAC;QAC3B,IAAI,cAAc,CAAC,eAAe,CAAC,EAAE;YACnC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC;SAClD;QACD,IAAI,EAAE,EAAE;YACN,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC;SACpB;QAED,IAAI,CAAC,CAAC,EAAE;YACN,CAAC,GAAG,gBAAgB;iBACjB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBACf,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC;iBACD,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;SACd;QACD,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;SACrC;IACH,CAAC;IAED,MAAM,CAAC,IAAkB;QACvB,yCAAS,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAClC,GAAG,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,UAAU,IAAI,CAAC,cAAc,cAAc,CAC1E,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;ACvEwC;AACzC;;;;;GAKG;AACoE;AACd;AAIlC;AACjB,qBAAuB,SAAQ,uEAAa;IAEhD,YAAY,IAAgB,EAAE,GAAgB,EAAE,UAAkB;QAChE,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAFZ,aAAQ,GAAmB,EAAE,CAAC;QAGnC,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;QAEzC,4CAA4C;QAC5C,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE;YAC7B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE;YACvC,IAAI,CAAC,UAAU,GAAG,OAAO;YACzB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,wBAAwB,EAAE,CAAC,CAAC,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,wBAAwB,EAAE,CAAC,CAAM,EAAE,EAAE;YAChD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;gBACtC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;gBACtC,CAAC;gBACD,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC;aACxB,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CACpB,gBAAgB,EAChB,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,gBAAgB,EAChB,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;IACJ,CAAC;IAED,iCAAiC;QAC/B,IAAI,OAAO,GAAmB,EAAE,CAAC;QACjC,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,kDAAS,gBAAgB,CAAC;aACxC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aAC/B,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;gBAC1B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;aACD,IAAI,CAAC,GAAG,EAAE;YACT,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAClB,IAAI,CAAC,GAAiB,kEAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAClD,CAAC,CAAC,IAAI,GAAG,GAAG,kDAAS,oBAAoB,CAAC,CAAC,IAAI,EAAE,CAAC;gBAClD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kEAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;aACD,IAAI,CAAC,GAAG,EAAE;YACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uBAAuB,CAAC,UAAkB;QACxC,IAAI,OAAO,GAAmB,EAAE,CAAC;QACjC,IAAI,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;aACtB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aAC/B,IAAI,CAAC,QAAQ,CAAC,EAAE;YACf,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAS,EAAE,EAAE;gBAC7B,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;gBACzC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;aACD,IAAI,CAAC,GAAG,EAAE;YACT,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;iBACjB,IAAI,CAAC,CAAC,CAAC,EAAE;gBACR,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;oBACZ,IAAI,CAAC,GAAiB,kEAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;oBAClD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kEAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,IAAI,CAAC,GAAG,EAAE;gBACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;CACF;;;;;;;;;;;;;AC9GD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iFAAiF;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,O;;;;;;;;;;;;ACxDA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;ACnBA;AAAA;;;;;GAKG;AACsB;AAC8C;AACzB;AACoB;AAE5D,oBAAsB,SAAQ,kEAAQ;IAC1C,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,IAAI,GAAG,yCAAS,CAAC,kBAAkB,CAAC,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,6DAAQ,CAAC,CAAC;QAEpB,uBAAuB;QACvB,yBAAyB;QACzB,yBAAyB;QACzB,oCAAoC;QACpC,QAAQ;QAER,uBAAuB;QACvB,yBAAyB;QACzB,yBAAyB;QACzB,oCAAoC;QACpC,QAAQ;QAER,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAChC,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEhC,OAAO;QACP,mBAAmB;QACnB,qCAAqC;QACrC,0BAA0B;QAC1B,0BAA0B;QAC1B,0BAA0B;QAE1B,OAAO;QACP,mBAAmB;QACnB,qCAAqC;QACrC,0BAA0B;QAC1B,0BAA0B;QAC1B,0BAA0B;QAE1B,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,yCAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE;YACnC,IAAI,wCAAQ,CAAC,IAAI,KAAK,WAAW;gBAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1D,IAAI,wCAAQ,CAAC,IAAI,KAAK,YAAY;gBAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,KAAuB;QAC5B,yEAAa,CAAC,yCAAS,CAAC,kBAAkB,CAAC,EAAE,KAAK,CAAC,CAAC;QACpD,6EAA6E;IAC/E,CAAC;CACF;;;;;;;;;;;;;;;;;ACnED;AAAA;AAAA;;;;;GAKG;AAMgC;AAEZ;AAEjB,yBAA2B,SAAQ,uEAAa;IACpD,YAAY,IAAoB,EAAE,GAAgB;QAChD,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,MAAM;QACH,MAAc,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,KAAK,MAAM;YAAE,OAAO;QACpD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAqB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO;QACzD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACvE,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,IAAI,CAAC,EAAU;QACb,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,SAAS;QACP,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CACpC,yEAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC,KAAY,CAAC,CAChE,CAAC;IACJ,CAAC;IAED,SAAS;QACP,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,yEAAe,CAAC,sBAAsB,CACrD,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACpC,CAAC;CACF;;;;;;;;;;;;;ACjED;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;ACbA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;ACjByB;AAEnB,uBAAwB,EAAe,EAAE,KAAuB;IACpE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IACnD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAEnD,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;QACvC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;KACnD;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,KAAK,MAAM,EAAE;QAClC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;KACnD;AACH,CAAC;AAEK,qBACJ,EAAe,EACf,KAAuB,EACvB,IAAU;IAEV,MAAM,CAAC,EAAE,CAAC,CAAC;IAEX,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAClC,IAAI,CAAC,GAAI,EAAE,CAAC,IAAI,EAAU,CAAC,qBAAqB,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC;IAE/D,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,KAAK,GAAG,GAAG,CAAC;IAChB,IAAI,OAAO,GAAG,uCAAO,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;IAE9C,IAAI,IAAI,GAAG,4CAAY,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE;QACtC,OAAO,CAAC,CAAC,QAAQ,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;IAE1B,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IAE9B,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IAC9B,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B,wBAAwB,CAAC,IAAI,CAAC,CAAC;IAC/B,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AAC1C,CAAC;AAED,yBAAyB,IAAiB,EAAE,OAAe;IACzD,IAAI;SACD,MAAM,CAAC,QAAQ,CAAC;SAChB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;SACZ,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;QACjB,IAAK,CAAC,CAAC,IAAY,CAAC,EAAE,KAAK,OAAO,EAAE;YAClC,OAAO,SAAS,CAAC;SAClB;QACD,OAAO,EAAE,CAAC;IACZ,CAAC,CAAC,CAAC;IACL,IAAI;SACD,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;SACpB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;QACb,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/B,CAAC,CAAC;SACD,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE;QACxB,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC;IACtC,CAAC,CAAC;SACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACb,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,CAAC;AACP,CAAC;AAED,kCAAkC,IAAiB;IACjD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE;QACzB,OAAO,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;IACrC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,yBAAyB,IAAiB,EAAE,IAAU;IACpD,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACxB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAG,CAAC,CAAC,IAAY,CAAC,EAAE,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC;AACL,CAAC;AAED,kBAAkB,CAAc,EAAE,KAAgC;IAChE,OAAO,CAAC;SACL,SAAS,CAAC,OAAO,CAAC;SAClB,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;SACzB,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;QACjB,OAAO,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;IAC9D,CAAC,CAAC,CAAC;AACP,CAAC;AAED,kBAAkB,CAAc,EAAE,KAAgC;IAChE,OAAO,CAAC;SACL,SAAS,CAAC,OAAO,CAAC;SAClB,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SAClC,KAAK,EAAE;SACP,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;QACb,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;kBACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;kBAC9B,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC;kBACrC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;IAC1C,CAAC,CAAC,CAAC;AACP,CAAC;AAED,gBAAgB,EAAe;IAC7B,IAAI,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvD,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAC5B,WAAW;SACR,KAAK,EAAE;SACP,MAAM,CAAC,KAAK,CAAC;SACb,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;SAC1B,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,KAAK,CAAC,WAAW,CAAC;SAClB,IAAI,CAAC,EAAE,CAAC;SACR,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;SAC5B,IAAI,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;AAC3C,CAAC;;;;;;;;;;;;;;;;;;;;ACvHD;AAAA;;;;;GAKG;AACsB;AAC4B;AAIZ;AAEG;AACkB;AAGxD,mBAAqB,SAAQ,kEAAQ;IAEzC,YAAY,IAAiB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,SAAS,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,gBAAgB,GAAG,IAAI,CAAC,SAAS;aAClC,MAAM,CAAC,KAAK,CAAC;aACb,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QACpC,gBAAgB,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,GAAG,EAAE;YACnC,gBAAgB,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,4DAAM,CAAC,kBAAkB,IAAI,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QACH,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,GAAG,4DAAI,CAAC,CAAC;QAEtD,8CAA8C;QAC9C,mBAAmB;QACnB,uCAAuC;QAEvC,oEAAoE;QACpE,+BAA+B;QAC/B,uDAAuD;QACvD,KAAK;QACL,yEAAyE;QAEzE,kEAAkE;QAElE,0DAA0D;QAC1D,4DAA4D;QAE5D,mBAAmB;QACnB,iCAAiC;QACjC,gCAAgC;QAChC,gDAAgD;QAChD,wCAAwC;QACxC,yCAAyC;QACzC,0CAA0C;QAC1C,aAAa;QACb,0CAA0C;QAC1C,yCAAyC;QACzC,MAAM;QACN,MAAM;IACR,CAAC;IAED,MAAM,CAAC,IAAU;QACf,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS;aAC1B,MAAM,CAAC,kBAAkB,CAAC;aAC1B,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAEjC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS;aACzB,MAAM,CAAC,kBAAkB,CAAC;aAC1B,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAEjC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9B,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SACnC;aAAM;YACL,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YACnC,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SACtD;QAED,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS;aAC9B,MAAM,CAAC,kBAAkB,CAAC;aAC1B,MAAM,CAAC,4BAA4B,CAAC,CAAC;QAExC,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS;aAC7B,MAAM,CAAC,kBAAkB,CAAC;aAC1B,MAAM,CAAC,2BAA2B,CAAC,CAAC;QAEvC,IAAI,oBAAoB,GAAG,IAAI,CAAC,UAAU;aACvC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,yEAAW,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5C,MAAM,CACL,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAClE,CAAC;QACJ,IAAI,oBAAoB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,YAAY,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SACvC;aAAM;YACL,YAAY,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YACvC,IAAI,CAAC,8BAA8B,CAAC,WAAW,EAAE,oBAAoB,CAAC,CAAC;SACxE;IACH,CAAC;IAED,qBAAqB,CAAC,GAAgB,EAAE,IAAW;QACjD,IAAI,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAExB,OAAO;aACJ,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,KAAK,CAAC,OAAO,CAAC;aACd,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;aAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACb,OAAO,CAAC,CAAC,WAAW,CAAC;QACvB,CAAC,CAAC;aACD,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAA8B,CAAC,GAAgB,EAAE,IAAiB;QAChE,IAAI,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACxB,OAAO;aACJ,KAAK,EAAE;aACP,MAAM,CAAC,KAAK,CAAC;aACb,KAAK,CAAC,OAAO,CAAC;aACd,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC;aAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;aACjB,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;YACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACP,CAAC;CACF;;;;;;;;;;;;;;;;;AClID;AAAA;AAAA;;;;;GAKG;AACuD;AAKpC;AAGhB,wBAA0B,SAAQ,uEAAa;IAEnD,YAAY,IAAmB,EAAE,GAAgB;QAC/C,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAFZ,aAAQ,GAAmB,EAAE,CAAC;QAGnC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAEtD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE;YACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CACpB,SAAS,EACT,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC9B,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,SAAS,EACT,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,eAAe,EACf,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,eAAe,EACf,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,CAAC,CAAM,EAAE,EAAE;YACzC,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAC9B,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,uBAAuB,EAAE,CAAC,CAAY,EAAE,EAAE;YACrD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACpC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACpC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,eAAe,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAU;QACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACjC,CAAC;CACF;;;;;;;;;;;;;AC9FD;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;ACnBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;;;;;;;;;;ACrBA;AAAA;;;;;GAKG;AACsB;AAC4B;AAG9B;AACc;AAOP;AACG;AAG3B,eAAiB,SAAQ,kEAAQ;IAerC,YAAY,IAAiB,EAAE,MAAmB;QAChD,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,GAAG,yCAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,wDAAI,CAAC,CAAC;QAE9B,IAAI,CAAC,GAAG,GAAG,yCACF,CAAC,IAAI,CAAC,IAAI,CAAC;aACjB,MAAM,CAAC,MAAM,CAAC;aACd,MAAM,CAAC,KAAK,CAAC,CAAC;QAEjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAChE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW;aAClC,MAAM,CAAC,GAAG,CAAC;aACX,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,WAAW;aAC3C,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;QACzC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,WAAW;aAC1C,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,yBAAyB,CAAC,CAAC;QAC5C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW;aACnC,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW;aACrC,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;QAEtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG;aACtB,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;aACrB,IAAI,CAAC,WAAW,EAAE,eAAe,kDAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC;QACnE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS;aACjC,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;IACvC,CAAC;IAED,MAAM,CAAC,IAAU;QACf,IAAI,WAAW,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC;QAEhD,0EAAc,CACZ,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,sBAAsB,EAC3B,sCAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE;YACpB,OAAO,CAAC,CAAC,OAAO,CAAC;QACnB,CAAC,CAAC,EACF,IAAI,CAAC,IAAI,CACV,CAAC;QAEF,yEAAa,CACX,IAAI,EACJ,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,IAAI,CACV,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YAC/C,gFAAoB,CAClB,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,sCAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAChD,IAAI,CAAC,qBAAqB,EAC1B,IAAI,CAAC,IAAI,CACV,CAAC;SACH;QAED,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;YAC7C,+EAAmB,CACjB,IAAI,CAAC,cAAc,EACnB,sCAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,EACrE,IAAI,CAAC,IAAI,CACV,CAAC;SACH;QAED,IAAI,IAAI,EAAE;YACR,+EAAmB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7D;QAED,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,SAAS,CAAC,CAAC;QAE1E,IAAY,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC7C,CAAC;CACF;;;;;;;;;;;;;;;;;ACnHyD;AAKpD,oBAAsB,SAAQ,uEAAa;IAC/C,YAAY,IAAe,EAAE,GAAgB;QAC3C,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAChB,IAAY,CAAC,GAAG,GAAG,GAAG,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,uBAAuB,EAAE,CAAC,CAAM,EAAE,EAAE;YAC/C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;YAChD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAEtD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,EAAU,EAAE,EAAE;YACzC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;YACvC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;YACrC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAM,EAAE,EAAE;YACxC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CACpB,YAAY,EACZ,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,YAAY,EACZ,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC9B,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,kBAAkB,EAClB,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,iBAAiB,CACpB,kBAAkB,EAClB,CAAC,CAAM,EAAE,EAAE;YACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC,EACD,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,CAAM,EAAE,EAAE;YAC5C,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAC9B,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,0BAA0B,EAAE,CAAC,CAAY,EAAE,EAAE;YACxD,IAAI,GAAG,GAAG;gBACR,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;gBACvC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,KAAK,GAAG;gBACV,IAAI,EAAE,CAAC,CAAM,EAAE,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;gBACpC,CAAC;gBACD,IAAI,EAAE,CAAC,CAAC,CAAC;aACV,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE;YAC/B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;YAC3C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAU;QACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACjC,CAAC;CACF;;;;;;;;;;;;;ACpHD;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;;;;;ACZ8C;AACrB;AAE0B;AAM5C,MAAM,WAAW,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC;AACzD,MAAM,aAAa,GAAG,qBAAqB,CAAC;AAE5C,mGAAmG;AAC7F,wBACJ,IAAW,EACX,EAAe,EACf,UAAkB,EAClB,IAAU;IAEV,aAAa,CAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;IAC1C,aAAa,CAAC,IAAI,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;AAChC,CAAC;AAED,uBACE,IAAW,EACX,EAAe,EACf,UAAkB,EAClB,IAAU;IAEV,IAAI,cAAc,GAAG,EAAE,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAEjE,cAAc,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAE/B,IAAI,QAAQ,GAAG,cAAc;SAC1B,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;SACjC,KAAK,CAAC,cAAc,CAAC;SACrB,SAAS,CAAC,SAAS,CAAC;SACpB,IAAI,CAAC,IAAI,CAAC,CAAC;IACd,QAAQ;SACL,IAAI,EAAE;SACN,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,MAAM,EAAE,CAAC;IAEZ,IAAI,OAAO,GAAG,QAAQ;SACnB,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,QAAQ,CAAC;SACf,IAAI,CAAC,EAAE,CAAC;SACR,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAE3B,OAAO;SACJ,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,OAAO,aAAa,kDAAM,CAAC,YAAY,GAAG,CAAC,MAAM,CAAC;IACpD,CAAC,CAAC,CAAC;IAEL,OAAO;SACJ,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACpB,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC,CAAC;SACD,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACxB,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC,CAAC;SACD,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACvB,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;IAEL,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC3B,iBAAiB,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;AACzC,CAAC;AAED,2BAA2B,OAAoB;IAC7C,OAAO;SACJ,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,sBAAsB,CAAC;SAC7C,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,YAAY,CAAC;SAClC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,OAAO,yBAAyB,CAAC,EAAE,CAAC;IACtC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,2BAA2B,OAAoB,EAAE,UAAkB;IACjE,IAAI,KAAK,GAAG,8CACE,EAAE;SACb,MAAM,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;SACvB,IAAI,EAAE;SACN,KAAK,CAAC,CAAC,CAAC,EAAE,kDAAM,CAAC,sBAAsB,CAAC,CAAC,CAAC;IAE7C,OAAO;SACJ,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACvB,OAAO,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IAC1B,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,YAAY,CAAC;SAClC,IAAI,CAAC,OAAO,EAAE,qBAAqB,CAAC;SACpC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,OAAO,gBAAgB,kDAAM,CAAC,sBAAsB;YAClD,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC;IACxB,CAAC,CAAC,CAAC;AACP,CAAC;AAED,uBAAuB,IAAW,EAAE,EAAe,EAAE,IAAU;IAC7D,IAAI,cAAc,GAAG,EAAE,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChE,cAAc,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAE/B,IAAI,WAAW,GAAG,cAAc;SAC7B,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,cAAc,CAAC;SACrB,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC;SAChC,IAAI,CAAC,WAAW,EAAE,gBAAgB,kDAAM,CAAC,sBAAsB,GAAG,CAAC;SACnE,SAAS,CAAC,YAAY,CAAC;SACvB,IAAI,CAAC,IAAI,CAAC,CAAC;IACd,WAAW;SACR,IAAI,EAAE;SACN,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,MAAM,EAAE,CAAC;IAEZ,IAAI,UAAU,GAAG,WAAW;SACzB,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,WAAW,CAAC;SAClB,IAAI,CAAC,EAAE,CAAC;SACR,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;SAC1B,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACxB,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC,CAAC;SACD,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACvB,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;IAEL,UAAU;SACP,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,OAAO,aAAa,kDAAM,CAAC,YAAY,GAAG,CAAC,MAAM,CAAC;IACpD,CAAC,CAAC,CAAC;IAEL,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC9B,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC;IAEH,gBAAgB,CAAC,UAAU,CAAC,CAAC;IAC7B,kBAAkB,CAAC,UAAU,CAAC,CAAC;AACjC,CAAC;AAED,0BAA0B,UAAuB;IAC/C,UAAU;SACP,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,OAAO,oBAAoB,CAAC,EAAE,CAAC;IACjC,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,YAAY,CAAC;SAClC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,yBAAyB,CAAC;SAChD,IAAI,CAAC,WAAW,EAAE,SAAS,kDAAM,CAAC,uBAAuB,GAAG,CAAC,CAAC;AACnE,CAAC;AAED,4BAA4B,UAAuB;IACjD,UAAU;SACP,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE;QACf,OAAO,CAAC,CAAC,WAAW,CAAC;IACvB,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;SAC1B,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC;SAC1B,IAAI,CACH,WAAW,EACX,aAAa,kDAAM,CAAC,WAAW;QAC7B,CAAC,kDAAM,CAAC,YAAY;YAClB,IAAI,CAAC,GAAG,CAAC,0DAAO,CAAC,kDAAM,CAAC,uBAAuB,CAAC,CAAC,CAAC;YAClD,CAAC,IAAI,kDAAM,CAAC,yBAAyB,WACvC,kDAAM,CAAC,uBACT,GAAG,CACJ,CAAC;AACN,CAAC;AAED,mGAAmG;AAC7F,8BACJ,SAAiB,EACjB,UAAkB,EAClB,EAAe,EACf,IAAU;IAEV,EAAE,CAAC,IAAI,CACL,WAAW,EACX,aAAa,kDAAM,CAAC,WAAW;QAC7B,kDAAM,CAAC,kBAAkB;QACzB,kDAAM,CAAC,YAAY,KAAK,kDAAM,CAAC,aAAa;QAC5C,kDAAM,CAAC,mBAAmB;QAC1B,kDAAM,CAAC,8BAA8B,GAAG,CAC3C,CAAC;IAEF,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,IAAI,YAAY,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;IACjE,IAAI,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;IAC/D,IAAI,iBAAiB,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;IAC3E,IAAI,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;IACrE,IAAI,gBAAgB,GAAG,EAAE;SACtB,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,yBAAyB,CAAC;SACxC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAChB,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;IAEL,IAAI,aAAa,GAAG,mBAAmB,CAAC,SAAS,EAAE,kDAAM,CAAC,iBAAiB,CAAC,CAAC;IAC7E,eAAe,CAAC,YAAY,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;IAExD,oBAAoB,CAAC,iBAAiB,EAAE,UAAU,EAAE,aAAa,EAAE,IAAI,CAAC,CAAC;IACzE,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;IACjD,mBAAmB,CAAC,gBAAgB,CAAC,CAAC;IACtC,IAAI,YAAY,GAAG,mBAAmB,CAAC,UAAU,EAAE,kDAAM,CAAC,iBAAiB,CAAC,CAAC;IAC7E,aAAa,CAAC,WAAW,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;AACvD,CAAC;AAED,yBAAyB,EAAe,EAAE,KAAc,EAAE,SAAiB;IACzE,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;IAEvC,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IACnD,GAAG;SACA,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC;IAEhC,IAAI,QAAQ,GAAG,oBAAoB,CAAC,SAAS,CAAC,CAAC;IAC/C,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/C,aAAa,CAAC,MAAM,CAAC,CAAC;IAEtB,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;IACzD,MAAM;SACH,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,MAAM,kDAAM,CAAC,WAAW,OAAO,CAAC,CAAC;IAC9C,QAAQ,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,kDAAM,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;AAC5D,CAAC;AAED,8BACE,EAAe,EACf,UAAkB,EAClB,KAAc,EACd,IAAU;IAEV,EAAE,CAAC,IAAI,CACL,WAAW,EACX,aAAa,KAAK,CAAC,UAAU,CAAC,IAAI,kDAAM,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,GAAG,CAChE,CAAC;IAEF,aAAa,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IAE/B,IAAI,MAAM,GAAG,EAAE;SACZ,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,yBAAyB,CAAC;SACxC,IAAI,CAAC,WAAW,EAAE,YAAY,CAAC;SAC/B,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,uBAAuB,CAAC;SAC9C,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,uBAAuB,CAAC,CAAC;AACnD,CAAC;AAED,kBAAkB,EAAe,EAAE,GAAW;IAC5C,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;SAC7B,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,WAAW,CAAC;SAClC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AACxB,CAAC;AAED,6BAA6B,EAAe;IAC1C,IAAI,SAAS,GAAG,EAAE;SACf,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;SACjC,IAAI,CACH,WAAW,EACX,gBAAgB,kDAAM,CAAC,8BAA8B,GAAG,CAAC;QACvD,kDAAM,CAAC,wBAAwB,GAAG,CAAC,GAAG,CACzC,CAAC;IACJ,IAAI,eAAe,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,uBAAuB,CAAC,CAAC;IAC5E,SAAS;SACN,MAAM,CAAC,MAAM,CAAC;SAEd,IAAI,CAAC,OAAO,EAAE,wBAAwB,CAAC;SACvC,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,iBAAiB,CAAC;SACvC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,wBAAwB,CAAC,CAAC;IAEnD,SAAS;SACN,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,aAAa,CAAC;SACnB,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;SAC7B,IAAI,CACH,WAAW,EACX,aAAa,kDAAM,CAAC,iBAAiB,GAAG,CAAC,IACvC,kDAAM,CAAC,sBACT,GAAG,CACJ,CAAC;IAEJ,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;AACpE,CAAC;AAED,8BAA8B,GAAW;IACvC,yCAAS,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IAC9C,yCAAS,CAAC,mBAAmB,CAAC;SAC3B,MAAM,CAAC,oBAAoB,CAAC;SAC5B,IAAI,CACH,GAAG,EACH,KAAK,kDAAM,CAAC,iBAAiB,IAAI,kDAAM,CAAC,8BAA8B;QACpE,kDAAM,CAAC,WAAW,SAAS,kDAAM,CAAC,WAAW,KAAK,GAAG,EAAE,CAC1D,CAAC;AACN,CAAC;AAED,uBAAuB,EAAe,EAAE,KAAc,EAAE,IAAU;IAChE,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,CAAS,EAAE,EAAE;QACpC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACzB,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACtB,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,IAAI,CACL,uCACO,EAAE;SACN,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC;SACtB,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;SACnB,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,CACtB,CAAC;IAEF;QACE,yCAAS,CAAC,IAAI,CAAC;aACZ,KAAK,EAAE;aACP,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC3B,yCAAS,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACrD,yCAAS,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACxD,CAAC;IACD;QACE,IAAI,CAAC,GAAG,wCAAQ,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,kDAAM,CAAC,iBAAiB,EAAE;YACjD,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG;gBAAE,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,kDAAM,CAAC,iBAAiB,CAAC,IAAI,GAAG;gBAC/C,CAAC,GAAG,kDAAM,CAAC,iBAAiB,CAAC;YAC/B,yCAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAClB,WAAW,EACX,aAAa,CAAC,KAAK,kDAAM,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,GAAG,CACjD,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5C;IACH,CAAC;IACD;QACE,yCAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACzC,yCAAS,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACrD,yCAAS,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACxD,CAAC;AACH,CAAC;AAED,4BAA4B,OAAe;IACzC,IAAI,EAAE,GAAG,yCAAS,CAAC,eAAe,CAAC,CAAC;IACpC,IAAI,KAAK,GAAG,mBAAmB,CAAC,OAAO,EAAE,kDAAM,CAAC,iBAAiB,CAAC,CAAC;IACnE,aAAa,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAChD,CAAC;AAED,uBAAuB,EAAe,EAAE,KAAc,EAAE,IAAY;IAClE,EAAE,CAAC,IAAI,CACL,WAAW,EACX,eAAe,kDAAM,CAAC,8BAA8B,GAAG,kDAAM,CAAC,WAAW,GAAG,CAC7E,CAAC;IAEF,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAEZ,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IACnD,GAAG;SACA,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC;IAEhC,IAAI,QAAQ,GAAG,oBAAoB,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/C,aAAa,CAAC,MAAM,CAAC,CAAC;IAEtB,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;IACzD,MAAM;SACH,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,MAAM,kDAAM,CAAC,WAAW,QAAQ,CAAC,CAAC;IAC/C,QAAQ,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,kDAAM,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;AAC5D,CAAC;AAED,kBACE,EAAe,EACf,QAAkB,EAClB,KAAc,EACd,QAAgB,EAChB,WAAmB,CAAC;IAEpB,IAAI,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAElB,IAAI,EAAE,GAAG,CAAC;SACP,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,CAAC,CAAC;SACR,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;SAC3B,IAAI,CAAC,WAAW,EAAE,aAAa,QAAQ,MAAM,CAAC,CAAC;IAElD,IAAI,MAAM,GAAG,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACpD,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACvB,IAAI,KAAK,GAAG,MAAM;SACf,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;SACvB,KAAK,CAAC,MAAM,CAAC;SACb,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,OAAO,aAAa,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,GAAG,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEL,KAAK;SACF,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IACxB,OAAO,KAAK,CAAC;AACf,CAAC;AAED,uBACE,KAAkB,EAClB,kBAA0B,CAAC,EAC3B,SAAiB,EAAE;IAEnB,KAAK;SACF,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;SAC3B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACb,IAAI,CAAC,GAAG,eAAe,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC;IAC1C,CAAC,CAAC;SACD,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;SAC7B,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACxB,CAAC;AAED,8BAA8B,OAAe;IAC3C,IAAI,OAAO,IAAI,EAAE;QAAE,OAAO,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;SACzD,IAAI,OAAO,IAAI,EAAE;QACpB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;SACC,IAAI,OAAO,IAAI,GAAG;QACrB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACtB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;SACC,IAAI,OAAO,IAAI,GAAG;QACrB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACtB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;SACC,IAAI,OAAO,IAAI,IAAI;QACtB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;YACvB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;SACC,IAAI,OAAO,IAAI,IAAI;QACtB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;YACvB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;SACC,IAAI,OAAO,IAAI,IAAI;QACtB,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;YACvB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;;QAEF,OAAO;YACL,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvC,OAAO,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC;YACxB,CAAC,CAAC;YACF,OAAO;SACR,CAAC;AACN,CAAC;AACD,mGAAmG;AAE7F,6BACJ,EAAe,EACf,UAAkB,EAClB,IAAU;IAEV,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,EAAE,CAAC,IAAI,CACL,WAAW,EACX,aAAa,kDAAM,CAAC,WAAW;QAC7B,kDAAM,CAAC,kBAAkB;QACzB,kDAAM,CAAC,iBAAiB;QACxB,kDAAM,CAAC,YAAY,GAAG,CAAC,KAAK,kDAAM,CAAC,aAAa;QAChD,kDAAM,CAAC,mBAAmB;QAC1B,kDAAM,CAAC,4BAA4B;QACnC,CAAC,GAAG,CACP,CAAC;IAEF,iBAAiB,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IAC5B,iBAAiB,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,CAAC;AAED,2BAA2B,EAAe,EAAE,IAAU;IACpD,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,sBAAsB,CAAC;SAC7C,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,eAAe,CAAC;SACrC,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC;SAChC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAChB,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEL,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,WAAW,CAAC;SACjB,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;SAC7B,IAAI,CACH,WAAW,EACX,aAAa,kDAAM,CAAC,eAAe,GAAG,CAAC,KAAK,kDAAM,CAAC,oBAAoB,GAAG,CAC3E,CAAC;AACN,CAAC;AAED,2BAA2B,EAAe,EAAE,OAAe;IACzD,IAAI,KAAK,GAAG,8CACE,EAAE;SACb,MAAM,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SAC3B,KAAK,CAAC,CAAC,CAAC,kDAAM,CAAC,eAAe,GAAG,CAAC,EAAE,kDAAM,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;IAEpE,IAAI,MAAM,GAAa,EAAE,CAAC;IAC1B,IAAI,KAAK,GAAG,CAAC,OAAO,CAAC;IACrB,OAAO,KAAK,IAAI,OAAO,EAAE;QACvB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnB,KAAK,IAAI,CAAC,CAAC;KACZ;IAED,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;IACpD,CAAC,CAAC,IAAI,CACJ,WAAW,EACX,gBAAgB,kDAAM,CAAC,4BAA4B,GAAG,kDAAM,CAAC,WAAW,GAAG,CAC5E,CAAC;IAEF,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;SACb,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;SACrB,IAAI,CACH,GAAG,EACH,MAAM,kDAAM,CAAC,4BAA4B;QACvC,kDAAM,CAAC,WAAW;QAClB,kDAAM,CAAC,mBAAmB,KAAK,kDAAM,CAAC,eAAe,EAAE,CAC1D,CAAC;IAEJ,IAAI,KAAK,GAAG,QAAQ,CAClB,CAAC,EACD,MAAM,EACN,KAAK,EACL,kDAAM,CAAC,WAAW,GAAG,kDAAM,CAAC,mBAAmB,GAAG,CAAC,EACnD,kDAAM,CAAC,eAAe,GAAG,CAAC,CAC3B,CAAC;IAEF,aAAa,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC9B,CAAC;AAED,mGAAmG;AACnG,+BAA+B,UAAuB,EAAE,GAAc;IACpE,IAAK,GAAG,CAAC,IAAc,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;QAC/C,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpB,GAAG,CAAC,IAAc,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YAC5C,qBAAqB,CAAC,UAAU,EAAE;gBAChC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE;gBACpB,IAAI,EAAE,EAAE;aACT,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACrB,IAAI,CAAE,GAAG,CAAC,IAAc,CAAC,WAAW,EAAE;YACpC,IAAI,QAAQ,GAAI,GAAG,CAAC,IAAc,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;gBACrD,OAAO;oBACL,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;oBACnB,IAAI,EAAE,CAAC;iBACR,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,UAAU,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC;SAC9B;KACF;AACH,CAAC;AAEK,uBACJ,IAAU,EACV,EAAe,EACf,YAAoB,EACpB,MAAmB,EACnB,IAAU;IAEV,IAAI,UAAU,GAAgB,EAAE,CAAC;IACjC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QACzE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAC5B,qBAAqB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;KAC9B;IACD,kDAAM,CAAC,gBAAgB,GAAG,kDAAM,CAAC,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC;IAChE,sBAAsB,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;IACzC,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,kDAAM,CAAC,qBAAqB,GAAG,CAAC,CAAC;IACtE,kDAAM,CAAC,kBAAkB,GAAG,kDAAM,CAAC,YAAY,GAAG,YAAY,CAAC;IAC/D,kDAAM,CAAC,SAAS,GAAG,YAAY,CAAC;IAChC,IAAI,IAAiB,CAAC;IACtB,IAAI,MAAmB,CAAC;IACxB,IAAI,OAAoB,CAAC;IAEzB,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe;QAAE,kDAAM,CAAC,iBAAiB,GAAG,CAAC,CAAC;IACpE,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa;QAAE,kDAAM,CAAC,eAAe,GAAG,CAAC,CAAC;IAEhE,yEAAyE;IAEzE,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;IAExD,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC5B,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC1B,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAEtC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,eAAe,EAAE;QACrC,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C;IAED,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE;QACnC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACzC;IAED,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;QAChC,gCAAgC,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,IAAI,CAAC,EAAE;QAC9B,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,CAC9C,IAAI,CAAC,kBAAkB,EACvB,IAAI,CACL,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,EAAE;QACjC,IAAI,CAAC,kBAAkB,GAAG,2BAA2B,CACnD,IAAI,CAAC,kBAAkB,EACvB,IAAI,CACL,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;AACjC,CAAC;AAED,wBACE,MAAmB,EACnB,OAAoB,EACpB,IAAU,IACT,CAAC;AAEJ,gCAAgC,QAAqB,EAAE,IAAe;IACpE,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;QAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5D,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,qCAAqC,QAAqB,EAAE,IAAe;IACzE,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7C,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,oBAAoB;AACpB,gCAAgC,EAAe,EAAE,QAAgB;IAC/D,IAAI,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7D,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACpB,IAAI,eAAe,GAAG,GAAG;SACtB,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,GAAG,CAAC;SACV,IAAI,CAAC,EAAE,CAAC;SACR,IAAI,CAAC,OAAO,EAAE,yBAAyB,CAAC;SACxC,IAAI,CAAC,WAAW,EAAE,aAAa,kDAAM,CAAC,WAAW,MAAM,CAAC,CAAC;IAE5D,IAAI,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;IACtC,IAAI,KAAK,GAAG,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAClE,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACtB,KAAK;SACF,KAAK,EAAE;SACP,MAAM,CAAC,MAAM,CAAC;SACd,KAAK,CAAC,KAAK,CAAC;SACZ,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,OAAO,mBAAmB,CAAC,EAAE,CAAC;IAChC,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,YAAY,CAAC;SAClC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,gBAAgB,CAAC;SACvC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,OAAO,aAAa,kDAAM,CAAC,YAAY,GAAG,CAAC,MAAM,CAAC;IACpD,CAAC,CAAC,CAAC;AACP,CAAC;AAED,iBACE,IAAiB,EACjB,EAAe,EACf,IAAU;IAEV,IAAI,KAAK,GAAG,EAAE;SACX,SAAS,CAAC,MAAM,CAAC;SACjB,IAAI,CAAC,IAAI,EAAE,UAAS,CAAY,EAAE,CAAS;QAC1C,OAAO,CAAC,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,CAAC;IACL,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAEtB,IAAI,IAAI,GAAG,KAAK;SACb,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;SACnB,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK;YAC/B,OAAO,gBAAgB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;QAClD,OAAO,aAAa,kDAAM,CAAC,WAAW,KAAK,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;IACtE,CAAC,CAAC;SACD,KAAK,CAAC,KAAK,CAAC;SACZ,IAAI,CAAC,EAAE,CAAC;SACR,IAAI,CAAC,OAAO,EAAE,CAAC,CAAM,EAAE,CAAC,EAAE,EAAE;QAC3B,OAAO,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAC9B,CAAC,CAAC,CAAC;IAEL,IAAI;SACD,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK;YAC/B,OAAO,gBAAgB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;QAClD,OAAO,aAAa,kDAAM,CAAC,WAAW,KAAK,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;IACtE,CAAC,CAAC;SACD,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;IAEvB,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAE/B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QAC3C,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;IACrD,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;IAElD,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QAC5C,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,MAAM,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;AACjC,CAAC;AAED,4BAA4B,IAAiB,EAAE,IAAU;IACvD,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;QACnB,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;IAEpD,IAAI;SACD,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,uBAAuB,CAAC;SACtC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK;YAC/B,OAAO,aAAa,kDAAM,CAAC,WAAW;gBACpC,kDAAM,CAAC,kBAAkB;gBACzB,kDAAM,CAAC,YAAY,KAAK,CAAC,kDAAM,CAAC,UAAU;gBAC1C,kDAAM,CAAC,sBAAsB,CAAC;gBAC9B,CAAC,GAAG,CAAC;QACT,OAAO,aAAa,kDAAM,CAAC,kBAAkB;YAC3C,kDAAM,CAAC,YAAY,KAAK,CAAC,kDAAM,CAAC,UAAU;YAC1C,kDAAM,CAAC,sBAAsB,CAAC;YAC9B,CAAC,GAAG,CAAC;IACT,CAAC,CAAC,CAAC;IAEL,IAAI;SACD,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,qBAAqB,CAAC;SACpC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1B,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK;YAC/B,OAAO,aAAa,kDAAM,CAAC,WAAW;gBACpC,kDAAM,CAAC,kBAAkB;gBACzB,kDAAM,CAAC,iBAAiB;gBACxB,kDAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,kDAAM,CAAC,UAAU;gBAC7C,kDAAM,CAAC,oBAAoB,CAAC;gBAC5B,CAAC,GAAG,CAAC;;YAEP,OAAO,aAAa,kDAAM,CAAC,kBAAkB;gBAC3C,kDAAM,CAAC,YAAY;gBACnB,kDAAM,CAAC,iBAAiB;gBACxB,kDAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,kDAAM,CAAC,UAAU;gBAC7C,kDAAM,CAAC,oBAAoB,CAAC;gBAC5B,CAAC,GAAG,CAAC;IACX,CAAC,CAAC,CAAC;IAEL,IAAI;SACD,MAAM,CAAC,GAAG,CAAC;SACX,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC;SAChC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE;QACrB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,8DAAO,CAAC,KAAK;YAC/B,OAAO,aAAa,kDAAM,CAAC,WAAW;gBACpC,kDAAM,CAAC,kBAAkB;gBACzB,kDAAM,CAAC,iBAAiB;gBACxB,kDAAM,CAAC,eAAe;gBACtB,kDAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,kDAAM,CAAC,UAAU;gBAC7C,kDAAM,CAAC,oBAAoB,CAAC;gBAC5B,CAAC,GAAG,CAAC;;YAEP,OAAO,aAAa,kDAAM,CAAC,kBAAkB;gBAC3C,kDAAM,CAAC,YAAY;gBACnB,kDAAM,CAAC,iBAAiB;gBACxB,kDAAM,CAAC,eAAe;gBACtB,kDAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,kDAAM,CAAC,UAAU;gBAC7C,kDAAM,CAAC,oBAAoB,CAAC;gBAC5B,CAAC,GAAG,CAAC;IACX,CAAC,CAAC,CAAC;AACP,CAAC;AACD,oBAAoB;AAEpB,oBAAoB;AACpB,sBAAsB,OAAoB,EAAE,IAAU;IACpD,OAAO;SACJ,EAAE,CAAC,WAAW,EAAE;QACf,yCAAS,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,MAAM,CAAC;aACd,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC;SACD,EAAE,CAAC,UAAU,EAAE;QACd,yCAAS,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,MAAM,CAAC;aACd,OAAO,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEL,wBAAwB,CAAC,OAAO,CAAC,CAAC;IAClC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;AACjC,CAAC;AAED,kCAAkC,OAAoB;IACpD,OAAO;SACJ,SAAS,CAAC,oBAAoB,CAAC;SAC/B,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,wBAAwB,CAAC;SACvC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,UAAU,CAAC;SACjC,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,gBAAgB,CAAC,CAAC;AAC5C,CAAC;AAED,qCAAqC,OAAoB;IACvD,OAAO;SACJ,SAAS,CAAC,oBAAoB,CAAC;SAC/B,SAAS,CAAC,MAAM,CAAC;SACjB,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,gBAAgB,CAAC,CAAC;AAC5C,CAAC;AAED,yBAAyB,MAAmB,EAAE,IAAU;IACtD,IAAI,iBAAiB,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;IAExE,iBAAiB,CAAC,IAAI,CAAC,UAAS,CAAY;QAC1C,IAAI,iBAAiB,GAAI,CAAC,CAAC,IAAe,CAAC,YAAY,CAAC;QAExD,IAAI,MAAM,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAE1D,IAAI,UAAU,GAAG,yCACR,CAAC,IAAI,CAAC;aACZ,SAAS,CAAC,iBAAiB,CAAC;aAC5B,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE3B,qBAAqB,CAAC,UAAU,CAAC,CAAC;QAClC,eAAe,CAAC,IAAI,CAAC,CAAC;QAEtB,IAAI,MAAM,GAAG,CAAC,EAAE;YACd,IAAI,KAAK,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,IAAI,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC5C,kBAAkB,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;SACvC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED,+BAA+B,UAAuB;IACpD,UAAU;SACP,IAAI,EAAE;SACN,UAAU,EAAE;SACZ,QAAQ,CAAC,GAAG,CAAC;SACb,MAAM,EAAE,CAAC;IAEZ,UAAU;SACP,KAAK,EAAE;SACP,MAAM,CAAC,QAAQ,CAAC;SAChB,KAAK,CAAC,UAAU,CAAC;SACjB,IAAI,CAAC,GAAG,EAAE,kDAAM,CAAC,mBAAmB,CAAC;SACrC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,UAAU,GAAG,CAAC,CAAC;SACjC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACnB,OAAO,kDAAM,CAAC,YAAY,GAAG,CAAC,GAAG,kDAAM,CAAC,YAAY,GAAG,CAAC,CAAC;IAC3D,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,IAAI,CAAC,KAAK,CAAC;YAAE,OAAO,2BAA2B,CAAC;QAChD,OAAO,uBAAuB,CAAC;IACjC,CAAC,CAAC;SACD,EAAE,CAAC,WAAW,EAAE,UAAS,CAAC,EAAE,CAAC;QAC5B,IAAI,OAAO,GAAI,yCAAS,CAAC,IAAI,CAAC,CAAC,IAAI,EAAU,CAAC,UAAU,CAAC;QACzD,IAAI,IAAI,GAAI,yCAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAU,CAAC,UAAU,CAAC;QACzD,yCAAS,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,MAAM,CAAC;aACd,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;QAEzC,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC,CAAC;SACD,EAAE,CAAC,UAAU,EAAE,UAAS,CAAC,EAAE,CAAC;QAC3B,IAAI,OAAO,GAAI,yCAAS,CAAC,IAAI,CAAC,CAAC,IAAI,EAAU,CAAC,UAAU,CAAC;QACzD,IAAI,IAAI,GAAI,yCAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAU,CAAC,UAAU,CAAC;QACzD,yCAAS,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,MAAM,CAAC;aACd,OAAO,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;QAE1C,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;AACP,CAAC;AAED,4BAA4B,EAAY,EAAE,KAAa,EAAE,IAAY;IACnE,yCAAS,CAAC,EAAE,CAAC;SACV,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;SACjC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,YAAY,GAAG,CAAC,GAAG,kDAAM,CAAC,YAAY,GAAG,KAAK,CAAC;SACjE,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,YAAY,GAAG,CAAC,GAAG,kDAAM,CAAC,YAAY,GAAG,IAAI,CAAC;SAChE,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,UAAU,GAAG,CAAC,CAAC;SACjC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;AACvC,CAAC;AAED,yBAAyB,EAAY;IACnC,yCAAS,CAAC,EAAE,CAAC;SACV,EAAE,CAAC,WAAW,EAAE,UAAS,CAAY;QACnC,CAAC,CAAC,IAAe,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,GAAG,KAAK,CAAC;gBAAE,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;SACD,EAAE,CAAC,UAAU,EAAE,UAAS,CAAY,EAAE,CAAC;QACrC,CAAC,CAAC,IAAe,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;YACjD,4CAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACP,CAAC;AACD,oBAAoB;AAEpB,oBAAoB;AACpB,qBAAqB,MAAmB,EAAE,IAAU;IAClD,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACpC,uBAAuB,CAAC,MAAM,CAAC,CAAC;IAChC,cAAc,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,+BAA+B,MAAmB,EAAE,IAAU;IAC5D,IAAI,QAAQ,GAAG,MAAM;SAClB,SAAS,CAAC,mBAAmB,CAAC;SAC9B,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;SACjC,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE;QACf,IAAK,CAAC,CAAC,IAAc,CAAC,WAAW;YAAE,OAAO,SAAS,CAAC;QACpD,OAAO,SAAS,CAAC;IACnB,CAAC,CAAC;SACD,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrC,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,IAAI,CAAC;YAC9B,OAAO,iBAAiB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;QACnD,OAAO,gBAAgB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;IAClD,CAAC,CAAC,CAAC;IAEL,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IAEpC,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAY,EAAE,EAAE;QACpC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QAC/B,wCAAQ,CAAC,eAAe,EAAE,CAAC;IAC7B,CAAC,CAAC,CAAC;AACL,CAAC;AAED,iCAAiC,MAAmB;IAClD,MAAM;SACH,SAAS,CAAC,oBAAoB,CAAC;SAC/B,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,uBAAuB,CAAC;SACtC,OAAO,CAAC,wBAAwB,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrD,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QAC/C,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;SACD,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,UAAU,CAAC;SACjC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAY,EAAE,EAAE;QAC9B,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,KAAK,CAAC;YAAE,OAAO,kDAAM,CAAC,eAAe,GAAG,EAAE,CAAC;QACtE,OAAO,kDAAM,CAAC,eAAe,CAAC;IAChC,CAAC,CAAC;SACD,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,EAAE;QAClC,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,KAAK,CAAC;YAAE,OAAO,kBAAkB,CAAC;QAC7D,OAAO,gBAAgB,CAAC;IAC1B,CAAC,CAAC;SACD,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SACb,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AACpB,CAAC;AAED,oCAAoC,MAAmB;IACrD,MAAM;SACH,SAAS,CAAC,oBAAoB,CAAC;SAC/B,SAAS,CAAC,MAAM,CAAC;SACjB,IAAI,CAAC,OAAO,EAAE,CAAC,CAAY,EAAE,EAAE;QAC9B,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,KAAK,CAAC;YAAE,OAAO,kDAAM,CAAC,eAAe,GAAG,EAAE,CAAC;QACtE,OAAO,kDAAM,CAAC,eAAe,CAAC;IAChC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,wBAAwB,MAAmB;IACzC,MAAM;SACH,SAAS,CAAC,gBAAgB,CAAC;SAC3B,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;SAC9B,IAAI,CAAC,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACxB,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC,CAAC;SACD,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrC,IAAK,CAAC,CAAC,IAAc,CAAC,KAAK,KAAK,CAAC;YAC/B,OAAO,iBAAiB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;QACnD,OAAO,iBAAiB,kDAAM,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;IACnD,CAAC,CAAC,CAAC;AACP,CAAC;AACD,oBAAoB;AAEpB,oBAAoB;AACpB,4BAA4B,IAAiB,EAAE,IAAiB;IAC9D,IAAI,aAAa,GAAG,sCAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC1D,IAAI,KAAK,GAAG,mBAAmB,CAAC,aAAa,EAAE,kDAAM,CAAC,iBAAiB,CAAC,CAAC;IACzE,IAAI,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;IACjE,qBAAqB,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;AAClD,CAAC;AAED,+BAA+B,SAAiB;IAC9C,IAAI,KAAK,GAAG,mBAAmB,CAAC,SAAS,EAAE,kDAAM,CAAC,iBAAiB,CAAC,CAAC;IACrE,IAAI,EAAE,GAAG,4CAAY,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;IAClE,qBAAqB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AACnC,CAAC;AAED,+BAA+B,EAAe,EAAE,KAAc;IAC5D,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,EAAE,CAAC,IAAI,CAAC,UAAS,CAAY,EAAE,CAAC;QAC9B,IAAI,CAAC,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,kDAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAC5D,IAAI,GAAG,GAAG,KAAK,GAAG,kDAAM,CAAC,iBAAiB,CAAC;QAE3C,IAAI,GAAG,GAAG,KAAK,CAAC;QAChB,IAAI,IAAI,GAAG,CAAC,EAAE;YACZ,GAAG,GAAG,IAAI,CAAC;YACX,IAAI,GAAG,CAAC,CAAC;YACT,GAAG,GAAG,CAAC,CAAC;SACT;QAED,IAAI,MAAM,GAAG,kDAAM,CAAC,cAAc,CAAC;QAEnC,IAAI,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACvE,EAAE,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACnB,EAAE,CAAC,KAAK,EAAE;aACP,MAAM,CAAC,MAAM,CAAC;aACd,KAAK,CAAC,EAAE,CAAC;aACT,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACtB,OAAO,kCAAkC,CAAC,EAAE,CAAC;QAC/C,CAAC,CAAC;aACD,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACtB,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI;gBAAE,OAAO,GAAG,CAAC;YAC/B,OAAO,kDAAM,CAAC,iBAAiB,CAAC;QAClC,CAAC,CAAC;aACD,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACvB,IAAI,MAAM,GAAG,kDAAM,CAAC,sBAAsB,GAAG,MAAM,GAAG,CAAC,CAAC;YACxD,IAAI,MAAM,GAAG,CAAC;gBAAE,OAAO,CAAC,CAAC;YACzB,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC;aACD,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,OAAO,gBAAgB,CAAC,CAAC,kDAAM,CAAC,sBAAsB,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBACnE,CAAC,GAAG,CAAC;QACT,CAAC,CAAC,CAAC;QAEL,IAAI,GAAG,EAAE;YACP,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;iBACb,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;iBAC1B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;iBACb,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,sBAAsB,CAAC;iBACzC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC;iBACzC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC;YAE7C,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;iBACb,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;iBAC1B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;iBACb,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,sBAAsB,CAAC;iBACzC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC;iBACzC,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC;SAC9C;QAED,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;aACb,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;aACjC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;aACpB,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,OAAO,IAAI,GAAG,CAAC;gBACb,CAAC,CAAC,aAAa,kDAAM,CAAC,iBAAiB;oBACnC,CAAC,KAAK,kDAAM,CAAC,sBAAsB,GAAG,CAAC,GAAG;gBAC9C,CAAC,CAAC,aAAa,GAAG,GAAG,CAAC,KAAK,kDAAM,CAAC,sBAAsB,GAAG,CAAC,GAAG,CAAC;QACpE,CAAC,CAAC;aACD,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;AACL,CAAC;AAED,6BAA6B,OAAe,EAAE,QAAgB;IAC5D,IAAI,OAAO,GAAG,IAAI,EAAE;QAClB,OAAO,2CACI,EAAE;aACV,QAAQ,CAAC,IAAI,CAAC;aACd,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aACvB,KAAK,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;KAC5B;IACD,IAAI,OAAO,GAAG,IAAI,EAAE;QAClB,OAAO,2CACI,EAAE;aACV,QAAQ,CAAC,GAAG,CAAC;aACb,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aACvB,KAAK,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;KAC5B;IACD,OAAO,8CACO,EAAE;SACb,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;SACpB,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC1B,CAAC;AACD,oBAAoB;AAEpB,oBAAoB;AACpB,0BAA0B,IAAiB,EAAE,IAAiB;IAC5D,IAAI,YAAY,GAAG,sCAAM,CACvB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC,CACzD,CAAC;IACF,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/C,IAAI,KAAK,GAAG,iBAAiB,CAAC,YAAY,EAAE,kDAAM,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;IACxE,IAAI,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;IAC5D,mBAAmB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;AAC7C,CAAC;AAED,2BAA2B,OAAe,EAAE,QAAgB;IAC1D,OAAO,8CACO,EAAE;SACb,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;SACpB,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC1B,CAAC;AAED,6BAA6B,EAAe,EAAE,KAAc;IAC1D,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;SACR,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,kDAAM,CAAC,eAAe,CAAC;SACrC,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,oBAAoB,CAAC;SAC3C,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAEzB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,IAAI,CAAC,OAAO,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACjC,OAAO,CAAC,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC;YACnC,CAAC,CAAC,6BAA6B;YAC/B,CAAC,CAAC,6BAA6B,CAAC;IACpC,CAAC,CAAC;SACD,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACvB,OAAO,kDAAM,CAAC,oBAAoB,CAAC;IACrC,CAAC,CAAC;SACD,IAAI,CAAC,OAAO,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACjC,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,GAAG,CAAC,CAAC;IAC1D,CAAC,CAAC;SACD,IAAI,CAAC,WAAW,EAAE,CAAC,CAAY,EAAE,CAAC,EAAE,EAAE;QACrC,OAAO,CAAC,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC;YACnC,CAAC,CAAC,aAAa,kDAAM,CAAC,eAAe,GAAG,CAAC,MAAM;YAC/C,CAAC,CAAC,aAAa,kDAAM,CAAC,eAAe,GAAG,CAAC;gBACrC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC;IACrD,CAAC,CAAC,CAAC;AACP,CAAC;AACD,oBAAoB;AACd,6BAA8B,EAAe,EAAE,IAAU,EAAE,IAAU;IACzE,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,EAAE,CAAC,IAAI,CACL,WAAW,EACX,aAAa,kDAAM,CAAC,WAAW;QAC7B,kDAAM,CAAC,kBAAkB;QACzB,kDAAM,CAAC,iBAAiB;QACxB,kDAAM,CAAC,eAAe;QACtB,kDAAM,CAAC,YAAY,GAAG,CAAC,KAAK,kDAAM,CAAC,aAAa;QAChD,kDAAM,CAAC,mBAAmB;QAC1B,EAAE,GAAG,CACR,CAAC;IAEF,IAAI,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC3E,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAC5B,WAAW,GAAG,WAAW;SACtB,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;SAC1B,KAAK,CAAC,WAAW,CAAC;SAClB,IAAI,CACH,WAAW,EACX,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,kDAAM,CAAC,eAAe,GAAG,EAAE,CAAC,MAAM,CAC/D,CAAC;IACJ,cAAc,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,wBAAwB,EAAe,EAAE,IAAU;IACjD,EAAE,CAAC,IAAI,CAAC,UAAS,CAAY;QAC3B,IAAI,CAAC,GAAG,yCACC,CAAC,IAAI,CAAC;aACZ,IAAI,CAAC,EAAE,CAAC;aACR,MAAM,CAAC,GAAG,CAAC,CAAC;QAEf,wCAAwC;QACxC,wEAAwE;QACxE,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC,CAAC;QAE9D,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC9B,mBAAmB;QACnB,2CAA2C;QAC3C,wBAAwB;QACxB,4BAA4B;QAC5B,6CAA6C;QAE7C,IAAI,KAAK,GAAG,8CACE,EAAE;aACb,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;aACtB,KAAK,CAAC,CAAC,CAAC,EAAE,kDAAM,CAAC,eAAe,CAAC,CAAC,CAAC;QAEtC,IAAI,EAAE,GAAG,0CAAU,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAEpC,yCAAS,CAAC,IAAI,CAAC;aACZ,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,WAAW,EAAE,kBAAkB,CAAC;aACrC,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,CAAC,CAAC,CAAC;AACL,CAAC;AAED,oBAAoB;AACpB,0BAA0B;AAE1B,0CACE,IAAiB,EACjB,MAAmB,EACnB,MAAmB,EACnB,IAAU;IAEV,kDAAM,CAAC,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;IAC5D,0BAA0B,CAAC,MAAM,CAAC,CAAC;IACnC,2BAA2B,CAAC,MAAM,CAAC,CAAC;IACpC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5B,CAAC;AAED,uBAAuB,IAAiB,EAAE,IAAU;IAClD,IAAI,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAElE,IAAI,KAAK,GAAG,eAAe;SACxB,SAAS,CAAC,YAAY,CAAC;SACvB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACjC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACtB,KAAK,GAAG,KAAK;SACV,KAAK,EAAE;SACP,MAAM,CAAC,GAAG,CAAC;SACX,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;SAC1B,KAAK,CAAC,KAAK,CAAC,CAAC;IAEhB,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE;QAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC/B,OAAO,aAAa,CAAC,GAAG,CAAC,kDAAM,CAAC,eAAe,GAAG,EAAE,CAAC,MAAM,CAAC;IAC9D,CAAC,CAAC,CAAC;IAEH,eAAe,CAAC,IAAI,CAAC,UAAS,CAAY;QACxC,IAAI,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;QAC/B,IAAI,KAAK,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QAEpD,KAAK,CAAC,IAAI,CAAC,UAAS,CAAC;YACnB,IAAI,EAAE,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACtC,IAAI,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAC/C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,CACzB,CAAC,CAAC,CAAC,CAAC;YAEL,IAAI,UAAU,GAAG,sCAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC7C,IAAI,UAAU,GAAG,sCAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAE7C,IAAI,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,MAAM,CAC3C,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CACtC,CAAC;YACF,IAAI,UAAU,GAAG,eAAe,CAAC,YAAY,CAAC,CAAC;YAE/C,IAAI,eAAe,GAAG,kDAAM,CAAC,eAAe,CAAC;YAE7C,IAAI,OAAO,GAAG,8CACA,EAAE;iBACb,MAAM,CAAC,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;iBAChC,KAAK,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC,CAAC;YAE/B,UAAU,CAAC,EAAE,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AAUD,yBAAyB,MAAgB;IACvC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,OAAO;QACL,GAAG,EAAE,sCAAM,CAAC,MAAM,CAAC;QACnB,GAAG,EAAE,sCAAM,CAAC,MAAM,CAAC;QACnB,UAAU,EAAE,2CAAW,CAAC,MAAM,EAAE,IAAI,CAAC;QACrC,UAAU,EAAE,2CAAW,CAAC,MAAM,EAAE,GAAG,CAAC;QACpC,UAAU,EAAE,2CAAW,CAAC,MAAM,EAAE,IAAI,CAAC;KACtC,CAAC;AACJ,CAAC;AAED,oBAAoB,EAAe,EAAE,IAAkB,EAAE,KAAc;IACrE,IAAI,OAAO,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC7B,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,kDAAM,CAAC,oBAAoB,GAAG,CAAC,GAAG,CAAC,CAAC;IAC9E,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IAClC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AACjC,CAAC;AAED,qBAAqB,EAAe,EAAE,IAAkB,EAAE,KAAc;IACtE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;SACxB,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SACb,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;IAE/C,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;SACxB,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SACb,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;IAE/C,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;SACxB,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC;SAC3C,IAAI,CAAC,IAAI,EAAE,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;AACjD,CAAC;AAED,kBAAkB,EAAe,EAAE,IAAkB,EAAE,KAAc;IACnE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC;SAC5B,IAAI,CAAC,QAAQ,EAAE,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC;SAC/C,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC9D,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IAErC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;SACd,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;SACxB,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAClC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAClC,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC;SAC/C,IAAI,CAAC,IAAI,EAAE,CAAC,kDAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACvD,CAAC;;;;;;;;;;;;;;ACt1CD;AAAA,IAAI,MAAM,GAAG;IACX,mBAAmB,EAAE,CAAC;IACtB,SAAS,EAAE,CAAC;IACZ,YAAY,EAAE,EAAE;IAChB,UAAU,EAAE,EAAE;IAEd,sBAAsB,EAAE,EAAE;IAC1B,yBAAyB,EAAE,GAAG;IAC9B,uBAAuB,EAAE,EAAE;IAC3B,IAAI,qBAAqB;QACvB,OAAO,MAAM,CAAC,sBAAsB,GAAG,MAAM,CAAC,yBAAyB,CAAC;IAC1E,CAAC;IACD,IAAI,WAAW;QACb,OAAO,CACL,MAAM,CAAC,yBAAyB;YAChC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC,CAClD,CAAC;IACJ,CAAC;IAED,gBAAgB,EAAE,EAAE;IACpB,kBAAkB,EAAE,CAAC;IACrB,IAAI,gBAAgB;QAClB,OAAO,CACL,MAAM,CAAC,kBAAkB;YACzB,MAAM,CAAC,iBAAiB;YACxB,MAAM,CAAC,eAAe;YACtB,MAAM,CAAC,qBAAqB;YAC5B,MAAM,CAAC,YAAY,GAAG,CAAC,CACxB,CAAC;IACJ,CAAC;IACD,IAAI,eAAe;QACjB,OAAO,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC,gBAAgB,CAAC;IACtD,CAAC;IAED,mBAAmB,EAAE,CAAC;IAEtB,iBAAiB,EAAE,GAAG;IACtB,IAAI,sBAAsB;QACxB,OAAO,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;IAC/B,CAAC;IACD,8BAA8B,EAAE,EAAE;IAClC,WAAW,EAAE,EAAE;IACf,wBAAwB,EAAE,EAAE;IAC5B,uBAAuB,EAAE,EAAE;IAC3B,cAAc,EAAE,CAAC;IAEjB,eAAe,EAAE,GAAG;IACpB,IAAI,oBAAoB;QACtB,OAAO,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;IAC/B,CAAC;IACD,4BAA4B,EAAE,EAAE;IAChC,sBAAsB,EAAE,EAAE;IAE1B,mBAAmB,EAAE,CAAC;IACtB,eAAe,EAAE,GAAG;IACpB,IAAI,qBAAqB;QACvB,OAAO,MAAM,CAAC,mBAAmB,GAAG,CAAC,MAAM,CAAC,eAAe,GAAG,EAAE,CAAC,CAAC;IACpE,CAAC;IACD,IAAI,oBAAoB;QACtB,OAAO,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;IAC/B,CAAC;IACD,sBAAsB,EAAE,GAAG;IAE3B,IAAI,aAAa;QACf,OAAO,MAAM,CAAC,qBAAqB,CAAC;IACtC,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,CACL,MAAM,CAAC,qBAAqB;YAC5B,MAAM,CAAC,gBAAgB;YACvB,MAAM,CAAC,mBAAmB;YAC1B,CAAC,CACF,CAAC;IACJ,CAAC;IACD,IAAI,SAAS;QACX,OAAO,GAAG,GAAG,GAAG,CAAC;IACnB,CAAC;CACF,CAAC;AAEF,+DAAe,MAAM,EAAC;AAEhB,iBAAkB,GAAW;IACjC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;AAC/B,CAAC;;;;;;;;;;;;;ACpFD;AAAA;AACA;AACA,sB;;;;;;;;;;;;;;;;ACCwC;AACX;AAEvB,uBAAwB,IAAS,EAAE,EAAe;IACtD,kDAAiB,CAAC,EAAE,CAAC,IAAI,EAAS,EAAE,IAAW,EAAE;QAC/C,IAAI,EAAE,WAAW;QACjB,KAAK,EAAE,KAAK;QACZ,QAAQ,EAAE,KAAK;QACf,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,yCAAS;QACnB,OAAO,EAAE,KAAK;KACf,CAAC,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfD;AAAA;;;;;GAKG;AACsB;AACN;AACqC;AACa;AACU;AACxB;AACK;AACG;AACU;AACnB;AACU;AACE;AACU;AACZ;AACb;AAGyB;AACb;AACxC;AAC4C;AACV;AACqC;AACV;AAE7E,MAAM,SAAS,GAAW,uBAAuB,CAAC;AAEzD;IACE,IAAI,WAAW,GAAG,IAAI,qEAAW,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACvD,kEAAS,CAAC,GAAG,GAAG,WAAW,CAAC;IAC5B,kEAAS,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,EAAE,kEAAS,CAAC,cAAc,CAAC,CAAC;IAE7D,IAAI,cAAc,CAAC,kBAAkB,CAAC,EAAE;QACtC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,CAAC;QACnE,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,CAAC;KAC1E;IAED,IAAI,0GAAyB,CAC3B,IAAI,gGAAoB,CAAC,yCAAS,CAAC,MAAM,CAAC,CAAC,IAAI,EAAiB,CAAC,EACjE,WAAW,CACZ,CAAC;IAEF,IAAI,0FAAoB,CACtB,IAAI,gFAAe,CAAC,yCAAS,CAAC,mBAAmB,CAAC,CAAC,IAAI,EAAiB,CAAC,EACzE,WAAW,CACZ,CAAC;IAEF,IAAI,4EAAe,CACjB,IAAI,iEAAU,CAAC,yCAAS,CAAC,iBAAiB,CAAC,CAAC,IAAI,EAAiB,CAAC,EAClE,WAAW,EACX,oBAAoB,CACrB,CAAC;IAEF,IAAI,oFAAkB,CACpB,IAAI,0EAAa,CAAC,yCAAS,CAAC,aAAa,CAAC,CAAC,IAAI,EAAiB,CAAC,EACjE,WAAW,CACZ,CAAC;IAEF,IAAI,wFAAmB,CACrB,IAAI,8EAAc,CAAC,yCAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,EAAiB,CAAC,EACvE,WAAW,CACZ,CAAC;IAEF,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,KAAK,MAAM,CAAC,GAAG,CAAC;IAC1C,IAAI,EAAE,GAAgB,IAAI,CAAC;IAE3B,IAAI,CAAC,QAAQ,EAAE;QACb,+EAAY,CAAC,yCAAS,CAAC,cAAc,CAAC,CAAC,CAAC;KACzC;SAAM;QACL,EAAE,GAAG,YAAY,EAAE,CAAC;KACrB;IAED,IAAI,yEAAc,CAChB,IAAI,+DAAS,CAAC,yCAAS,CAAC,UAAU,CAAC,CAAC,IAAI,EAAiB,EAAE,EAAE,CAAC,EAC9D,WAAW,CACZ,CAAC;IAEF,IAAI,sFAAkB,CACpB,IAAI,4EAAa,CAAC,yCAAS,CAAC,MAAM,CAAC,CAAC,IAAI,EAAiB,CAAC,EAC1D,WAAW,CACZ,CAAC;IAEF,IAAI,+EAAgB,CAClB,IAAI,qEAAW,CAAC,yCAAS,CAAC,iBAAiB,CAAC,CAAC,IAAI,EAAiB,CAAC,EACnE,WAAW,CACZ,CAAC;AACJ,CAAC;AAED,GAAG,EAAE,CAAC;AAEN;IACE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IAErE,IAAI,CAAC,EAAE,CAAC,MAAM;QAAE,yCAAS,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACtE,IAAI,CAAC,EAAE,CAAC,SAAS;QAAE,yCAAS,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACrE,IAAI,CAAC,EAAE,CAAC,WAAW;QAAE,yCAAS,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7E,IAAI,CAAC,EAAE,CAAC,WAAW;QAAE,yCAAS,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC1E,IAAI,CAAC,EAAE,CAAC,YAAY;QAAE,yCAAS,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC5E,IAAI,CAAC,EAAE,CAAC,cAAc;QACpB,yCAAS,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAEzD,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,wBAAwB,MAAmB;IACzC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;AACzC,CAAC;;;;;;;;;;;;;AC/GD;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;ACWM;IACJ,OAAO;QACL,QAAQ,EAAE,EAAE;QACZ,KAAK,EAAE,EAAE;QACT,IAAI,EAAE,EAAE;QACR,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,CAAC;QACT,SAAS,EAAE,EAAE;QACb,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,EAAE;QACR,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,EAAE;QACV,WAAW,EAAE,EAAE;QACf,MAAM,EAAE,EAAE;QACV,IAAI,EAAE,EAAE;KACT,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;AC9CwC;AACgC;AAE/B;AACnB;AACE;AACqB;AACV;AAG9B,oBAAqB,IAAiB;IAC1C,IAAI,CAAC,IAAI,CAAC,6DAAI,CAAC,CAAC;IAChB,IAAI,WAAW,GAAgB,6EAAc,EAAE,CAAC;IAChD,IAAI,IAAS,CAAC;IACd,IAAI,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAClD,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACtC,IAAI,WAAW,GAAY,IAAI,CAAC;IAEhC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAC3C,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAErC,+CAAM,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,IAAS,EAAE,IAAiB,EAAE,EAAE;QAC1D,qBAAqB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QACrD,WAAW,GAAG,KAAK,CAAC;IACtB,CAAC,CAAC,CAAC;IAEH,+CAAM,CAAC,EAAE,CAAC,wBAAwB,EAAE,IAAI,CAAC,EAAE;QACzC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,WAAW,GAAG,IAAI,CAAC;IACrB,CAAC,CAAC,CAAC;IAEH,gBAAgB,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAChC,IAAI,GAAG,eAAe,EAAE,CAAC;QACzB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1C,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpE,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACnC,+CAAM,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;SACjD;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IAElD,iBAAiB,CAAC,EAAE,CAAC,OAAO,EAAE;QAC5B,WAAW,CAAC,SAAS,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC1D,+CAAM,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QAChD,+CAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,WAAW,CAAC,CAAC;IACrD,CAAC,CAAC,CAAC;AACL,CAAC;AAED,+BACE,SAAsB,EACtB,IAAS,EACT,WAAwB,EACxB,YAAqB,KAAK;IAE1B,IAAI,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAEhD,IAAI,SAAS,EAAE;QACb,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YAC5C,qBAAqB,CAAC,SAAS,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QACH,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YAC/C,qBAAqB,CAAC,SAAS,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QACH,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACzB,IAAI,EAAE,GAAQ,IAAI,QAAQ,EAAE,CAAC;YAC7B,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,yCAAS,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,EAAE,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YAC1E,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;YAC/B,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,kDAAS,eAAe,CAAC,CAAC;YAC9C,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;KACJ;IACD,IAAI,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IACnD,IAAI,QAAQ,GAAa,EAAE,CAAC;IAC5B,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACtE,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACpE,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC5E,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxE,IAAI,WAAW,GAAG,SAAS;SACxB,MAAM,CAAC,2BAA2B,CAAC;SACnC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAErB,IAAI,CAAC,IAAI,EAAE;QACT,QAAQ,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;KAC/C;IACD,IAAI,IAAI,CAAC,IAAI,GAAG,OAAO,EAAE;QACvB,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;KACjC;IACD,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE;QACzB,QAAQ,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;KACzC;IACD,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE;QAC3B,QAAQ,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;KACjD;SAAM,IAAI,CAAC,iEAAY,CAAC,KAAK,CAAC,EAAE;QAC/B,QAAQ,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;KAChD;IACD,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE;QACvC,QAAQ,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;KACpD;IAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,UAAU,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACvC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACpB,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACnB,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACrC,OAAO;KACR;IACD,UAAU,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACtC,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IAEtC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC5B,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;IAC1B,WAAW,CAAC,IAAI,GAAG,WAAW,CAAC;IAC/B,WAAW,CAAC,MAAM,GAAG,OAAO,CAAC;IAC7B,WAAW,CAAC,WAAW,GAAG,WAAW,CAAC;IACtC,+CAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,WAAW,CAAC,CAAC;AACrD,CAAC;AAED;IACE,IACG,MAAc,CAAC,IAAI;QACnB,MAAc,CAAC,UAAU;QACzB,MAAc,CAAC,QAAQ;QACvB,MAAc,CAAC,IAAI,EACpB;KACD;SAAM;QACL,KAAK,CAAC,wDAAwD,CAAC,CAAC;QAChE,MAAM,IAAI,KAAK,EAAE,CAAC;KACnB;IACD,IAAI,IAAI,GAAI,KAAK,CAAC,MAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1C,OAAO,IAAI,CAAC;AACd,CAAC;;;;;;;;;;;;;ACvID;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;AC9GA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;;;;;AClByB;AACW;AACsB;AACP;AAG7C,kBAAmB,SAAoB,EAAE,KAAU;IACvD,IAAI,IAAI,GAAG,yCAAS,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAChD,IAAI,CAAC,IAAI,CAAC,uDAAI,CAAC,CAAC;IAChB,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IAClD,6EAAU,CAAC,UAAU,CAAC,CAAC;IACvB,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAC3C,sEAAS,CAAC,SAAS,CAAC,CAAC;AACvB,CAAC;;;;;;;;;;;;;ACdD;AAAA;AACA;AACA;AACA,wC;;;;;;;;;;;;;;;ACHA,IAAY,UAMX;AAND,WAAY,UAAU;IACpB,+CAAM;IACN,6CAAK;IACL,yCAAG;IACH,mDAAQ;IACR,yDAAW;AACb,CAAC,EANW,UAAU,KAAV,UAAU,QAMrB;AAEM,IAAI,oBAAoB,GAA8B;IAC3D,CAAC,EAAE,QAAQ;IACX,CAAC,EAAE,OAAO;IACV,CAAC,EAAE,KAAK;IACR,CAAC,EAAE,UAAU;IACb,CAAC,EAAE,aAAa;CACjB,CAAC;;;;;;;;;;;;;;;;;;;;;;ACd8D;AAI5B;AACX;AAEF;AACqB;AACO;AAE7C,mBAAoB,IAAiB;IACzC,IAAI,MAAmB,CAAC;IACxB,+CAAM,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,IAAS,EAAE,IAAiB,EAAE,EAAE;QAC1D,MAAM,GAAG,IAAI,CAAC;QACd,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC;IAEH,+CAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,IAAkC,EAAE,EAAE;QACjE,+CAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,GAAkC,EAAE,EAAE;YACtE,yBAAyB,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QACH,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC;AACL,CAAC;AAED,wBAAwB,IAAS,EAAE,IAAiB;IAClD,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACvC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAC7B,CAAC;AAED,mBAAmB,QAAsB,EAAE,IAAiB;IAC1D,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;IAC9B,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAE,KAAK,CAAC,MAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACtE,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,kBAAkB,GAAQ,EAAE,IAAiB;IAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACvD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9B,sCAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;QAClD,+CAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,wBAAwB,IAAkC,EAAE,IAAiB;IAC3E,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACnC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACnB,CAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;IACH,IAAI,MAAM,GAAe,iBAAiB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACrD,IAAI,KAAK,GAAG,UAAU,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;AAChD,CAAC;AAED,2BAA2B,IAAkC,EAAE,MAAc;IAC3E,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAC7B,IAAI,MAAM,GAAU,EAAE,CAAC;IACvB,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;IAC/B,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IACpD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,oBAAoB,IAAiB,EAAE,IAAW,EAAE,OAAiB;IACnE,IAAI,eAAe,GAAkC,sBAAsB,CACzE,IAAI,EACJ,OAAO,CACR,CAAC;IACF,+CAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC,CAAC;IAEpD,+CAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;QACpD,eAAe,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;QACnC,+CAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;QACpD,IAAI,aAAa,GAAG,yCAAS,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC9D,OAAO,eAAe,aAAa,GAAG,CAAC;IACzC,CAAC,CAAC,CAAC;IAEH,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzD,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IACtB,KAAK,GAAG,KAAK;SACV,KAAK,EAAE;SACP,MAAM,CAAC,KAAK,CAAC;SACb,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC;SAChC,KAAK,CAAC,KAAK,CAAC;SACZ,IAAI,CAAC,EAAE,CAAC,CAAC;IAEZ,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAEtB,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAClC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAElC,IAAI,IAAI,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3C,WAAW,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC;IAEpC,OAAO,KAAK,CAAC;AACf,CAAC;AAED,mBAAmB,IAAiB,EAAE,IAAW,EAAE,OAAiB;IAClE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;IACzB,IAAI,IAAI,GAAG,IAAI;SACZ,SAAS,CAAC,IAAI,CAAC;SACf,IAAI,CAAC,IAAI,CAAC;SACV,KAAK,EAAE;SACP,MAAM,CAAC,IAAI,CAAC,CAAC;IAEhB,IAAI,KAAK,GAAG,IAAI;SACb,SAAS,CAAC,IAAI,CAAC;SACf,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;QACpB,IAAI,GAAG,KAAK,IAAI,EAAE;YAChB,OAAO,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACvB,OAAO;oBACL,MAAM,EAAE,GAAG;oBACX,KAAK,EAAE,KAAK;iBACb,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;QACD,OAAO,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;YACvB,OAAO;gBACL,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC;aAChB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;SACD,KAAK,EAAE;SACP,MAAM,CAAC,IAAI,CAAC;SACZ,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAEtB,OAAO,IAAI,CAAC;AACd,CAAC;AAED,qBACE,IAAiB,EACjB,OAAsC;IAEtC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,IAAI,YAAY,GAAG,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACtD,IAAI,gBAAgB,GAAG,kBAAkB,CAAC,YAAY,CAAC,CAAC;IACxD,eAAe,CAAC,YAAY,CAAC,CAAC;IAE9B,cAAc,CAAC,gBAAgB,CAAC,CAAC;AACnC,CAAC;AAED,wBACE,SAAsB,EACtB,OAAsC;IAEtC,IAAI,YAAY,GAAG,SAAS;SACzB,SAAS,CAAC,eAAe,CAAC;SAC1B,IAAI,CAAC,0CAAU,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7B,YAAY,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAC7B,YAAY,GAAG,YAAY;SACxB,KAAK,EAAE;SACP,MAAM,CAAC,IAAI,CAAC;SACZ,KAAK,CAAC,YAAY,CAAC;SACnB,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;SAC7B,IAAI,CAAC,EAAE,CAAC,CAAC;IACZ,OAAO,YAAY,CAAC;AACtB,CAAC;AAED,4BAA4B,YAAyB;IACnD,OAAO,YAAY;SAChB,MAAM,CAAC,KAAK,CAAC;SACb,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC;SAChC,IAAI,CAAC,2DAAQ,CAAC;SACd,IAAI,CAAC,UAAS,CAAC;QACd,yCAAS,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,yBAAyB,YAAyB;IAChD,OAAO,YAAY;SAChB,MAAM,CAAC,KAAK,CAAC;SACb,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;SAC7B,IAAI,CAAC,CAAC,CAAC,EAAE;QACR,OAAO,CAAC,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,CAAC;AACP,CAAC;AAED,wBAAwB,gBAA6B;IACnD,gBAAgB,CAAC,IAAI,CAAC,UAAS,MAAM;QACnC,IAAI,QAAQ,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAChD,QAAQ;aACL,MAAM,CAAC,gBAAgB,gEAAoB,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;aAC7D,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAE9B,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,UAAS,CAAM;YAClC,IAAI,cAAc,GAAG,yCAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACvD,+CAAM,CAAC,IAAI,CACT,qBAAqB,EACrB,CAAC,CAAC,GAAG,EACL,QAAQ,CACN,MAAM,CAAC,IAAI,CAAC,gEAAoB,CAAC,CAAC,IAAI,CACpC,CAAC,CAAM,EAAE,EAAE,CAAC,gEAAoB,CAAC,CAAC,CAAC,KAAK,cAAc,CACvD,CACF,CACF,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AAED,gCAAgC,IAAW,EAAE,OAAiB;IAC5D,IAAI,GAAG,GAAkC,EAAE,CAAC;IAC5C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;QACvB,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QAC5C,IAAI,IAAI,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC;QACvC,GAAG,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;IACrB,CAAC,CAAC,CAAC;IAEH,OAAO,GAAG,CAAC;AACb,CAAC;AAED,uBAAuB,GAAU;IAC/B,IAAI,cAAc,CAAC,GAAG,CAAC,EAAE;QACvB,IAAI,UAAU,CAAC,GAAG,CAAC;YAAE,OAAO,sDAAU,CAAC,GAAG,CAAC;QAC3C,IAAI,cAAc,CAAC,GAAG,CAAC;YAAE,OAAO,sDAAU,CAAC,MAAM,CAAC;QAClD,IAAI,kBAAkB,CAAC,GAAG,CAAC;YAAE,OAAO,sDAAU,CAAC,WAAW,CAAC;QAC3D,OAAO,sDAAU,CAAC,MAAM,CAAC;KAC1B;SAAM;QACL,IAAI,kBAAkB,CAAC,GAAG,CAAC;YAAE,OAAO,sDAAU,CAAC,WAAW,CAAC;KAC5D;IACD,OAAO,sDAAU,CAAC,KAAK,CAAC;AAC1B,CAAC;AAED,wBAAwB,GAAU;IAChC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3B,CAAC;AAED,wBAAwB,GAAU;IAChC,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACpC,CAAC;AAED,qBAAqB,GAAU;IAC7B,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzB,CAAC;AAED,oBAAoB,GAAU;IAC5B,IAAI,UAAU,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACnC,OAAO,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,CAAC;AACzD,CAAC;AAED,4BAA4B,GAAU;IACpC,IAAI,UAAU,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACnC,OAAO,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC;AACzD,CAAC;AAED,mBAAmB,GAAU,EAAE,SAAiB;IAC9C,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;AAC9C,CAAC;AAED,mCACE,IAAkC,EAClC,IAAiB,EACjB,GAAkC;IAElC,IAAI,IAAI,GAAG,sEAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IACxE,IAAI,UAAU,GAAG,sEAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAE9E,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,CAC/B,CAAC,WAAgB,EAAE,IAAY,EAAE,GAAW,EAAE,GAAa,EAAE,EAAE;QAC7D,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,SAAS,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;gBAC3D,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACtB;YACD,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChD;QACD,OAAO,WAAW,CAAC;IACrB,CAAC,EACD,EAAE,CACH,CAAC;IAEF,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,eAAe,CAAC,OAAO,CAAC,CAAC,CAAW,EAAE,EAAE;QACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACb,MAAM,EAAE,QAAQ;YAChB,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACX,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;SACrB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,UAAU,CAAC,OAAO,CAAC,CAAC,OAAe,EAAE,EAAE;QACrC,IAAI,QAAQ,GAAc;YACxB,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;SAC5B,CAAC;QACF,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,sDAAU,CAAC,KAAK;YAAE,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;QAC1E,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7C,IAAI,cAAc,CAAC,MAAM,CAAC,EAAE;YAC1B,IAAI,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,EAAE;gBAC1C,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC;gBACxB,QAAQ,CAAC,GAAG,GAAG,sCAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC9C,QAAQ,CAAC,GAAG,GAAG,sCAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;aAC/C;iBAAM;gBACL,QAAQ,CAAC,IAAI,GAAG,SAAS,CAAC;gBAC1B,QAAQ,CAAC,GAAG,GAAG,sCAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC5C,QAAQ,CAAC,GAAG,GAAG,sCAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;aAC7C;SACF;QAED,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;IACH,+CAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC;AAC9C,CAAC;;;;;;;;;;;;;AClTD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;;;;ACRA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;;;;ACbM,cAAe,GAAqB;IACxC,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAEjC,OAAO;QACL,EAAE,CAAC,IAAY,EAAE,OAAqB,EAAE,GAAS;YAC/C,IAAI,GAAG;gBAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACjE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChD,CAAC;QACD,GAAG,CAAC,IAAY,EAAE,OAAqB;YACrC,IAAI,GAAG,CAAC,IAAI,CAAC;gBAAE,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QACvE,CAAC;QACD,IAAI,CAAC,IAAY,EAAE,GAAG,GAAU;YAC9B,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;gBACtC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC;QACL,CAAC;KACF,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;ACvBK,sBAAuB,KAAa;IACxC,IAAI,EAAE,GAAG,yJAAyJ,CAAC;IACnK,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AAC9C,CAAC;AAEM,MAAM,cAAc,GAAG,CAAC,GAAQ,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC;AAEnE,qBAAsB,GAAQ;IAClC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;SACpB,MAAM,CAAC,cAAc,CAAC;SACtB,GAAG,CAAC,CAAC,CAAC,EAAE;QACP,OAAO;YACL,GAAG,EAAE,CAAC;YACN,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;SACd,CAAC;IACJ,CAAC,CAAC,CAAC;AACP,CAAC;AAEK,2BACJ,GAAa,EACb,SAAmB;IAEnB,IAAI,IAAI,GAAkB,EAAE,CAAC;IAC7B,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;QACxB,IAAI,SAAS,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;AACd,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBoC;AACsB;AACN;AAC9B;AACyB;AACH;AAKtC,MAAM,MAAM,GAAS,0DAAI,EAAE,CAAC;AAE5B,MAAM,SAAS,GAAW,wBAAwB,CAAC;AAE1D,IAAI,KAAK,GAAW;IAClB;QACE,aAAa,EAAE,UAAU;QACzB,cAAc,EAAE,EAAE;QAClB,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,2DAAQ;KAClB;IACD;QACE,aAAa,EAAE,aAAa;QAC5B,cAAc,EAAE,EAAE;QAClB,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,UAAS,CAAM,EAAE,CAAM,IAAG,CAAC;KACrC;CACF,CAAC;AAEI,8BAA+B,IAAkB;IACrD,IAAI,MAAW,CAAC;IAChB,IAAI,IAAI;QAAE,MAAM,GAAG,IAAI,sEAAY,CAAC,sDAAM,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;;QACpD,MAAM,GAAG,IAAI,sEAAY,CAAC,sDAAM,CAAC,CAAC;IACvC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,EAAE,CAAC;AAChB,CAAC;AAED,oBAAoB,EAAE,CAAC;AAEvB,oBAAoB;AACpB,SAAS;AACT,gBAAgB;AAChB,sEAAsE;AACtE,sBAAsB;AACtB,oCAAoC;AACpC,UAAU;AAEV,mCAAmC;AACnC,iDAAiD;AACjD,yBAAyB;AACzB,mCAAmC;AACnC,iBAAiB;AACjB,gBAAgB;AAEhB,4DAA4D;AAC5D,MAAM;AACN,IAAI;;;;;;;;;;;;;AC7DJ;AAAA,MAAM,MAAM,GAAW;IACrB,QAAQ,EAAE;QACR,UAAU,EAAE,KAAK;KAClB;IACD,OAAO,EAAE;QACP;YACE,IAAI,EAAE,KAAK;YACX,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,WAAW;oBACjB,aAAa,EAAE,UAAU;oBACzB,cAAc,EAAE;wBACd,KAAK,EAAE,UAAU;qBAClB;oBACD,KAAK,EAAE,EAAE;iBACV;gBACD;oBACE,IAAI,EAAE,WAAW;oBACjB,aAAa,EAAE,aAAa;oBAC5B,cAAc,EAAE;wBACd,KAAK,EAAE,aAAa;qBACrB;oBACD,KAAK,EAAE,EAAE;iBACV;aACF;SACF;KACF;CACF,CAAC;AAEF,+DAAe,MAAM,EAAC;;;;;;;;;;;;;AC9BtB;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA,Y;;;;;;;;;;;ACnBA,e;;;;;;;;;;;ACAA,e","file":"app.fcf553a405cef6a46d3b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/app/app.ts\",\"vendors~app\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:36:24\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-06-05 18:26:24\n */\nimport * as d3 from \"d3\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport { IDataSetInfo } from \"./../DataStructure/IDataSetInfo\";\n\nexport class DataSetInfoView extends ViewBase {\n  constructor(root: HTMLElement) {\n    super(root);\n  }\n\n  setup() {}\n\n  create() {\n    d3.select(this.Root)\n      .style(\"padding\", \"5px\")\n      .append(\"div\")\n      .style(\"padding\", \"10px\")\n      .style(\"border-radius\", \"5px\")\n      .style(\"background-color\", \"rgba(0,0,0,0.7)\")\n      .style(\"color\", \"#FFF\")\n      .style(\"overflow-wrap\", \"break-word\");\n  }\n\n  update(data: IDataSetInfo) {\n    let box = d3.select(\"#dataset-info-box\").select(\"div\");\n    box.html(\"\");\n    box\n      .append(\"div\")\n      .text(\"Dataset Information\")\n      .style(\"font-weight\", \"bold\");\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"Name: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"span\")\n      .text(`${data.Name}`);\n\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"# Sets: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"span\")\n      .text(`${data.SetCount}`);\n\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"# Attributes: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"span\")\n      .text(`${data.AttributeCount}`);\n\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"Author: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"span\")\n      .text(`${data._data.author}`);\n\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"Description: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"span\")\n      .text(`${data._data.description}`);\n\n    box\n      .append(\"div\")\n      .append(\"span\")\n      .text(\"Source: \")\n      .style(\"font-weight\", \"bold\")\n      .select(function() {\n        return (<any>this).parentNode;\n      })\n      .append(\"a\")\n      .attr(\"href\", data._data.source)\n      .text(`${data._data.source}`);\n  }\n}\n","import { Application } from \"provenance_mvvm_framework\";\n/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:36:29\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-06-08 15:33:52\n */\nimport {\n  IActionFunctionRegistry,\n  IProvenanceGraph,\n  ViewModelBase\n} from \"provenance_mvvm_framework\";\nimport { DataUtils } from \"./../DataStructure/DataUtils\";\nimport { IDataSetInfo } from \"./../DataStructure/IDataSetInfo\";\nimport { DataSetInfoView } from \"./DataSetInfoView\";\n\nexport class DataSetInfoViewModel extends ViewModelBase {\n  public datasets: IDataSetInfo[] = [];\n  constructor(view: DataSetInfoView, app: Application) {\n    super(view, app);\n    this.App.on(\"change-dataset\", this.update, this);\n  }\n\n  update(dataset: IDataSetInfo) {\n    this.comm.emit(\"update\", dataset);\n  }\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:57:11 \n * @Last Modified by:   Kiran Gadhave \n * @Last Modified time: 2018-06-03 16:57:11 \n */\nimport { SubSet } from \"./SubSet\";\nimport { BaseElement } from \"./BaseElement\";\nimport { RowType } from \"./RowType\";\n\nexport class Aggregate extends BaseElement {\n  disproportionality: number;\n  expectedProb: number;\n  level: number;\n  isCollapsed: boolean;\n  subSets: SubSet[];\n\n  constructor(\n    aggregateId: number | string,\n    aggregateName: string,\n    level: number\n  ) {\n    super(aggregateId, aggregateName);\n    this.type = RowType.AGGREGATE;\n    this.subSets = [];\n    this.isCollapsed = true;\n    this.level = level;\n    this.expectedProb = 0;\n    this.disproportionality = 0;\n  }\n\n  addSubSet(subSet: SubSet) {\n    this.subSets.push(subSet);\n    this.items = this.items.concat(subSet.items);\n    this.setSize += subSet.setSize;\n    this.expectedProb += subSet.expectedProb;\n    this.disproportionality += subSet.disproportionality;\n  }\n}\n","import { IDataSetInfo } from \"./IDataSetInfo\";\nexport class RenderConfig {\n  firstLevelAggregateBy: AggregateBy = AggregateBy.NONE;\n  firstOverlap: number = 2;\n  secondLevelAggregateBy: AggregateBy = AggregateBy.NONE;\n  secondOverlap: number = 2;\n  sortBy: SortBy = SortBy.CARDINALITY;\n  collapseAll: boolean = false;\n  hideEmptyIntersection: boolean = true;\n  minDegree: number = 0;\n  maxDegree: number = 3;\n  currentFile: IDataSetInfo;\n  sortBySetid: number;\n\n  static getSortBySetConfig(id: number): RenderConfig {\n    let rc = new RenderConfig();\n    rc.firstLevelAggregateBy = AggregateBy.NONE;\n    rc.secondLevelAggregateBy = AggregateBy.NONE;\n    rc.sortBy = SortBy.SET;\n    rc.sortBySetid = id;\n    return rc;\n  }\n}\n\nexport enum AggregateBy {\n  DEGREE = \"DEGREE\",\n  SETS = \"SETS\",\n  DEVIATION = \"DEVIATION\",\n  OVERLAPS = \"OVERLAPS\",\n  NONE = \"NONE\"\n}\n\nexport enum SortBy {\n  DEGREE = \"DEGREE\",\n  CARDINALITY = \"CARDINALITY\",\n  DEVIATION = \"DEVIATION\",\n  SET = \"SET\"\n}\n","import { SubSet } from \"./SubSet\";\nimport { Group } from \"./Group\";\nimport { AggregateBy } from \"./AggregateAndFilters\";\nimport { RenderRow } from \"./../type_declarations/types\";\nimport * as d3 from \"d3\";\n\nlet AggregationStrategy: {\n  [key: string]: (\n    data: RenderRow[],\n    overlap?: number,\n    level?: number,\n    setNameDictionary?: { [key: number]: string }\n  ) => RenderRow[];\n} = {};\n\nAggregationStrategy[AggregateBy.DEGREE] = aggregateByDegree;\nAggregationStrategy[AggregateBy.SETS] = aggregateBySets;\nAggregationStrategy[AggregateBy.DEVIATION] = aggregateByDeviation;\nAggregationStrategy[AggregateBy.OVERLAPS] = aggregateByOverlap;\n\nexport default AggregationStrategy;\n\n// Functions\nfunction aggregateByDegree(\n  data: RenderRow[],\n  overlap?: number,\n  level?: number,\n  setNameDictionary?: { [key: number]: string }\n): RenderRow[] {\n  let groups = data.reduce((groups: any, item) => {\n    let val = (item.data as SubSet).noCombinedSets;\n    groups[val] = groups[val] || [];\n    groups[val].push(item);\n    return groups;\n  }, {});\n  let rr: RenderRow[] = [];\n\n  for (let group in groups) {\n    let g = new Group(`Group_Deg_${group}`, `Degree ${group}`, level);\n    rr.push({ id: g.id.toString(), data: g });\n    let subsets = groups[group] as RenderRow[];\n    subsets.forEach(subset => {\n      g.addSubSet(subset.data as SubSet);\n      // rr.push({ id: subset.id.toString(), data: subset.data });\n    });\n  }\n\n  return rr;\n}\n\nfunction aggregateByDeviation(\n  data: RenderRow[],\n  overlap?: number,\n  level?: number,\n  setNameDictionary?: { [key: number]: string }\n): RenderRow[] {\n  let groups = data.reduce((groups: any, item) => {\n    let val = (item.data as SubSet).disproportionality;\n    if (val >= 0) {\n      groups[\"Positive\"] = groups[\"Positive\"] || [];\n      groups[\"Positive\"].push(item);\n    } else {\n      groups[\"Negative\"] = groups[\"Negative\"] || [];\n      groups[\"Negative\"].push(item);\n    }\n    return groups;\n  }, {});\n\n  let rr: RenderRow[] = [];\n\n  for (let group in groups) {\n    let g = new Group(\n      `${group}_Expected_Value`,\n      `${group} Expected Value`,\n      level\n    );\n    rr.push({ id: g.id.toString(), data: g });\n    let subsets = groups[group] as RenderRow[];\n    subsets.forEach(subset => {\n      g.addSubSet(subset.data as SubSet);\n      // rr.push({ id: subset.id.toString(), data: subset.data });\n    });\n  }\n\n  return rr;\n}\n\nfunction aggregateByOverlap(\n  data: RenderRow[],\n  overlap?: number,\n  level?: number,\n  setNameDictionary?: { [key: number]: string }\n): RenderRow[] {\n  let combinations = data\n    .filter(d => {\n      return (d.data as SubSet).noCombinedSets.toString() >= overlap.toString();\n    })\n    .map(d => {\n      return {\n        name: (d.data as SubSet).elementName,\n        idx: (d.data as SubSet).combinedSets\n          .map((v, i) => [i, v === 1])\n          .filter(v => v[1])\n          .map(v => v[0])\n      };\n    });\n\n  data = data.filter(d => {\n    return (d.data as SubSet).noCombinedSets >= overlap;\n  });\n\n  let groups = data.reduce((groups: any, item) => {\n    let idx = (item.data as SubSet).combinedSets;\n    let matches = combinations.filter(c => {\n      let match = true;\n      c.idx.forEach(i => {\n        if (idx[i as number] === 0) match = false;\n      });\n      return match;\n    });\n\n    matches.forEach(m => {\n      groups[m.name] = groups[m.name] || [];\n      groups[m.name].push(item);\n    });\n    return groups;\n  }, {});\n  let rr: RenderRow[] = [];\n\n  for (let group in groups) {\n    let g = new Group(group, group, level);\n    rr.push({ id: g.id.toString(), data: g });\n    let subsets = groups[group] as RenderRow[];\n    subsets.forEach(subset => {\n      g.addSubSet(subset.data as SubSet);\n      // rr.push({ id: subset.id.toString(), data: subset.data });\n    });\n  }\n  return rr;\n}\n\nfunction aggregateBySets(\n  data: RenderRow[],\n  overlap?: number,\n  level?: number,\n  setNameDictionary?: { [key: number]: string }\n): RenderRow[] {\n  let subSetNames: { [key: number]: string } = setNameDictionary;\n\n  let groups = data.reduce((groups: any, item) => {\n    let val = (item.data as SubSet).combinedSets;\n    let vals: number[] = [];\n    val.forEach((d, i) => {\n      if (d === 1) {\n        vals.push(i);\n      }\n    });\n\n    vals.forEach(val => {\n      groups[subSetNames[val]] = groups[subSetNames[val]] || [];\n      groups[subSetNames[val]].push(item);\n    });\n\n    return groups;\n  }, {});\n\n  let rr: RenderRow[] = [];\n\n  for (let group in groups) {\n    let g = new Group(\n      `Group_Set_${group.replace(\" \", \"_\")}`,\n      `Set: ${group}`,\n      level\n    );\n    rr.push({ id: g.id.toString(), data: g });\n    let subsets = groups[group] as RenderRow[];\n    subsets.forEach(subset => {\n      g.addSubSet(subset.data as SubSet);\n      // rr.push({ id: subset.id.toString(), data: subset.data });\n    });\n  }\n  return rr;\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:44:35 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-18 11:40:02\n */\n\nimport { RowType } from \"./RowType\";\n\n/**\n * * Base element for all rows(sets, groups, subsets and aggregates)\n *\n * @export\n * @class BaseElement\n */\nexport class BaseElement {\n  id: number | string;\n  elementName: string;\n  items: number[];\n  setSize: number;\n  dataRatio: number;\n  type: RowType;\n  disproportionality?: number;\n  /**\n   * Creates an instance of BaseElement.\n   * @param {number} id\n   * @param {string} elementName\n   * @memberof BaseElement\n   */\n  constructor(id: number | string, elementName: string) {\n    this.id = id;\n    this.elementName = elementName;\n    this.items = [];\n    this.setSize = 0;\n    this.dataRatio = 0.0;\n  }\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:44:40 \n * @Last Modified by:   Kiran Gadhave \n * @Last Modified time: 2018-06-03 16:44:40 \n */\nimport { BaseElement } from \"./BaseElement\";\nimport { interpolateSpectral } from \"d3\";\n/**\n * Base class for Sets, subsets and groups\n *\n * @export\n * @class BaseSet\n * @extends {BaseElement}\n */\nexport class BaseSet extends BaseElement {\n  combinedSets: number[];\n  noCombinedSets: number;\n  depth: number;\n  /**\n   *Creates an instance of BaseSet.\n   * @param {number} setId\n   * @param {string} setName\n   * @param {number[]} combinedSets\n   * @param {number[]} setData\n   * @memberof BaseSet\n   */\n  constructor(\n    setId: number | string,\n    setName: string,\n    combinedSets: number[],\n    setData: number[],\n    depth: number = 0\n  ) {\n    super(setId, setName);\n    this.combinedSets = combinedSets;\n    this.noCombinedSets = 0;\n    this.depth = depth;\n    for (let i = 0; i < this.combinedSets.length; ++i) {\n      if (this.combinedSets[i] !== 0) {\n        this.noCombinedSets++;\n      }\n    }\n\n    for (let i = 0; i < setData.length; ++i) {\n      this.items.push(setData[i]);\n      this.setSize++;\n    }\n\n    this.dataRatio = this.setSize / this.depth;\n  }\n\n  getSimilarityScore(\n    set: BaseSet,\n    index: (intersection: number, length1: number, length2: number) => number\n  ): number {\n    let intersection = [...new Set(set.items)].filter(x =>\n      new Set(this.items).has(x)\n    ).length;\n    return index(intersection, this.items.length, set.items.length);\n  }\n}\n","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 15:56:16\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-16 11:45:52\n */\nimport { DSVParsedArray, DSVRowString, map } from \"d3\";\nimport { Application } from \"provenance_mvvm_framework\";\nimport { RawData, RenderRow } from \"./../type_declarations/types\";\nimport { AggregateBy, RenderConfig, SortBy } from \"./AggregateAndFilters\";\nimport AggregationStrategy from \"./AggregationStrategy\";\nimport { Attribute } from \"./Attribute\";\nimport { IDataSetJSON } from \"./IDataSetJSON\";\nimport { Set } from \"./Set\";\nimport SortStrategy from \"./SortingStrategy\";\nimport { SubSet } from \"./SubSet\";\nimport { RowType } from \"./RowType\";\nimport * as d3 from \"d3\";\nimport { Group } from \"./Group\";\n\nexport type Membership = { [key: number]: string[] };\n\nexport class Data {\n  app: Application;\n  name: string;\n  sets: Array<Set> = [];\n  usedSets: Array<Set> = [];\n  renderRows: Array<RenderRow> = [];\n  subSets: Array<SubSet> = [];\n  attributes: Array<Attribute> = [];\n  selectedAttributes: Array<Attribute> = [];\n  combinations: number = 0;\n  allItems: Array<number> = [];\n  depth: number = 0;\n  noDefaultSets: number = 6;\n  renderConfig: RenderConfig;\n  unusedSets: Array<Set> = [];\n  memberships: Membership = {};\n  collapsedList: string[] = [];\n  subSetsToRemove: number[] = [];\n\n  get maxCardinality(): number {\n    return Math.max(...this.renderRows.map(d => d.data.setSize));\n  }\n\n  get setNameDictionary(): { [key: number]: string } {\n    return this.usedSets.reduce((map: any, object, idx) => {\n      map[idx] = object.elementName;\n      return map;\n    }, {});\n  }\n\n  constructor(app: Application) {\n    this.app = app;\n    this.renderConfig = new RenderConfig();\n    this.app.on(\"filter-changed\", (rc: RenderConfig) => {\n      this.setupRenderRows(rc);\n    });\n    this.app.on(\"add-set\", this.addSet, this);\n    this.app.on(\"remove-set\", this.removeSet, this);\n    this.app.on(\"add-attribute\", this.addAttribute, this);\n    this.app.on(\"remove-attribute\", this.removeAttribute, this);\n    this.app.on(\"collapse-group\", this.collapseGroup, this);\n  }\n\n  collapseGroup(d: RenderRow, collapseAllFlag: boolean = false) {\n    let group = d.data as Group;\n    group.isCollapsed = !group.isCollapsed;\n    group.nestedGroups.map(_ => (_.isCollapsed = group.isCollapsed));\n    if (!collapseAllFlag) this.app.emit(\"render-rows-changed\", this);\n  }\n\n  async load(\n    data: DSVParsedArray<DSVRowString>,\n    dataSetDesc: IDataSetJSON\n  ): Promise<any> {\n    this.name = dataSetDesc.name;\n    await this.getRawData(data, dataSetDesc).then(rawData => {\n      this.memberships = {};\n      this.getSets(rawData);\n      this.getAttributes(data, rawData, dataSetDesc);\n      this.setUpSubSets();\n      this.setupRenderRows(JSON.parse(sessionStorage[\"render_config\"]));\n    });\n    return new Promise((res, rej) => {\n      res(<any>this);\n    });\n  }\n\n  get setIdToSet(): { [key: string]: Set } {\n    let a: { [key: string]: Set } = {};\n    for (let i = 0; i < this.sets.length; ++i) {\n      a[this.sets[i].id] = this.sets[i];\n    }\n    return a;\n  }\n\n  private createSignature(\n    listOfUsedSets: (string | number)[],\n    listOfSets: (number | string)[]\n  ) {\n    return listOfUsedSets\n      .map(sets => {\n        return listOfSets.indexOf(sets) > -1 ? 1 : 0;\n      })\n      .join(\"\");\n  }\n\n  private setUpSubSets() {\n    this.combinations = Math.pow(2, this.usedSets.length) - 1;\n\n    this.subSets = [];\n\n    let aggregateIntersection: { [key: string]: Array<number> } = {};\n\n    let listOfUsedSets = this.usedSets.map(set => set.id);\n\n    let setsAttribute = this.attributes.filter(attr => {\n      return attr.type === \"sets\";\n    })[0];\n\n    let signature: string = \"\";\n\n    setsAttribute.values.forEach((listOfSets, idx) => {\n      signature = this.createSignature(listOfUsedSets, listOfSets);\n      if (aggregateIntersection[signature] == null) {\n        aggregateIntersection[signature] = [idx];\n      } else {\n        aggregateIntersection[signature].push(idx);\n      }\n    });\n\n    let tempBitMask = 0;\n    let usedSetLength = this.usedSets.length;\n    let combinedSetsFlat = \"\";\n    let actualBit = -1;\n    let names: string[] = [];\n\n    for (let bitMask = 0; bitMask <= this.combinations; ++bitMask) {\n      tempBitMask = bitMask;\n\n      let card = 0;\n      let combinedSets: number[] = Array.apply(null, new Array(usedSetLength))\n        .map(() => {\n          actualBit = tempBitMask % 2;\n          tempBitMask = (tempBitMask - actualBit) / 2;\n          card == actualBit;\n          return +actualBit;\n        })\n        .reverse();\n\n      combinedSetsFlat = combinedSets.join(\"\");\n\n      names = [];\n      let expectedValue = 1;\n      let notExpectedValue = 1;\n\n      combinedSets.forEach((d, i) => {\n        if (d === 1) {\n          names.push(this.usedSets[i].elementName);\n          expectedValue = expectedValue * this.usedSets[i].dataRatio;\n        } else {\n          notExpectedValue =\n            notExpectedValue * (1 - this.usedSets[i].dataRatio);\n        }\n      });\n\n      expectedValue *= notExpectedValue;\n\n      let list = aggregateIntersection[combinedSetsFlat];\n      if (list == null) {\n        list = [];\n      }\n\n      let name = \"\";\n      names = names.map(n => n.replace(\" \", \"_\"));\n      if (names.length > 0) name = names.reverse().join(\" \") + \"\";\n      if (name === \"\") {\n        name = \"UNINCLUDED\";\n      }\n      let subset = new SubSet(\n        bitMask,\n        name,\n        combinedSets,\n        list,\n        expectedValue,\n        this.depth\n      );\n      this.subSets.push(subset);\n      this.UpdateDictionary(subset.itemList, subset.id);\n    }\n    aggregateIntersection = {};\n  }\n\n  private UpdateDictionary(items: number[], belongsTo: string | number) {\n    items.forEach(item => {\n      if (!this.memberships[item]) this.memberships[item] = [];\n      this.memberships[item].push(belongsTo.toString());\n    });\n  }\n\n  private getAttributes(\n    data: DSVParsedArray<DSVRowString>,\n    rawData: RawData,\n    dataSetDesc: IDataSetJSON\n  ) {\n    this.attributes.length = 0;\n    for (let i = 0; i < dataSetDesc.meta.length; ++i) {\n      let metaDefinition = dataSetDesc.meta[i];\n      this.attributes.push({\n        name: metaDefinition.name || rawData.header[metaDefinition.index],\n        type: metaDefinition.type,\n        values: [],\n        sort: 1\n      });\n    }\n\n    //  Implicit Attributes\n\n    // Set Count attribute\n    let setCountAttribute: Attribute = {\n      name: \"Set Count\",\n      type: \"integer\",\n      values: [],\n      sort: 1,\n      min: 0\n    };\n\n    for (let d = 0; d < this.depth; ++d) {\n      let setCount = 0;\n      for (let s = 0; s < rawData.rawSets.length; ++s) {\n        setCount += rawData.rawSets[s][d];\n      }\n      setCountAttribute.values[d] = setCount;\n    }\n    this.attributes.push(setCountAttribute);\n\n    // Set Attribute\n    let setAttribute: Attribute = {\n      name: \"Sets\",\n      type: \"sets\",\n      values: [],\n      sort: 1\n    };\n\n    for (let i = 0; i < this.depth; ++i) {\n      let setList: Array<number | string> = [];\n      for (let s = 0; s < rawData.rawSets.length; ++s) {\n        if (rawData.rawSets[s][i] === 1) {\n          setList.push(this.sets[s].id);\n        }\n      }\n      setAttribute.values[i] = setList;\n    }\n    this.attributes.push(setAttribute);\n\n    //  Load MetaData\n    for (let i = 0; i < dataSetDesc.meta.length; ++i) {\n      let metaDefinition = dataSetDesc.meta[i];\n      this.attributes[i].values = data.map((row, row_idx) => {\n        let val = (<any>Object).values(row)[metaDefinition.index];\n        switch (metaDefinition.type) {\n          case \"integer\": {\n            let intVal = parseInt(val, 10);\n            if (isNaN(intVal)) {\n              console.error(`Cannot parse ${val} to integer`);\n              return NaN;\n            }\n            return intVal;\n          }\n          case \"float\": {\n            let floatVal = parseFloat(val);\n            if (isNaN(floatVal)) {\n              console.error(`Cannot parse ${val} to integer`);\n              return NaN;\n            }\n            return floatVal;\n          }\n          case \"id\":\n          case \"string\":\n          default:\n            return val;\n        }\n      });\n    }\n\n    let max;\n\n    for (let i = 0; i < this.attributes.length; ++i) {\n      if (\n        this.attributes[i].type === \"float\" ||\n        this.attributes[i].type === \"integer\"\n      ) {\n        if (i < dataSetDesc.meta.length) {\n          this.attributes[i].min =\n            dataSetDesc.meta[i].min ||\n            Math.min.apply(null, this.attributes[i].values);\n          this.attributes[i].max =\n            dataSetDesc.meta[i].max ||\n            Math.max.apply(null, this.attributes[i].values);\n        } else {\n          this.attributes[i].min =\n            this.attributes[i].min ||\n            Math.min.apply(null, this.attributes[i].values);\n          this.attributes[i].max =\n            this.attributes[i].max ||\n            Math.max.apply(null, this.attributes[i].values);\n        }\n      }\n    }\n\n    // this.maxCardinality = this.attributes[this.attributes.length - 2].max;\n    // // hackthis.renderConfig\n    // if (isNaN(this.maxCardinality)) {\n    //   this.maxCardinality = this.sets.length;\n    // }\n  }\n\n  /**\n   *\n   *\n   * @param {RawData} data\n   * @memberof Data\n   */\n  private getSets(data: RawData) {\n    let setPrefix = \"S_\";\n\n    for (let i = 0; i < data.setNames.length; ++i) {\n      let combinedSets = Array.apply(null, new Array(data.rawSets.length)).map(\n        Number.prototype.valueOf,\n        0\n      );\n      combinedSets[i] = 1;\n      var set = new Set(\n        setPrefix + i,\n        data.setNames[i],\n        combinedSets,\n        data.rawSets[i],\n        this.depth\n      );\n      this.sets.push(set);\n      if (i < this.noDefaultSets) {\n        set.isSelected = true;\n        this.usedSets.push(set);\n      } else {\n        set.isSelected = false;\n        this.unusedSets.push(set);\n      }\n    }\n  }\n\n  private getAlphabeticalSorting(sets: Set[]): Set[] {\n    return sets.sort((a: Set, b: Set) => {\n      return d3.ascending(a.elementName, b.elementName);\n    });\n  }\n\n  public addSet(set: Set) {\n    set.isSelected = true;\n    this.usedSets.push(set);\n    let toRemove = this.unusedSets.findIndex((s, i) => s.id === set.id);\n    this.unusedSets.splice(toRemove, 1);\n    this.setUpSubSets();\n    this.setupRenderRows(JSON.parse(sessionStorage[\"render_config\"]));\n    this.app.emit(\"render-config\", this.renderConfig);\n  }\n\n  addAttribute(attr: Attribute) {\n    let s = this.attributes.filter(_ => _.name === attr.name);\n    if (s.length === 1) {\n      this.selectedAttributes.push(s[0]);\n      this.app.emit(\"render-rows-changed\", this);\n    }\n  }\n\n  public removeSet(set: Set) {\n    set.isSelected = false;\n    let toRemove = this.usedSets.findIndex((s, i) => s.id === set.id);\n    this.usedSets.splice(toRemove, 1);\n    this.unusedSets.push(set);\n    this.setUpSubSets();\n    this.setupRenderRows(JSON.parse(sessionStorage[\"render_config\"]));\n    this.app.emit(\"render-config\", this.renderConfig);\n  }\n\n  public removeAttribute(attr: Attribute) {\n    let s = this.selectedAttributes.filter(_ => _.name === attr.name);\n    if (s.length === 1) {\n      let idx = this.selectedAttributes.findIndex(_ => _.name === attr.name);\n      if (idx !== -1) {\n        this.selectedAttributes.splice(idx, 1);\n        this.app.emit(\"render-rows-changed\", this);\n      }\n    }\n  }\n\n  /**\n   *\n   *\n   * @param {DSVParsedArray<DSVRowString>} data\n   * @param {IDataSetJSON} dataSetDesc\n   * @returns {Promise<RawData>}\n   * @memberof Data\n   */\n  private getRawData(\n    data: DSVParsedArray<DSVRowString>,\n    dataSetDesc: IDataSetJSON\n  ): Promise<RawData> {\n    let rawData: RawData = {\n      rawSets: [],\n      setNames: [],\n      header: []\n    };\n\n    let headers = data.columns;\n    rawData.header = data.columns;\n    let processedSetCount = 0;\n\n    for (let i = 0; i < dataSetDesc.sets.length; ++i) {\n      let setDef = dataSetDesc.sets[i];\n      if (setDef.format === \"binary\") {\n        let setDefLength = setDef.end - setDef.start + 1;\n\n        for (let setCount = 0; setCount < setDefLength; ++setCount) {\n          rawData.rawSets.push(new Array<number>());\n        }\n\n        let rows = data.map((row, row_idx) => {\n          return (<any>Object)\n            .entries(row)\n            .map((t: any) => t[1])\n            .map((val: string, col_idx: number) => {\n              if (col_idx >= setDef.start && col_idx <= setDef.end) {\n                let intVal = parseInt(val, 10);\n                if (isNaN(intVal)) {\n                  console.error(\"Unable to parse ${val}!\");\n                }\n                return intVal;\n              }\n              return null;\n            });\n        });\n\n        for (let r = 0; r < rows.length; ++r) {\n          if (i === 0) {\n            this.allItems.push(this.depth++);\n          }\n          for (let s = 0; s < setDefLength; ++s) {\n            rawData.rawSets[processedSetCount + s].push(\n              rows[r][setDef.start + s]\n            );\n            if (r === 1) {\n              rawData.setNames.push(headers[setDef.start + s]);\n            }\n          }\n        }\n\n        processedSetCount += setDefLength;\n      } else {\n        console.error(`Set definition format ${setDef.format} not supported.`);\n      }\n    }\n\n    return new Promise((res, rej) => {\n      res(rawData);\n    });\n  }\n\n  private setupRenderRows(\n    renderConfig: RenderConfig = null,\n    sortBySetId?: number\n  ) {\n    this.collapsedList = [];\n    this.subSetsToRemove = [];\n\n    if (renderConfig) {\n      this.renderConfig = renderConfig;\n      this.renderRows = this.render(\n        this.renderConfig.firstLevelAggregateBy,\n        this.renderConfig.secondLevelAggregateBy,\n        this.renderConfig.sortBy,\n        this.renderConfig.minDegree,\n        this.renderConfig.maxDegree,\n        this.renderConfig.firstOverlap,\n        this.renderConfig.secondOverlap,\n        this.renderConfig.sortBySetid,\n        this.renderConfig.collapseAll\n      );\n    } else {\n      if (!sortBySetId) sortBySetId = 0;\n      this.renderRows = this.render(\n        null,\n        null,\n        SortBy.SET,\n        this.renderConfig.minDegree,\n        this.renderConfig.maxDegree,\n        this.renderConfig.firstOverlap,\n        this.renderConfig.secondOverlap,\n        this.renderConfig.sortBySetid,\n        this.renderConfig.collapseAll\n      );\n    }\n\n    if (this.renderConfig.collapseAll) {\n      this.renderRows.forEach(_ => {\n        this.collapseGroup(_, true);\n      });\n    }\n\n    this.app.emit(\"render-rows-changed\", this);\n  }\n\n  private render(\n    firstAggBy: AggregateBy,\n    secondAggBy: AggregateBy,\n    sortBy: SortBy,\n    minDegree: number,\n    maxDegree: number,\n    overlap1: number,\n    overlap2: number,\n    sortBySetId?: number,\n    collapseAll: boolean = false\n  ): Array<RenderRow> {\n    let agg: RenderRow[] = [];\n\n    this.subSets\n      .filter(d => {\n        return d.noCombinedSets >= minDegree && d.noCombinedSets <= maxDegree;\n      })\n      .forEach((set: SubSet) => {\n        agg.push({ id: set.id.toString(), data: set });\n      });\n\n    if (firstAggBy === AggregateBy.OVERLAPS)\n      agg = AggregationStrategy[firstAggBy](\n        agg,\n        overlap1,\n        1,\n        this.setNameDictionary\n      );\n    else if (firstAggBy && firstAggBy !== AggregateBy.NONE)\n      agg = AggregationStrategy[firstAggBy](\n        agg,\n        overlap1,\n        1,\n        this.setNameDictionary\n      );\n    if (secondAggBy && secondAggBy !== AggregateBy.NONE)\n      agg = applySecondAggregation(\n        agg,\n        secondAggBy,\n        overlap2,\n        this.setNameDictionary\n      );\n\n    if (!this.renderConfig.hideEmptyIntersection) {\n      if (agg.filter(_ => _.data.type === RowType.GROUP).length > 0)\n        agg.forEach(_ => {\n          let group = _.data as Group;\n          group.visibleSets.push(...group.hiddenSets);\n        });\n    } else {\n      agg = agg.filter(_ => _.data.setSize > 0);\n      if (agg.filter(_ => _.data.type === RowType.GROUP).length > 0) {\n        agg.forEach(row => {\n          let group = row.data as Group;\n          group.nestedGroups = group.nestedGroups.filter(_ => _.setSize > 0);\n        });\n      }\n    }\n\n    if (sortBy) agg = applySort(agg, sortBy, sortBySetId);\n\n    agg.filter(_ => _.data instanceof Group).forEach(group => {\n      this.UpdateDictionary(group.data.items, group.id);\n    });\n\n    return agg;\n  }\n}\n\nfunction applySecondAggregation(\n  agg: RenderRow[],\n  aggBy: AggregateBy,\n  overlap: number,\n  setNameDictionary: { [key: number]: string }\n): RenderRow[] {\n  let rr: RenderRow[] = [];\n\n  agg.forEach(row => {\n    rr.push(row);\n    let group = row.data as Group;\n    let subsetRows = group.subSets.map(_ => {\n      return {\n        id: _.id.toString(),\n        data: _\n      };\n    });\n    let rendered = AggregationStrategy[aggBy](\n      subsetRows,\n      overlap,\n      2,\n      setNameDictionary\n    );\n    rendered.map(_ => (row.data as Group).addNestedGroup(_.data as Group));\n  });\n  return rr;\n}\n\nfunction applySort(\n  agg: RenderRow[],\n  sortBy: SortBy,\n  sortBySetId?: number\n): RenderRow[] {\n  let a = SortStrategy[sortBy](agg, sortBySetId);\n  return a;\n}\n","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:36:05\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-16 11:46:38\n */\nimport * as d3 from \"d3\";\nimport { Data } from \"./Data\";\nimport { IDataSetInfo } from \"./IDataSetInfo\";\nimport { IDataSetJSON } from \"./IDataSetJSON\";\nimport { Application } from \"provenance_mvvm_framework\";\nimport { IMetaData } from \"./IMetaData\";\nimport { ISetInfo } from \"./ISetInfo\";\nimport { RenderConfig } from \"./AggregateAndFilters\";\nimport { serverUrl } from \"../app/app\";\n\nexport class DataUtils {\n  static app: Application;\n  static data: Data;\n\n  static getDataSetJSON(data: any): IDataSetJSON {\n    let metas: IMetaData[] = [];\n    data.meta.forEach((d: any) => {\n      let m: IMetaData = {\n        type: d.type,\n        index: d.index,\n        name: d.name\n      };\n      metas.push(m);\n    });\n\n    let sets: ISetInfo[] = [];\n    data.sets.forEach((d: any) => {\n      let s: ISetInfo = {\n        format: d.format,\n        start: d.start,\n        end: d.end\n      };\n      sets.push(s);\n    });\n\n    let d: IDataSetJSON = {\n      file: data.file,\n      name: data.name,\n      header: data.header,\n      separator: data.separator,\n      skip: data.skip,\n      meta: metas,\n      sets: sets,\n      author: data.author,\n      description: data.description,\n      source: data.source\n    };\n    return d;\n  }\n\n  static getDataSetInfo(\n    data: IDataSetJSON,\n    fromServer: boolean = false\n  ): IDataSetInfo {\n    let info: IDataSetInfo = {\n      Name: \"\",\n      SetCount: 0,\n      AttributeCount: 0,\n      FromServer: fromServer,\n      _data: null\n    };\n    info.Name = data.name;\n    info.AttributeCount = data.meta.length;\n    info.SetCount = 0;\n    for (let i = 0; i < data.sets.length; ++i) {\n      let sdb = data.sets[i];\n\n      if (sdb.format === \"binary\") {\n        info.SetCount += sdb.end - sdb.start + 1;\n      } else {\n        console.error(`Set Definition Format ${sdb.format} not supported`);\n      }\n    }\n    info._data = data;\n    return info;\n  }\n\n  static processDataSet(datasetinfo: IDataSetInfo): any {\n    let dataSetDesc: IDataSetJSON = datasetinfo._data;\n    if (datasetinfo.FromServer) {\n      d3.dsv(\n        dataSetDesc.separator,\n        `${serverUrl}/download/single/${datasetinfo._data.file}`\n      ).then(data => {\n        let d = new Data(DataUtils.app).load(data, dataSetDesc);\n        d.then((d2: Data) => {\n          DataUtils.app.emit(\"render-config\", d2.renderConfig);\n        });\n      });\n    } else {\n      d3.dsv(dataSetDesc.separator, datasetinfo._data.file).then(data => {\n        let d = new Data(DataUtils.app).load(data, dataSetDesc);\n        d.then((d2: Data) => {\n          DataUtils.app.emit(\"render-config\", d2.renderConfig);\n        });\n      });\n    }\n  }\n}\n","export class EmbedConfig {\n  NavBar: boolean = false;\n\n  FilterBox: boolean = false;\n  DataSetInfo: boolean = false;\n  LeftSideBar: boolean = this.FilterBox || this.DataSetInfo;\n\n  RightSideBar: boolean = false;\n\n  ProvenanceView: boolean = false;\n\n  DeviationBars: boolean = false;\n  CardinalityBars: boolean = false;\n\n  private static ec: EmbedConfig;\n\n  static getConfig() {\n    if (EmbedConfig.ec === undefined || EmbedConfig.ec === null)\n      EmbedConfig.ec = new EmbedConfig();\n    EmbedConfig.ec.LeftSideBar =\n      EmbedConfig.ec.FilterBox || EmbedConfig.ec.DataSetInfo;\n    return EmbedConfig.ec;\n  }\n\n  static setConfig(_ec: EmbedConfig) {\n    if (_ec) EmbedConfig.ec = _ec;\n  }\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:57:29 \n * @Last Modified by:   Kiran Gadhave \n * @Last Modified time: 2018-06-03 16:57:29 \n */\nimport { Aggregate } from \"./Aggregate\";\nimport { SubSet } from \"./SubSet\";\nimport { BaseElement } from \"./BaseElement\";\nimport { RowType } from \"./RowType\";\n\nexport class Group extends BaseElement {\n  aggregate: Aggregate;\n  disproportionalitySum: number;\n  disproportionality: number;\n  expectedProb: number;\n  hiddenSets: SubSet[];\n  visibleSets: SubSet[];\n  subSets: SubSet[];\n  level: number;\n  nestedGroups: Array<Group>;\n  isCollapsed: boolean;\n  constructor(groupId: number | string, groupName: string, level: number) {\n    super(groupId, groupName);\n    this.type = RowType.GROUP;\n    this.isCollapsed = false;\n    this.nestedGroups = [];\n    this.level = 1;\n    if (level) this.level = level;\n\n    this.subSets = [];\n    this.visibleSets = [];\n    this.aggregate = new Aggregate(`empty${groupId}`, \"Subsets\", level + 1);\n\n    this.hiddenSets = [];\n\n    this.expectedProb = 0;\n    this.disproportionality = 0;\n    this.disproportionalitySum = 0;\n  }\n\n  addSubSet(subSet: SubSet) {\n    this.subSets.push(subSet);\n\n    if (subSet.setSize > 0) {\n      this.visibleSets.unshift(subSet);\n    } else {\n      this.hiddenSets.unshift(subSet);\n      this.aggregate.addSubSet(subSet);\n    }\n\n    this.items = this.items.concat(subSet.items);\n    this.setSize += subSet.setSize;\n    this.expectedProb += subSet.expectedProb;\n    this.disproportionality += subSet.disproportionality;\n  }\n\n  addNestedGroup(group: Group) {\n    this.nestedGroups.push(group);\n\n    this.hiddenSets = this.hiddenSets.concat(group.hiddenSets);\n    this.visibleSets = this.visibleSets.concat(group.visibleSets);\n    group.subSets.forEach(set => {\n      this.aggregate.addSubSet(set);\n    });\n\n    // this.items = this.items.concat(group.items);\n    // this.setSize += group.setSize;\n    // this.expectedProb += group.expectedProb;\n    // this.disproportionality += group.disproportionality;\n  }\n\n  contains(element: SubSet): boolean {\n    return this.subSets.indexOf(element) >= 0;\n  }\n}\n","export enum RowType {\n  SET = \"SET\",\n  SUBSET = \"SUBSET\",\n  GROUP = \"GROUP\",\n  AGGREGATE = \"AGGREGATE\",\n  QUERY_GROUP = \"QUERY_GROUP\",\n  SEPERATOR = \"SEPERATOR\",\n  UNDEFINED = \"UNDEFINED\"\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:58:07 \n * @Last Modified by:   Kiran Gadhave \n * @Last Modified time: 2018-06-03 16:58:07 \n */\nimport { BaseSet } from \"./BaseSet\";\nimport { RowType } from \"./RowType\";\nexport class Set extends BaseSet {\n  isSelected: boolean;\n  itemList: number[];\n\n  constructor(\n    setId: number | string,\n    setName: string,\n    combinedSets: number[],\n    itemList: number[],\n    depth: number,\n    isSuperCall: boolean = false\n  ) {\n    if (isSuperCall) super(setId, setName, combinedSets, itemList, depth);\n    else {\n      super(setId, setName, combinedSets, [], depth);\n      for (let i = 0; i < itemList.length; ++i) {\n        if (itemList[i] !== 0) {\n          this.items.push(i);\n          this.setSize++;\n        }\n      }\n    }\n    this.depth = depth;\n    this.dataRatio = this.setSize / this.depth;\n    this.itemList = itemList;\n    this.isSelected = false;\n    this.type = RowType.SET;\n  }\n}\n","import { SubSet } from \"./SubSet\";\nimport { RowType } from \"./RowType\";\nimport { RenderRow } from \"./../type_declarations/types\";\nimport { SortBy } from \"./AggregateAndFilters\";\nimport { Group } from \"./Group\";\n\nlet SortStrategy: {\n  [key: string]: (data: RenderRow[], setId?: number) => RenderRow[];\n} = {};\n\nSortStrategy[SortBy.CARDINALITY] = sortByCardinality;\nSortStrategy[SortBy.DEGREE] = sortByDegree;\nSortStrategy[SortBy.DEVIATION] = sortByDeviation;\nSortStrategy[SortBy.SET] = sortBySet;\n\nexport default SortStrategy;\n\n//  Sorting function definitions\nfunction sortBySet(data: RenderRow[], setId: number): RenderRow[] {\n  let a = data.sort((d1, d2) => {\n    return (\n      (d2.data as SubSet).combinedSets[setId] -\n      (d1.data as SubSet).combinedSets[setId]\n    );\n  });\n  return a;\n}\n\nfunction sortByDegree(data: RenderRow[], setId: number): RenderRow[] {\n  return data;\n}\n\nfunction sortByDeviation(data: RenderRow[], setId: number): RenderRow[] {\n  data.sort((a, b) => b.data.disproportionality - a.data.disproportionality);\n  if (data.filter(_ => _.data.type === RowType.GROUP).length > 0) {\n    data.forEach(row => {\n      let group = row.data as Group;\n      group.visibleSets.sort(\n        (a, b) => b.disproportionality - a.disproportionality\n      );\n      if (group.nestedGroups.length > 0) {\n        group.nestedGroups.sort(\n          (a, b) => b.disproportionality - a.disproportionality\n        );\n        group.nestedGroups.forEach(ng => {\n          ng.visibleSets.sort(\n            (a, b) => b.disproportionality - a.disproportionality\n          );\n        });\n      }\n    });\n  }\n  return data;\n}\n\nfunction sortByCardinality(data: RenderRow[]): RenderRow[] {\n  data.sort((a, b) => b.data.setSize - a.data.setSize);\n  if (data.filter(_ => _.data.type === RowType.GROUP).length > 0) {\n    data.forEach(row => {\n      let group = row.data as Group;\n      group.visibleSets.sort((a, b) => b.setSize - a.setSize);\n      if (group.nestedGroups.length > 0) {\n        group.nestedGroups.sort((a, b) => b.setSize - a.setSize);\n        group.nestedGroups.forEach(ng => {\n          ng.visibleSets.sort((a, b) => b.setSize - a.setSize);\n        });\n      }\n    });\n  }\n  return data;\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 16:58:11 \n * @Last Modified by:   Kiran Gadhave \n * @Last Modified time: 2018-06-03 16:58:11 \n */\nimport { Set } from \"./Set\";\nimport { RowType } from \"./RowType\";\n\nexport class SubSet extends Set {\n  expectedProb: number;\n  disproportionality: number;\n  selections: {};\n  constructor(\n    setId: number,\n    setName: string,\n    combinedSets: number[],\n    itemList: number[],\n    expectedProb: number,\n    depth: number\n  ) {\n    super(setId, setName, combinedSets, itemList, depth, true);\n    this.selections = {};\n    this.depth = depth;\n    this.expectedProb = expectedProb;\n    let observedProb = (this.setSize * 1.0) / this.depth;\n    this.disproportionality = observedProb - expectedProb;\n    this.type = RowType.SUBSET;\n  }\n\n  toString() {\n    return `Subset ${this.id}, No of Combined Sets: ${this.noCombinedSets}`;\n  }\n}\n","import * as d3 from \"d3\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport modalHtml from \"./dataset.selection.modal.view.html\";\nimport { d3Selection } from \"../type_declarations/types\";\nimport { CreateFileUploadView } from \"../lib/dsv_importer/src/app/app\";\nimport listHtml from \"./dataset.list.view.html\";\nimport datasetCardHtml from \"./dataset.info.view.html\";\nimport { serverUrl } from \"../app/app\";\nimport { DataUtils } from \"../DataStructure/DataUtils\";\n\nexport class DatasetSelectionView extends ViewBase {\n  modal: d3Selection;\n  modalContent: d3Selection;\n  constructor(root: HTMLElement) {\n    super(root);\n    let modalDiv = d3\n      .select(root)\n      .append(\"div\")\n      .html(modalHtml);\n    this.modal = modalDiv.select(\"#dataset-modal\");\n    this.modalContent = modalDiv.select(\".modal-content\");\n    this.setup();\n  }\n\n  setup() {\n    this.comm.on(\"open-dataset-selection\", this.update, this);\n    this.modal.select(\".modal-close\").on(\"click\", () => {\n      this.modal.classed(\"is-active\", false);\n    });\n  }\n\n  createUploadView() {\n    this.modalContent.html(\"\");\n    CreateFileUploadView(this.modalContent);\n  }\n\n  update() {\n    this.modal.classed(\"is-active\", true);\n    this.modalContent.html(\"\");\n    this.modalContent.html(listHtml);\n    this.modal\n      .select(\"#upload-new-dataset\")\n      .on(\"click\", this.createUploadView.bind(this));\n    let list = this.modalContent.select(\"#list\");\n    d3.json(`${serverUrl}/download/list`).then((res: any[]) => {\n      let that = this;\n\n      let pres = list.selectAll(\".box\").data(res);\n      pres.exit().remove();\n      pres = pres\n        .enter()\n        .append(\"div\")\n        .classed(\"box\", true)\n        .merge(pres);\n      pres.each(function(d) {\n        let el = d3.select(this);\n        el.html(\"\");\n        el.html(datasetCardHtml);\n        el.select(\"#dataset-name\").text(d.info.name);\n        el.select(\"#dataset-username\").text(d.info.username);\n        el.select(\"#dataset-description\").text(d.info.description);\n        el.select(\"#upload-date\").text(\n          new Date(parseInt(d.date)).toDateString()\n        );\n\n        el.on(\"click\", () => {\n          that.comm.emit(\n            \"change-dataset-trigger\",\n            DataUtils.getDataSetInfo(d.info, true)\n          );\n        });\n      });\n    });\n    // CreateFileUploadView(this.modal.select('.modal-content'));\n  }\n}\n","import { Application, ViewModelBase } from \"provenance_mvvm_framework\";\nimport { DatasetSelectionView } from \"./DatasetSelectionView\";\nimport \"./styles.scss\";\nexport class DatasetSelectionViewModel extends ViewModelBase {\n  constructor(view: DatasetSelectionView, app: Application) {\n    super(view, app);\n    this.App.on(\"open-dataset-selection\", this.update, this);\n    this.comm.on(\"change-dataset-trigger\", d => {\n      this.App.emit(\"change-dataset-trigger\", d);\n    });\n  }\n\n  update() {\n    this.comm.emit(\"open-dataset-selection\");\n  }\n}\n","// HTML\nexport default `<div class=\"card\">\n  <div class=\"card-content\">\n    <div class=\"media\">\n      <div class=\"media-left\">\n        <div class=\"media-content\">\n          <p id=\"dataset-name\" class=\"title is-4\">John Smith</p>\n          <p id=\"dataset-username\" class=\"subtitle is-6\">@johnsmith</p>\n          <time id=\"upload-date\" datetime=\"2016-1-1\"></time>\n        </div>\n      </div>\n\n      <div id=\"dataset-description\" class=\"content\">\n\n      </div>\n    </div>\n  </div>\n</div>`","// HTML\nexport default `<div class=\"container is-fluid\">\n  <div class=\"columns\">\n    <div class=\"column is-half\">\n      <div class=\"title\">All Datasets</div>\n      <div id=\"list\"></div>\n    </div>\n    <div class=\"column is-half\">\n      <div class=\"title\">\n        <button id=\"upload-new-dataset\" class=\"button is-primary\">Upload New Dataset\n        </button>\n      </div>\n\n    </div>\n  </div>\n</div>`","// HTML\nexport default `<div id=\"dataset-modal\" class=\"modal\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-content white-background\" style=\"height: 99vh; width: 99vw\">\n    <!-- Any other Bulma elements you want -->\n  </div>\n  <button class=\"modal-close is-large\" aria-label=\"close\"></button>\n</div>\n`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { Data } from \"./../DataStructure/Data\";\nimport { Attribute } from \"./../DataStructure/Attribute\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport * as d3 from \"d3\";\nimport { ElementRenderRows, ElementRenderRow } from \"./ElementViewModel\";\nimport { CreateVegaVis } from \"../VegaFactory/VegaFactory\";\nimport html from \"./dropdown.view.html\";\n\nexport class ElementView extends ViewBase {\n  ElementVisualizationDiv: d3Selection;\n  ElementQueryDiv: d3Selection;\n  ElementQueryFiltersDiv: d3Selection;\n  ElementQueryResultsDiv: d3Selection;\n  AttributeDropdownDiv: d3Selection;\n  axis1: d3Selection;\n  axis2: d3Selection;\n\n  axis1Selection: string;\n  axis2Selection: string;\n\n  data: ElementRenderRows;\n  attributes: Attribute[];\n\n  sortAscending: boolean = true;\n  currentSelection: number;\n\n  constructor(root: HTMLElement) {\n    super(root);\n    this.currentSelection = -1;\n\n    this.comm.on(\"set-axis1\", (d: string) => {\n      this.axis1Selection = d;\n      this.createVisualization(\n        this.data[this.currentSelection],\n        this.attributes\n      );\n    });\n\n    this.comm.on(\"set-axis2\", (d: string) => {\n      this.axis2Selection = d;\n      this.createVisualization(\n        this.data[this.currentSelection],\n        this.attributes\n      );\n    });\n\n    this.comm.on(\"set-axis1-trigger\", (d: string) => {\n      let _do = {\n        func: (d: string) => {\n          this.comm.emit(\"set-axis1\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: string) => {\n          this.comm.emit(\"set-axis1\", d);\n        },\n        args: [this.axis1Selection]\n      };\n      this.comm.emit(\"apply\", [\"set-axis1\", _do, _undo]);\n    });\n\n    this.comm.on(\"set-axis2-trigger\", (d: string) => {\n      let _do = {\n        func: (d: string) => {\n          this.comm.emit(\"set-axis2\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: string) => {\n          this.comm.emit(\"set-axis2\", d);\n        },\n        args: [this.axis2Selection]\n      };\n      this.comm.emit(\"apply\", [\"set-axis2\", _do, _undo]);\n    });\n\n    this.comm.on(\"remove-selection-trigger\", (idx: number) => {\n      if (this.currentSelection === idx) this.currentSelection = -1;\n      if (this.currentSelection < idx) return;\n      this.currentSelection--;\n      this.renderQueries(this.data);\n    });\n\n    this.comm.on(\"highlight-selection-trigger\", (idx: number) => {\n      let _do = {\n        func: (d: any) => {\n          this.comm.emit(\"highlight-selection\", d);\n        },\n        args: [idx]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.comm.emit(\"highlight-selection\", d);\n        },\n        args: [this.currentSelection]\n      };\n      this.comm.emit(\"apply\", [\"highlight-selection\", _do, _undo]);\n    });\n\n    this.comm.on(\n      \"highlight-selection\",\n      (idx: number, update: boolean = true) => {\n        this.highlightSelection(idx, update);\n      }\n    );\n  }\n\n  create() {\n    let base = d3.select(this.Root);\n    this.ElementQueryDiv = base.append(\"div\").attr(\"id\", \"element-query\");\n    this.ElementQueryDiv.append(\"div\")\n      .classed(\"tag is-large is-white divider\", true)\n      .text(\"Element Queries\");\n    this.ElementQueryDiv.append(\"br\");\n    this.ElementQueryDiv.append(\"div\").classed(\"columns is-multiline\", true);\n\n    let elementVis = base.append(\"div\").attr(\"id\", \"element-visualization\");\n\n    elementVis\n      .append(\"div\")\n      .classed(\"tag is-large is-white divider\", true)\n      .text(\"Element Visualization\");\n\n    this.AttributeDropdownDiv = elementVis\n      .append(\"div\")\n      .classed(\"is-centered columns dropdowns\", true);\n\n    this.axis1 = this.AttributeDropdownDiv.append(\"div\").classed(\n      \"column axis1\",\n      true\n    );\n    this.axis2 = this.AttributeDropdownDiv.append(\"div\").classed(\n      \"column axis2\",\n      true\n    );\n\n    this.axis1.html(html);\n    this.axis1.select(\".axis-label\").text(\"Axis 1\");\n    this.axis2.html(html);\n    this.axis2.select(\".axis-label\").text(\"Axis 2\");\n\n    this.ElementVisualizationDiv = elementVis\n      .append(\"div\")\n      .classed(\"is-centered columns element-vis\", true);\n\n    this.ElementQueryFiltersDiv = base\n      .append(\"div\")\n      .attr(\"id\", \"element-query-filters\");\n    this.ElementQueryFiltersDiv.append(\"div\")\n      .classed(\"tag is-large is-white divider\", true)\n      .text(\"Query Filters\");\n\n    let tableVis = base.append(\"div\").attr(\"id\", \"element-query-results\");\n    tableVis\n      .append(\"div\")\n      .classed(\"tag is-large is-white divider\", true)\n      .text(\"Query Results\");\n\n    this.ElementQueryResultsDiv = tableVis\n      .append(\"div\")\n      .classed(\"columns\", true);\n  }\n\n  update(data: ElementRenderRows, attributes: Attribute[]) {\n    this.data = data;\n    this.attributes = attributes;\n    this.clearAll();\n    if (this.currentSelection < 0 || this.currentSelection >= data.length) {\n      this.currentSelection = data.length - 1;\n      this.comm.emit(\"highlight-selection\", this.currentSelection, false);\n    }\n    this.renderQueries(data);\n\n    if (this.data.length > 0)\n      this.updateVisualizationAndResults(\n        data[this.currentSelection],\n        attributes\n      );\n  }\n\n  renderQueries(data: ElementRenderRows) {\n    let el = this.ElementQueryDiv.select(\".columns\");\n\n    let tabs = el.selectAll(\".column\").data(data);\n    tabs.exit().remove();\n    tabs = tabs\n      .enter()\n      .append(\"div\")\n      .merge(tabs)\n      .classed(\"column\", true)\n      .html(\"\");\n\n    let tabContents = tabs.append(\"a\").classed(\"button\", true);\n\n    tabContents\n      .append(\"i\")\n      .classed(\"fa fa-square color-swatch\", true)\n      .style(\"color\", d => d.color);\n    tabContents.append(\"span\").text(d => d.data.setSize);\n    let closeIcons = tabContents\n      .append(\"i\")\n      .classed(\"fa fa-times-circle close-icon\", true);\n\n    closeIcons.on(\"click\", (_, i) => {\n      this.comm.emit(\"remove-selection-trigger\", i);\n      d3.event.stopPropagation();\n    });\n\n    tabContents.on(\"click\", (d, i) => {\n      this.comm.emit(\"highlight-selection-trigger\", i);\n    });\n\n    tabContents.classed(\"is-primary\", (_, i) => i === this.currentSelection);\n  }\n\n  highlightSelection(idx: number, update: boolean = true) {\n    this.currentSelection = idx;\n    if (update) this.update(this.data, this.attributes);\n  }\n\n  updateVisualizationAndResults(\n    data: ElementRenderRow,\n    attributes: Attribute[]\n  ) {\n    this.createVisualization(data, attributes);\n    this.createTable(data, attributes);\n    this.updateHeights();\n  }\n\n  updateHeights() {\n    let queryHeight = parsePxToInt(d3.select(\"#element-query\").style(\"height\"));\n    let elementVisHeight = parsePxToInt(\n      d3.select(\"#element-visualization\").style(\"height\")\n    );\n    let queryFiltersHeight = parsePxToInt(\n      d3.select(\"#element-query-filters\").style(\"height\")\n    );\n    let navBarHeight = parsePxToInt(\n      d3.select(\"#navigation-bar\").style(\"height\")\n    );\n    let bodyHeight = parsePxToInt(d3.select(\"body\").style(\"height\"));\n    d3.select(\"#element-query-results\").style(\n      \"height\",\n      `${bodyHeight -\n        (navBarHeight + queryHeight + elementVisHeight + queryFiltersHeight)}px`\n    );\n  }\n\n  clearAll() {\n    this.ElementVisualizationDiv.html(\"\");\n    this.ElementQueryResultsDiv.html(\"\");\n  }\n\n  createVisualization(data: ElementRenderRow, attributes: Attribute[]) {\n    let plottableAttributes = attributes.filter(\n      _ => _.type === \"integer\" || _.type === \"float\"\n    );\n\n    let op1 = this.axis1\n      .select(\".options\")\n      .selectAll(\"option\")\n      .data(plottableAttributes);\n    op1.exit().remove();\n    op1 = op1\n      .enter()\n      .append(\"option\")\n      .merge(op1);\n    op1.text(d => d.name);\n\n    let op2 = this.axis2\n      .select(\".options\")\n      .selectAll(\"option\")\n      .data(plottableAttributes);\n    op2.exit().remove();\n    op2 = op2\n      .enter()\n      .append(\"option\")\n      .merge(op2);\n    op2.text(d => d.name);\n    let that = this;\n\n    this.axis1.select(\".options\").on(\"input\", function(d) {\n      that.comm.emit(\"set-axis1-trigger\", (this as any).value);\n    });\n\n    this.axis2.select(\".options\").on(\"input\", function(d) {\n      that.comm.emit(\"set-axis2-trigger\", (this as any).value);\n    });\n\n    if (!this.axis1Selection)\n      this.axis1Selection = this.axis1.select(\".options\").property(\"value\");\n    else {\n      this.axis1\n        .select(\".options\")\n        .selectAll(\"option\")\n        .property(\"selected\", (d: any) => {\n          return d.name === this.axis1Selection;\n        });\n    }\n\n    if (!this.axis2Selection)\n      this.axis2Selection = this.axis2.select(\".options\").property(\"value\");\n    else {\n      this.axis2\n        .select(\".options\")\n        .selectAll(\"option\")\n        .property(\"selected\", (d: any) => {\n          return d.name === this.axis2Selection;\n        });\n    }\n\n    let a1_attr = attributes.filter(_ => _.name === this.axis1Selection)[0];\n    let a2_attr = attributes.filter(_ => _.name === this.axis2Selection)[0];\n\n    if (!a1_attr || !a2_attr) return;\n\n    let spec = {\n      $schema: \"https://vega.github.io/schema/vega-lite/v3.0.0-rc8.json\",\n      data: { values: data.arr },\n      mark: {\n        type: \"circle\",\n        tooltip: {\n          content: \"data\"\n        }\n      },\n      encoding: {\n        x: {\n          field: this.axis1Selection,\n          type: \"quantitative\",\n          scale: { domain: [a1_attr.min, a1_attr.max] }\n        },\n        y: {\n          field: this.axis2Selection,\n          type: \"quantitative\",\n          scale: { domain: [a2_attr.min, a2_attr.max] }\n        }\n      }\n    };\n\n    CreateVegaVis(spec, this.ElementVisualizationDiv);\n  }\n\n  createTable(data: ElementRenderRow, attributes: Attribute[]) {\n    let table = this.ElementQueryResultsDiv.append(\"table\");\n\n    let headers = table\n      .append(\"thead\")\n      .append(\"tr\")\n      .selectAll(\"th\")\n      .data(attributes.map(_ => _.name));\n    headers.exit().remove();\n    headers = headers\n      .enter()\n      .append(\"th\")\n      .merge(headers)\n      .classed(\"has-text-white\", true);\n\n    headers.text(d => d);\n\n    let rows = table\n      .append(\"tbody\")\n      .selectAll(\"tr\")\n      .data(data.arr);\n    rows.exit().remove();\n    rows = rows\n      .enter()\n      .append(\"tr\")\n      .merge(rows);\n\n    let cells = rows.selectAll(\"td\").data(d => {\n      return attributes.map(_ => _.name).map(k => {\n        return {\n          value: d[k],\n          name: k\n        };\n      });\n    });\n\n    cells.exit().remove();\n    cells = cells\n      .enter()\n      .append(\"td\")\n      .merge(cells);\n\n    cells.attr(\"data-th\", d => d.name);\n    cells.text(d => d.value);\n\n    let that = this;\n    headers.on(\"click\", function(d) {\n      headers.attr(\"class\", \"header has-text-white\");\n\n      if (that.sortAscending) {\n        rows.sort((a, b) => {\n          return b[d] - a[d];\n        });\n        that.sortAscending = !that.sortAscending;\n        (this as any).className = \"aes has-text-white\";\n      } else {\n        rows.sort((a, b) => {\n          return a[d] - b[d];\n        });\n        that.sortAscending = !that.sortAscending;\n        (this as any).className = \"des has-text-white\";\n      }\n    });\n  }\n}\n\nfunction parsePxToInt(pixel: string): number {\n  return parseInt(pixel, 10);\n}\n","import { Attribute } from \"./../DataStructure/Attribute\";\nimport { Data } from \"./../DataStructure/Data\";\nimport { RenderRow } from \"./../type_declarations/types\";\nimport { ElementView } from \"./ElementView\";\nimport { Application } from \"provenance_mvvm_framework\";\nimport { ViewModelBase } from \"provenance_mvvm_framework\";\nimport \"./styles.scss\";\n\nexport type ElementRenderRow = RenderRow & {\n  arr: any[];\n  color: string;\n};\n\nexport type ElementRenderRows = ElementRenderRow[];\n\nexport class ElementViewModel extends ViewModelBase {\n  private selectedSets: ElementRenderRows;\n  private dataset: Data;\n\n  constructor(view: ElementView, app: Application) {\n    super(view, app);\n    this.selectedSets = [];\n\n    this.App.on(\"render-rows-changed\", (data: Data) => {\n      if (!this.dataset || this.dataset.name != data.name) {\n        this.dataset = data;\n        this.selectedSets = [];\n        this.getDefault();\n      }\n    });\n\n    this.App.on(\"add-selection\", this.addSelection, this);\n    this.App.on(\"remove-selection\", this.removeSelection, this);\n    this.App.on(\n      \"add-selection-trigger\",\n      (d: RenderRow) => {\n        this.comm.emit(\"add-selection-trigger\", d);\n      },\n      this\n    );\n\n    this.App.on(\n      \"remove-selection-trigger\",\n      (idx: number) => {\n        this.comm.emit(\"remove-selection-trigger\", idx);\n      },\n      this\n    );\n\n    this.comm.on(\"add-selection-trigger\", (d: RenderRow) => {\n      let _do = {\n        func: (d: RenderRow) => {\n          this.App.emit(\"add-selection\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (idx: number) => {\n          this.App.emit(\"remove-selection\", idx);\n        },\n        args: [this.selectedSets.length]\n      };\n      this.apply.call(this, [\"add-selection\", _do, _undo]);\n    });\n\n    this.comm.on(\"remove-selection-trigger\", (idx: number) => {\n      let _do = {\n        func: (idx: number) => {\n          this.App.emit(\"remove-selection\", idx);\n        },\n        args: [idx]\n      };\n      let _undo = {\n        func: (d: RenderRow) => {\n          this.App.emit(\"add-selection\", d);\n        },\n        args: [this.selectedSets[idx]]\n      };\n      this.apply.call(this, [\"remove-selection\", _do, _undo]);\n    });\n\n    this.comm.on(\"apply\", ([name, _do, _undo]) => {\n      this.apply.call(this, [name, _do, _undo]);\n    });\n\n    this.register();\n  }\n\n  register() {\n    this.registerFunctions(\n      \"highlight-selection\",\n      (idx: number) => {\n        this.comm.emit(\"highlight-selection\", idx);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"highlight-selection\",\n      (idx: number) => {\n        this.comm.emit(\"highlight-selection\", idx);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"add-selection\",\n      (d: RenderRow) => {\n        this.App.emit(\"add-selection\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"add-selection\",\n      (idx: number) => {\n        this.App.emit(\"remove-selection\", idx);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"remove-selection\",\n      (idx: number) => {\n        this.App.emit(\"remove-selection\", idx);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"remove-selection\",\n      (d: RenderRow) => {\n        this.App.emit(\"add-selection\", d);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"set-axis1\",\n      (d: string) => {\n        this.comm.emit(\"set-axis1\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"set-axis1\",\n      (d: string) => {\n        this.comm.emit(\"set-axis1\", d);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"set-axis2\",\n      (d: string) => {\n        this.comm.emit(\"set-axis2\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"set-axis2\",\n      (d: string) => {\n        this.comm.emit(\"set-axis2\", d);\n      },\n      this,\n      false\n    );\n  }\n\n  addSelection(sel: RenderRow) {\n    this.selectedSets = this.selectedSets.filter(_ => _.id !== \"DEFAULT\");\n    let validAttributes = this.dataset.attributes.filter(\n      _ => _.name !== \"Sets\"\n    );\n    let n_row = createObjectsFromSubsets(sel, validAttributes);\n    this.selectedSets.push(n_row);\n    this.update();\n  }\n\n  removeSelection(idx: number) {\n    let el = this.selectedSets.splice(idx, 1);\n    removeColor(el[0].color);\n    if (this.selectedSets.length === 0) {\n      this.getDefault();\n    } else this.update();\n  }\n\n  getDefault() {\n    let validAttributes = this.dataset.attributes.filter(\n      _ => _.name !== \"Sets\"\n    );\n    this.comm.emit(\n      \"update\",\n      [createObjectFromItems(this.dataset.allItems, validAttributes)],\n      validAttributes\n    );\n  }\n\n  update() {\n    let validAttributes = this.dataset.attributes.filter(\n      _ => _.name !== \"Sets\"\n    );\n    this.comm.emit(\"update\", this.selectedSets, validAttributes);\n  }\n}\n\nfunction createObjectsFromSubsets(\n  row: RenderRow,\n  attributes: Attribute[]\n): ElementRenderRow {\n  let items = row.data.items;\n  let arr = items.map(i => {\n    let obj: any = {};\n    attributes.forEach((attr: Attribute) => {\n      obj[attr.name] = attr.values[i];\n    });\n\n    return obj;\n  });\n  return {\n    id: row.id,\n    data: row.data,\n    arr: arr,\n    color: selectColor()\n  };\n}\n\nfunction createObjectFromItems(\n  items: number[],\n  attributes: Attribute[]\n): ElementRenderRow {\n  let arr = items.map(i => {\n    let obj: any = {};\n    attributes.forEach((attr: Attribute) => {\n      obj[attr.name] = attr.values[i];\n    });\n\n    return obj;\n  });\n  return {\n    id: \"DEFAULT\",\n    data: {\n      setSize: items.length\n    } as any,\n    arr: arr,\n    color: selectColor()\n  };\n}\n\nlet chosenColor: string[] = [];\n\nfunction selectColor(): string {\n  let availableColors = colorList.filter(c => chosenColor.indexOf(c) < 0);\n  if (availableColors.length === 0) return \"#000\";\n  chosenColor.push(availableColors[0]);\n  return availableColors[0];\n}\n\nfunction removeColor(color: string) {\n  if (chosenColor.indexOf(color) < 0) return;\n  let idx = chosenColor.indexOf(color);\n  chosenColor.splice(idx, 1);\n}\n\nexport const colorList = [\n  \"#e6194b\",\n  \"#3cb44b\",\n  \"#ffe119\",\n  \"#4363d8\",\n  \"#f58231\",\n  \"#911eb4\",\n  \"#46f0f0\",\n  \"#f032e6\",\n  \"#bcf60c\",\n  \"#fabebe\",\n  \"#008080\",\n  \"#9a6324\",\n  \"#800000\",\n  \"#aaffc3\",\n  \"#808000\",\n  \"#000075\",\n  \"#000000\"\n];\n","// HTML\nexport default `<span class=\"axis-label\">Axis 1</span>\n<div class=\"select is-small\">\n  <select class=\"options\">\n    <!-- <option>With options</option> -->\n  </select>\n</div>`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { EmbedConfig } from \"./../DataStructure/EmbedConfig\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport html from \"./embedgen.view.html\";\nimport * as d3 from \"d3\";\nimport \"./styles.scss\";\n\nexport function EmbedGenView(base: d3Selection) {\n  base.html(base.html() + html);\n  addShowCloseEvents(base);\n  addInsertIFrameEvent(base);\n  readCheckBoxEvents(base);\n  addCheckboxEvents(base);\n}\n\nfunction addShowCloseEvents(base: d3Selection) {\n  base.select(\".delete\").on(\"click\", () => {\n    base.select(\".modal\").classed(\"is-active\", false);\n  });\n  base.select(\".show\").on(\"click\", () => {\n    base.select(\".modal\").classed(\"is-active\", true);\n  });\n  base.select(\".modal-background\").on(\"click\", () => {\n    base.select(\".modal\").classed(\"is-active\", false);\n  });\n}\n\nfunction addInsertIFrameEvent(base: d3Selection) {\n  base.select(\".copy-button\").on(\"click\", () => {\n    let i = d3\n      .select(\".embeded-view\")\n      .selectAll(\"iframe\")\n      .data([1]);\n    i.exit().remove();\n    i.enter()\n      .append(\"iframe\")\n      .merge(i)\n      .attr(\"height\", 500)\n      .attr(\"width\", 1000)\n      .attr(\"data\", () => {\n        return JSON.stringify(EmbedConfig.getConfig());\n      })\n      .attr(\"class\", \"upset\")\n      .attr(\n        \"src\",\n        `https://vdl.sci.utah.edu/upset2/embed.html#${JSON.stringify(\n          EmbedConfig.getConfig()\n        )}`\n      );\n\n    let _i = d3.select(\".embeded-view\");\n    base.select(\".code\").property(\"value\", _i.html());\n    (base.select(\".code\").node() as any).select();\n    document.execCommand(\"copy\");\n    _i.html(\"\");\n    _i.remove();\n  });\n}\n\nfunction addCheckboxEvents(base: d3Selection) {\n  base.select(\".filter-box\").on(\"change\", function() {\n    let ec = EmbedConfig.getConfig();\n    ec.FilterBox = d3.select(this).property(\"checked\");\n    EmbedConfig.setConfig(ec);\n  });\n  base.select(\".dataset-info-box\").on(\"change\", function() {\n    let ec = EmbedConfig.getConfig();\n    ec.DataSetInfo = d3.select(this).property(\"checked\");\n    EmbedConfig.setConfig(ec);\n  });\n  base.select(\".provenance-view\").on(\"change\", function() {\n    let ec = EmbedConfig.getConfig();\n    ec.ProvenanceView = d3.select(this).property(\"checked\");\n    EmbedConfig.setConfig(ec);\n  });\n  base.select(\".deviation-bar\").on(\"change\", function() {\n    let ec = EmbedConfig.getConfig();\n    ec.DeviationBars = d3.select(this).property(\"checked\");\n    EmbedConfig.setConfig(ec);\n  });\n  base.select(\".cardinality-bar\").on(\"change\", function() {\n    let ec = EmbedConfig.getConfig();\n    ec.CardinalityBars = d3.select(this).property(\"checked\");\n    EmbedConfig.setConfig(ec);\n  });\n}\n\nfunction readCheckBoxEvents(base: d3Selection) {\n  let ec = EmbedConfig.getConfig();\n  ec.FilterBox = base.select(\".filter-box\").property(\"checked\");\n  ec.DataSetInfo = base.select(\".dataset-info-box\").property(\"checked\");\n  ec.ProvenanceView = base.select(\".provenance-view\").property(\"checked\");\n  ec.DeviationBars = base.select(\".deviation-bar\").property(\"checked\");\n  ec.CardinalityBars = base.select(\".cardinality-bar\").property(\"checked\");\n  EmbedConfig.setConfig(ec);\n}\n","// HTML\nexport default `<div class=\"modal\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-card\">\n    <header class=\"modal-card-head\">\n      <p class=\"modal-card-title\">Embed Upset Plot</p>\n      <button class=\"delete\" aria-label=\"close\"></button>\n    </header>\n    <section class=\"modal-card-body\">\n      <div class=\"content\">\n        <h4>Select elements to embed:</h4>\n      </div>\n      <div class=\"embed-params\">\n        <!-- Add Checkboxes here -->\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" class=\"filter-box\" checked=\"\"> Filters\n        </label>\n\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" class=\"dataset-info-box\" checked=\"\"> Dataset Info\n        </label>\n\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" class=\"provenance-view\" checked=\"\"> Provenance View\n        </label>\n\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" class=\"deviation-bar\" checked=\"\"> Deviation\n        </label>\n\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" class=\"cardinality-bar\" checked=\"\"> Cardinality\n        </label>\n\n      </div>\n      <textarea class=\"code textarea\" placeholder=\"Your Embed Code\"></textarea>\n    </section>\n    <footer class=\"modal-card-foot\">\n      <button class=\"copy-button button is-success\">Copy</button>\n    </footer>\n  </div>\n</div>`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { AggregateBy, SortBy } from \"./../DataStructure/AggregateAndFilters\";\n/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 14:36:32 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-07 15:43:50\n */\nimport * as d3 from \"d3\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport html from \"./filterbox.view.html\";\nimport { RenderConfig } from \"../DataStructure/AggregateAndFilters\";\nimport { min } from \"d3\";\n\nexport class FilterBoxView extends ViewBase {\n  get config(): RenderConfig {\n    if (!(sessionStorage as any)[\"render_config\"])\n      this.saveConfig(new RenderConfig());\n    return JSON.parse((sessionStorage as any)[\"render_config\"]);\n  }\n\n  constructor(root: HTMLElement) {\n    super(root);\n    this.comm.on(\"sort-by-set\", (id: number) => {\n      let rc = Object.assign(\n        Object.create(Object.getPrototypeOf(this.config)),\n        this.config\n      );\n      let _do = {\n        func: this.applySortBySet.bind(this),\n        args: [id]\n      };\n      let _undo = {\n        func: this.unApplySortBySet.bind(this),\n        args: [rc]\n      };\n\n      this.comm.emit(\"apply\", [\"sortBySet\", _do, _undo]);\n    });\n\n    this.comm.on(\"sort-by-cardinality\", () => {\n      let rc = Object.assign(\n        Object.create(Object.getPrototypeOf(this.config)),\n        this.config\n      );\n      let _do = {\n        func: this.applySortByCardinality.bind(this),\n        args: [] as any\n      };\n      let _undo = {\n        func: this.unApplySortByCardinality.bind(this),\n        args: [rc]\n      };\n\n      this.comm.emit(\"apply\", [\"sortByCardinality\", _do, _undo]);\n    });\n\n    this.comm.on(\"sort-by-deviation\", () => {\n      let rc = Object.assign(\n        Object.create(Object.getPrototypeOf(this.config)),\n        this.config\n      );\n      let _do = {\n        func: this.applySortByDeviation.bind(this),\n        args: [] as any\n      };\n      let _undo = {\n        func: this.unApplySortByDeviation.bind(this),\n        args: [rc]\n      };\n\n      this.comm.emit(\"apply\", [\"sortByDeviation\", _do, _undo]);\n    });\n  }\n\n  create() {\n    d3.select(this.Root).html(html);\n    this.update();\n  }\n\n  update() {\n    this.updateAggregationDropdowns();\n    this.updateCollapseAll();\n    this.updateSortByOptions();\n    this.updateOverlaps();\n    this.updateDataFields();\n  }\n\n  private updateCollapseAll() {\n    let checkbox = d3.select(\"#collapseAll\");\n    checkbox.property(\"checked\", this.config.collapseAll);\n    let that = this;\n    checkbox.on(\"change\", function() {\n      let el = d3.select(this);\n      let val = el.property(\"checked\");\n      let _do = {\n        func: that.applyCollapseAll.bind(that),\n        args: [val]\n      };\n      let _undo = {\n        func: that.applyCollapseAll.bind(that),\n        args: [!val]\n      };\n      that.comm.emit(\"apply\", [\"apply-collapse-all\", _do, _undo]);\n    });\n  }\n\n  private updateDataFields() {\n    let minDegree = d3.select(\"#minDegree\");\n    let maxDegree = d3.select(\"#maxDegree\");\n    let hideEmpty = d3.select(\"#hideEmpty\");\n\n    let firstOverlap = d3.select(this.Root).select(\"#overlap-one\");\n    let secondOverlap = d3.select(this.Root).select(\"#overlap-two\");\n\n    firstOverlap\n      .select(\"#first-overlap-input\")\n      .property(\"value\", this.config.firstOverlap);\n    secondOverlap\n      .select(\"#second-overlap-input\")\n      .property(\"value\", this.config.secondOverlap);\n\n    minDegree.attr(\"value\", this.config.minDegree);\n    maxDegree.attr(\"value\", this.config.maxDegree);\n    hideEmpty.property(\"checked\", this.config.hideEmptyIntersection);\n    let t = this;\n\n    minDegree.on(\"change\", function() {\n      let newVal = d3.select(this).property(\"value\");\n\n      let _do = {\n        func: t.applyMinDegreeChange.bind(t),\n        args: [newVal]\n      };\n\n      let _undo = {\n        func: t.applyMinDegreeChange.bind(t),\n        args: [t.config.minDegree]\n      };\n\n      t.comm.emit(\"apply\", [\"applyMinDegreeChange\", _do, _undo]);\n    });\n\n    maxDegree.on(\"change\", function() {\n      let newVal = d3.select(this).property(\"value\");\n\n      let _do = {\n        func: t.applyMaxDegreeChange.bind(t),\n        args: [newVal]\n      };\n\n      let _undo = {\n        func: t.applyMaxDegreeChange.bind(t),\n        args: [t.config.maxDegree]\n      };\n\n      t.comm.emit(\"apply\", [\"applyMaxDegreeChange\", _do, _undo]);\n    });\n\n    hideEmpty.on(\"change\", function() {\n      let hide = d3.select(this).property(\"checked\");\n\n      let _do = {\n        func: t.applyHideEmpty.bind(t),\n        args: [hide]\n      };\n\n      let _undo = {\n        func: t.applyHideEmpty.bind(t),\n        args: [t.config.hideEmptyIntersection]\n      };\n\n      t.comm.emit(\"apply\", [\"applyHideEmpty\", _do, _undo]);\n    });\n  }\n\n  private updateSortByOptions() {\n    let sortby = Object.keys(SortBy);\n    sortby.splice(-1, 1);\n    let sortByOptions = d3\n      .select(this.Root)\n      .select(\"#sortByOptions\")\n      .selectAll(\".sortOption\")\n      .data(sortby);\n\n    sortByOptions.exit().remove();\n\n    let sortLabels = sortByOptions\n      .enter()\n      .append(\"div\")\n      .attr(\"class\", \"sortOption\")\n      .html(\"\")\n      .append(\"label\")\n      .attr(\"class\", \"radio\");\n\n    sortLabels\n      .append(\"input\")\n      .attr(\"name\", \"sortAnswer\")\n      .attr(\"type\", \"radio\")\n      .property(\"checked\", (d, i) => {\n        return this.config.sortBy === d;\n      });\n\n    sortLabels.on(\"click\", (d: any, i) => {\n      let current = \"\";\n      sortLabels.each(function(d) {\n        if (\n          d3\n            .select(this)\n            .select(\"input\")\n            .property(\"checked\") === true\n        )\n          current = d;\n      });\n\n      let _do = {\n        func: this.applySortBy.bind(this),\n        args: [d]\n      };\n\n      let _undo = {\n        func: this.applySortBy.bind(this),\n        args: [current]\n      };\n\n      this.comm.emit(\"apply\", [\"applySortBy\", _do, _undo]);\n    });\n\n    sortLabels.append(\"span\").text((d, i) => {\n      return ` ${d}`;\n    });\n  }\n\n  private updateAggregationDropdowns() {\n    if (this.config.firstLevelAggregateBy === AggregateBy.NONE) {\n      d3.select(\"#secondAgg\").html(\"\");\n    } else {\n      d3.select(this.Root).html(html);\n    }\n\n    let firstAggBy = d3.select(this.Root).select(\"#firstAggByDropdown\");\n    let secondAggBy = d3.select(this.Root).select(\"#secondAggByDropdown\");\n\n    let aggOptions = Object.keys(AggregateBy);\n    let firstAggByOptions = d3\n      .select(this.Root)\n      .select(\"#firstAggByOptions\")\n      .selectAll(\".dropdown-item\")\n      .data(aggOptions);\n    firstAggBy.text(this.config.firstLevelAggregateBy);\n\n    firstAggByOptions.exit().remove();\n    firstAggByOptions\n      .enter()\n      .append(\"div\")\n      .attr(\"class\", \"dropdown-item\")\n      .text((d, i) => {\n        return d;\n      })\n      .on(\"click\", (d: any, i) => {\n        let current = firstAggBy.text();\n\n        let _do = {\n          func: this.applyFirstAggregation.bind(this),\n          args: [d]\n        };\n\n        let _undo = {\n          func: this.applyFirstAggregation.bind(this),\n          args: [current]\n        };\n\n        this.comm.emit(\"apply\", [\"applyFirstAggregation\", _do, _undo]);\n      });\n\n    aggOptions.splice(aggOptions.indexOf(this.config.firstLevelAggregateBy), 1);\n\n    let secondAggByOptions = d3\n      .select(this.Root)\n      .select(\"#secondAggByOptions\")\n      .selectAll(\".dropdown-item\")\n      .data(aggOptions);\n\n    secondAggBy.text(this.config.secondLevelAggregateBy);\n\n    secondAggByOptions.exit().remove();\n\n    secondAggByOptions\n      .enter()\n      .append(\"div\")\n      .attr(\"class\", \"dropdown-item\")\n      .text((d, i) => {\n        return d;\n      })\n      .on(\"click\", (d: any, i) => {\n        let current = secondAggBy.text();\n        let overlap = this.config.secondOverlap;\n        let _do = {\n          func: this.applySecondAggregation.bind(this),\n          args: [d]\n        };\n        let _undo = {\n          func: this.applySecondAggregation.bind(this),\n          args: [current]\n        };\n\n        this.comm.emit(\"apply\", [\"applySecondAggregation\", _do, _undo]);\n      });\n  }\n\n  private updateOverlaps() {\n    let firstOverlap = d3.select(\"#first-overlap-input\");\n    let secondOverlap = d3.select(\"#second-overlap-input\");\n    let t = this;\n    firstOverlap.on(\"change\", function() {\n      let overlap = d3.select(this).property(\"value\");\n\n      let _do = {\n        func: t.applyFirstOverlap.bind(t),\n        args: [overlap]\n      };\n      let _undo = {\n        func: t.applyFirstOverlap.bind(t),\n        args: [t.config.firstOverlap]\n      };\n\n      t.comm.emit(\"apply\", [\"applyFirstOverlap\", _do, _undo]);\n    });\n\n    secondOverlap.on(\"change\", function() {\n      let overlap = d3.select(this).property(\"value\");\n\n      let _do = {\n        func: t.applySecondOverlap.bind(t),\n        args: [overlap]\n      };\n      let _undo = {\n        func: t.applySecondOverlap.bind(t),\n        args: [t.config.secondOverlap]\n      };\n\n      t.comm.emit(\"apply\", [\"applySecondOverlap\", _do, _undo]);\n    });\n  }\n\n  private saveConfig(config: RenderConfig, update: boolean = true) {\n    (sessionStorage as any)[\"render_config\"] = JSON.stringify(config);\n    if (update) this.comm.emit(\"filter-changed\", this.config);\n  }\n\n  applyFirstAggregation(d: any) {\n    let rc = this.config;\n    rc.firstLevelAggregateBy = <AggregateBy>AggregateBy[d];\n    if (rc.secondLevelAggregateBy === rc.firstLevelAggregateBy) {\n      rc.secondLevelAggregateBy = AggregateBy.NONE;\n    }\n    if (rc.firstLevelAggregateBy === AggregateBy.NONE)\n      rc.secondLevelAggregateBy = AggregateBy.NONE;\n    if (\n      rc.firstLevelAggregateBy !== AggregateBy.NONE &&\n      rc.sortBy === SortBy.SET\n    )\n      rc.sortBy = SortBy.DEGREE;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySecondAggregation(d: any) {\n    let rc = this.config;\n    rc.secondLevelAggregateBy = <AggregateBy>AggregateBy[d];\n\n    if (\n      rc.secondLevelAggregateBy !== AggregateBy.NONE &&\n      rc.sortBy === SortBy.SET\n    )\n      rc.sortBy = SortBy.DEGREE;\n\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySortBy(d: any) {\n    let rc = this.config;\n    rc.sortBy = <SortBy>SortBy[d];\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applyFirstOverlap(d: number) {\n    let rc = this.config;\n    rc.firstOverlap = d;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySecondOverlap(d: number) {\n    let rc = this.config;\n    rc.secondOverlap = d;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applyMinDegreeChange(d: number) {\n    let rc = this.config;\n    rc.minDegree = d;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applyMaxDegreeChange(d: number) {\n    let rc = this.config;\n    rc.maxDegree = d;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applyHideEmpty(d: boolean) {\n    let rc = this.config;\n    rc.hideEmptyIntersection = d;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySortBySet(id: number) {\n    let rc = this.config;\n    rc.firstLevelAggregateBy = AggregateBy.NONE;\n    rc.secondLevelAggregateBy = AggregateBy.NONE;\n    rc.sortBy = SortBy.SET;\n    rc.sortBySetid = id;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  unApplySortBySet(rc: RenderConfig) {\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applyCollapseAll(val: boolean) {\n    let rc = this.config;\n    rc.collapseAll = val;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySortByCardinality() {\n    let rc = this.config;\n    rc.sortBy = SortBy.CARDINALITY;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  unApplySortByCardinality(rc: RenderConfig) {\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  applySortByDeviation() {\n    let rc = this.config;\n    rc.sortBy = SortBy.DEVIATION;\n    this.saveConfig(rc);\n    this.update();\n  }\n\n  unApplySortByDeviation(rc: RenderConfig) {\n    this.saveConfig(rc);\n    this.update();\n  }\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 14:38:25 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-07 19:30:26\n */\nimport { Application } from \"provenance_mvvm_framework\";\nimport { ViewModelBase } from \"provenance_mvvm_framework\";\nimport { FilterBoxView } from \"./FilterBoxView\";\nimport \"./styles.scss\";\nimport { RenderConfig } from \"../DataStructure/AggregateAndFilters\";\n\nexport class FilterBoxViewModel extends ViewModelBase {\n  get config(): RenderConfig {\n    if (!(sessionStorage as any)[\"render_config\"])\n      this.saveConfig(new RenderConfig());\n    return JSON.parse((sessionStorage as any)[\"render_config\"]);\n  }\n\n  constructor(view: FilterBoxView, app: Application) {\n    super(view, app);\n    this.comm.on(\"filter-changed\", (config: RenderConfig) => {\n      this.App.emit(\"filter-changed\", config, null);\n    });\n\n    this.App.on(\"sort-by-set\", (id: number) => {\n      this.comm.emit(\"sort-by-set\", id);\n    });\n\n    this.App.on(\"sort-by-cardinality\", () => {\n      this.comm.emit(\"sort-by-cardinality\");\n    });\n\n    this.App.on(\"sort-by-deviation\", () => {\n      this.comm.emit(\"sort-by-deviation\");\n    });\n\n    this.App.on(\"change-dataset\", d => {\n      let rc = this.config;\n      rc.currentFile = d;\n      this.saveConfig(rc);\n    });\n\n    this.registerFunctions(\n      \"applyFirstAggregation\",\n      view.applyFirstAggregation,\n      view\n    );\n    this.registerFunctions(\n      \"applySecondAggregation\",\n      view.applySecondAggregation,\n      view\n    );\n    this.registerFunctions(\"applySortBy\", view.applySortBy, view);\n    this.registerFunctions(\"applyFirstOverlap\", view.applyFirstOverlap, view);\n    this.registerFunctions(\"applySecondOverlap\", view.applySecondOverlap, view);\n    this.registerFunctions(\n      \"applyMinDegreeChange\",\n      view.applyMinDegreeChange,\n      view\n    );\n    this.registerFunctions(\n      \"applyMaxDegreeChange\",\n      view.applyMaxDegreeChange,\n      view\n    );\n    this.registerFunctions(\"applyHideEmpty\", view.applyHideEmpty, view);\n    this.registerFunctions(\"sortBySet\", view.applySortBySet, view);\n    this.registerFunctions(\n      \"sortByCardinality\",\n      view.applySortByCardinality,\n      view\n    );\n    this.registerFunctions(\"sortByDeviation\", view.applySortByDeviation, view);\n    this.registerFunctions(\"apply-collapse-all\", view.applyCollapseAll, view);\n\n    /** Undo Registration */\n    this.registerFunctions(\n      \"applyFirstAggregation\",\n      view.applyFirstAggregation,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"applySecondAggregation\",\n      view.applySecondAggregation,\n      view,\n      false\n    );\n    this.registerFunctions(\"applySortBy\", view.applySortBy, view, false);\n    this.registerFunctions(\n      \"applyFirstOverlap\",\n      view.applyFirstOverlap,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"applySecondOverlap\",\n      view.applySecondOverlap,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"applyMinDegreeChange\",\n      view.applyMinDegreeChange,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"applyMaxDegreeChange\",\n      view.applyMaxDegreeChange,\n      view,\n      false\n    );\n    this.registerFunctions(\"applyHideEmpty\", view.applyHideEmpty, view, false);\n    this.registerFunctions(\"sortBySet\", view.unApplySortBySet, view, false);\n    this.registerFunctions(\n      \"sortByCardinality\",\n      view.unApplySortByCardinality,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"sortByDeviation\",\n      view.unApplySortByDeviation,\n      view,\n      false\n    );\n    this.registerFunctions(\n      \"apply-collapse-all\",\n      view.applyCollapseAll,\n      view,\n      false\n    );\n\n    this.comm.on(\"apply\", args => {\n      this.apply(args);\n    });\n  }\n\n  private saveConfig(config: RenderConfig, update: boolean = true) {\n    (sessionStorage as any)[\"render_config\"] = JSON.stringify(config);\n    if (update) this.comm.emit(\"filter-changed\", this.config);\n  }\n}\n","// HTML\nexport default `<div class=\"container is-fluid override  is-size-7\">\n  <div>\n    <div class=\"make-bold  is-size-6\">\n      First, aggregate by:\n    </div>\n    <div class=\"dropdown is-hoverable\">\n      <div id=\"firstAggByDropdown\" class=\"dropdown-trigger navbar-link\">\n      </div>\n      <div class=\"dropdown-menu\">\n        <div id=\"firstAggByOptions\" class=\"dropdown-content\">\n          <!-- <div class=\"dropdown-item\">Test</div> -->\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- <div id='overlap-one'>\n    Overlap Degree:\n    <input style=\"display:block\" id='first-overlap-input' type=\"text\">\n  </div> -->\n\n  <div class=\"field\">\n    <label for=\"\" class=\"label  is-size-7\">Overlap Degree:</label>\n    <div class=\"control\" id=\"overlap-one\">\n      <input id=\"first-overlap-input\" type=\"number\" class=\"input is-small\">\n    </div>\n  </div>\n\n  <div id=\"secondAgg\">\n    <div>\n      <div class=\"make-bold  is-size-6\">\n        Then, aggregate by:\n      </div>\n      <div class=\"dropdown is-hoverable\">\n        <div id=\"secondAggByDropdown\" class=\"dropdown-trigger navbar-link\">\n        </div>\n        <div class=\"dropdown-menu\">\n          <div id=\"secondAggByOptions\" class=\"dropdown-content\">\n            <!-- <div class=\"dropdown-item\">Test</div> -->\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- <div id='overlap-two'>\n      Overlap Degree:\n      <input id='second-overlap-input' type=\"text\">\n    </div> -->\n\n    <div class=\"field\">\n      <label for=\"\" class=\"label  is-size-7\">Overlap Degree:</label>\n      <div class=\"control\" id=\"overlap-two\">\n        <input id=\"second-overlap-input\" type=\"number\" class=\"input is-small\">\n      </div>\n    </div>\n\n  </div>\n\n  <div class=\"make-bold  is-size-6\">\n    Sort By:\n  </div>\n\n  <div id=\"sortByOptions\" class=\"control  is-size-7\">\n    <!-- <div>\n      <label for=\"\" class=\"radio\">\n        <input type=\"radio\" name=\"answer\"> Test\n      </label>\n    </div> -->\n  </div>\n\n  <!-- <div id=\"collaseOptions\">\n    <div>\n      <button class=\"button is-small\">Collapse All</button>\n    </div>\n    <div>\n      <button class=\"button is-small\">Expand All</button>\n    </div>\n  </div> -->\n\n\n  <div id=\"Data\">\n    <div class=\"make-bold is-size-6\">Data:</div>\n\n    <div class=\"field\">\n      <label for=\"\" class=\"label is-size-7\">Min Degree:</label>\n      <div class=\"control\">\n        <input id=\"minDegree\" type=\"number\" class=\"input is-small\">\n      </div>\n    </div>\n    <div class=\"field\">\n      <label for=\"\" class=\"label is-size-7\">Max Degree</label>\n      <div class=\"control\">\n        <input id=\"maxDegree\" type=\"number\" class=\"input is-small\">\n      </div>\n    </div>\n\n    <div class=\"field\">\n      <div class=\"control\">\n        <input id=\"hideEmpty\" type=\"checkbox\">\n        <label class=\"checkbox is-size-7\">Hide Empty</label>\n      </div>\n    </div>\n\n    <!-- <div class=\"field\">\n      <div class=\"control\">\n        <input id=\"collapseAll\" type=\"checkbox\">\n        <label class=\"checkbox is-size-7\">Collapse All</label>\n      </div>\n    </div> -->\n\n  </div>\n\n</div>`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:38:29\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-06-08 12:00:29\n */\nimport * as d3 from 'd3';\nimport {ViewBase} from 'provenance_mvvm_framework';\nimport {IDataSetInfo} from './../DataStructure/IDataSetInfo';\nimport template from './navbar.view.html';\nimport {RenderConfig} from '../DataStructure/AggregateAndFilters';\n\nexport class NavBarView extends ViewBase {\n  oldDataset: any;\n  constructor(root: HTMLElement) {\n    super(root);\n  }\n\n  create() {\n    d3.select(this.Root).html(template);\n    this.comm.on('change-dataset', this.setDSS);\n    d3.select(this.Root)\n      .select('#load-data')\n      .on('click', () => {\n        this.comm.emit('load-data');\n      });\n  }\n\n  update(datasets: any[]) {\n    let datasets_options = d3\n      .select(this.Root)\n      .select('#dropdown-item-container')\n      .selectAll('a')\n      .data(datasets)\n      .enter()\n      .append('a')\n      .text((d: any, i: number) => {\n        return `${d.Name} (${d.SetCount} sets, ${d.AttributeCount} attributes)`;\n      })\n      .attr('class', 'dropdown-item')\n      .on('click', (d: any) => {\n        this.comm.emit('change-dataset-trigger', d);\n      });\n\n    let rc: RenderConfig = null;\n    let d: IDataSetInfo = null;\n    if (sessionStorage['render_config']) {\n      rc = JSON.parse(sessionStorage['render_config']);\n    }\n    if (rc) {\n      d = rc.currentFile;\n    }\n\n    if (!d) {\n      d = datasets_options\n        .filter((d, i) => {\n          return i == 0;\n        })\n        .data()[0];\n    }\n    if (d) {\n      this.oldDataset = d;\n      this.comm.emit('change-dataset', d);\n    }\n  }\n\n  setDSS(data: IDataSetInfo) {\n    d3.select('#data-dropdown-btn').text(\n      `${data.Name} (${data.SetCount} sets, ${data.AttributeCount} attributes)`,\n    );\n  }\n}\n","import { serverUrl } from \"./../app/app\";\n/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:38:33\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-16 11:15:54\n */\nimport { ViewModelBase, Application } from \"provenance_mvvm_framework\";\nimport { DataUtils } from \"./../DataStructure/DataUtils\";\nimport { IDataSetInfo } from \"./../DataStructure/IDataSetInfo\";\nimport { IDataSetJSON } from \"./../DataStructure/IDataSetJSON\";\nimport { NavBarView } from \"./NavBarView\";\nimport \"./styles.scss\";\nexport class NavBarViewModel extends ViewModelBase {\n  public datasets: IDataSetInfo[] = [];\n  constructor(view: NavBarView, app: Application, dsLocation: string) {\n    super(view, app);\n    this.populateDatasetSelector(dsLocation);\n\n    // this.populateDatasetSelectorFromServer();\n    this.comm.on(\"load-data\", () => {\n      this.App.emit(\"open-dataset-selection\");\n    });\n    this.comm.on(\"change-dataset\", dataset => {\n      view.oldDataset = dataset\n      this.App.emit(\"change-dataset\", dataset);\n    });\n\n    this.App.on(\"change-dataset-trigger\", d => {\n      this.comm.emit(\"change-dataset-trigger\", d);\n    });\n\n    this.comm.on(\"change-dataset-trigger\", (d: any) => {\n      let _do = {\n        func: (d: any) => {\n          this.comm.emit(\"change-dataset\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.comm.emit(\"change-dataset\", d);\n        },\n        args: [view.oldDataset]\n      };\n      this.apply.call(this, [\"change-dataset\", _do, _undo]);\n    });\n\n    this.registerFunctions(\n      \"change-dataset\",\n      (d: any) => {\n        this.comm.emit(\"change-dataset\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"change-dataset\",\n      (d: any) => {\n        this.comm.emit(\"change-dataset\", d);\n      },\n      this,\n      false\n    );\n  }\n\n  populateDatasetSelectorFromServer() {\n    let results: Promise<any>[] = [];\n    let p = fetch(`${serverUrl}/download/list`)\n      .then(results => results.json())\n      .then(jsondata => {\n        jsondata.forEach((d: any) => {\n          results.push(d.info);\n        });\n      })\n      .then(() => {\n        results.forEach(j => {\n          let a: IDataSetJSON = DataUtils.getDataSetJSON(j);\n          a.file = `${serverUrl}/download/single/${a.file}`;\n          this.datasets.push(DataUtils.getDataSetInfo(a));\n        });\n      })\n      .then(() => {\n        this.comm.emit(\"update\", this.datasets);\n      });\n  }\n\n  populateDatasetSelector(dsLocation: string) {\n    let results: Promise<any>[] = [];\n    let p = fetch(dsLocation)\n      .then(results => results.json())\n      .then(jsondata => {\n        jsondata.forEach((d: string) => {\n          let a = fetch(d).then(res => res.json());\n          results.push(a);\n        });\n      })\n      .then(() => {\n        Promise.all(results)\n          .then(d => {\n            d.forEach(j => {\n              let a: IDataSetJSON = DataUtils.getDataSetJSON(j);\n              this.datasets.push(DataUtils.getDataSetInfo(a));\n            });\n          })\n          .then(() => {\n            this.comm.emit(\"update\", this.datasets);\n          });\n      });\n  }\n}\n","// HTML\nexport default `<nav class=\"navbar is-dark\" role=\"navigation\" aria-label=\"main navigation\">\n  <div class=\"navbar-brand\">\n    <div class=\"navbar-item has-text-weight-bold is-size-5\">\n      UpSet - Visualizing Intersecting Sets\n    </div>\n  </div>\n  <div class=\"navbar-menu\">\n    <div class=\"navbar-start\">\n\n      <div class=\"navbar-item is-paddingless\">\n        <div id=\"undo-redo-group\" class=\"\"></div>\n      </div>\n\n      <div class=\"navbar-item is-paddingless\">\n        <div class=\"field\">\n          <div class=\"control\">\n            <input id=\"collapseAll\" type=\"checkbox\">\n            <label class=\"checkbox\">Collapse All</label>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"navbar-end\">\n      <div class=\"navbar-item\">\n        <div style=\"font-weight: bold\">Choose Dataset</div>\n      </div>\n\n      <div class=\"navbar-item has-dropdown is-hoverable\" style=\"min-width: 500px; \">\n        <div id=\"data-dropdown-btn\" class=\"navbar-link\">Dataset</div>\n\n        <div id=\"dropdown-item-container\" class=\"navbar-dropdown\">\n        </div>\n      </div>\n\n      <div class=\"navbar-item\">\n        <a id=\"load-data\" class=\"button is-small is-primary\">Load Data</a>\n      </div>\n\n      <div class=\"navbar-item\">\n        <div id=\"embed-modal\">\n          <a class=\"button is-small is-primary show\">Embed</a>\n        </div>\n      </div>\n\n      <div class=\"navbar-item\">\n        <a class=\" has-text-white-ter\" href=\"http://caleydo.org/tools/upset/ \">About UpSet</a>\n      </div>\n      <!-- \n      <div class=\"navbar-item\">\n        <a href=\"https://github.com/hms-dbmi/UpSetR/ \">UpSet for R</a>\n      </div> -->\n\n    </div>\n  </div>\n</nav>`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:38:29\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-10-09 14:41:41\n */\nimport * as d3 from \"d3\";\nimport { ViewBase, IProvenanceGraph } from \"provenance_mvvm_framework\";\nimport template from \"./provenance.view.html\";\nimport { createButtons, createGraph } from \"./uiBuilderFunctions\";\n\nexport class ProvenanceView extends ViewBase {\n  constructor(root: HTMLElement) {\n    super(root);\n  }\n\n  create() {\n    let size = 20;\n    let root = d3.select(\"#undo-redo-group\");\n    root.html(template);\n\n    // d3.select(this.Root)\n    //   .select(\"#save-btn\")\n    //   .on(\"click\", () => {\n    //     this.comm.emit(\"save-graph\");\n    //   });\n\n    // d3.select(this.Root)\n    //   .select(\"#load-btn\")\n    //   .on(\"click\", () => {\n    //     this.comm.emit(\"load-graph\");\n    //   });\n\n    let undo = root.select(\".undo\");\n    let redo = root.select(\".redo\");\n\n    // undo\n    //   .append(\"img\")\n    //   .attr(\"src\", \"assets/arrow.svg\")\n    //   .attr(\"class\", \"img\")\n    //   .attr(\"height\", size)\n    //   .attr(\"width\", size);\n\n    // redo\n    //   .append(\"img\")\n    //   .attr(\"src\", \"assets/arrow.svg\")\n    //   .attr(\"class\", \"img\")\n    //   .attr(\"height\", size)\n    //   .attr(\"width\", size);\n\n    undo.on(\"click\", () => {\n      this.comm.emit(\"undo\");\n    });\n\n    redo.on(\"click\", () => {\n      this.comm.emit(\"redo\");\n    });\n\n    d3.select(\"html\").on(\"keydown\", () => {\n      if (d3.event.code === \"ArrowLeft\") this.comm.emit(\"undo\");\n      if (d3.event.code === \"ArrowRight\") this.comm.emit(\"redo\");\n    });\n  }\n\n  update(graph: IProvenanceGraph) {\n    createButtons(d3.select(\"#undo-redo-group\"), graph);\n    // createGraph(d3.select(this.Root).select(\".graph-view\"), graph, this.comm);\n  }\n}\n","import { IProvenanceGraph } from \"provenance_mvvm_framework\";\n/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:38:33\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-07 18:03:39\n */\nimport {\n  ViewModelBase,\n  Application,\n  StateNode,\n  ProvenanceGraph\n} from \"provenance_mvvm_framework\";\nimport { ProvenanceView } from \"./ProvenanceView\";\nimport \"./styles.scss\";\n\nexport class ProvenanceViewModel extends ViewModelBase {\n  constructor(view: ProvenanceView, app: Application) {\n    super(view, app);\n    this.App.graph.on(\"currentChanged\", this.update.bind(this));\n    this.comm.on(\"undo\", this.undo, this);\n    this.comm.on(\"redo\", this.redo, this);\n    this.comm.on(\"go-to-node\", this.goTo, this);\n    this.comm.on(\"save-graph\", this.saveGraph, this);\n    this.comm.on(\"load-graph\", this.loadGraph, this);\n    this.update();\n  }\n\n  update() {\n    (window as any).graph = this.App.graph;\n    this.comm.emit(\"update\", this.App.graph);\n  }\n\n  undo() {\n    if (this.App.graph.current.label === \"Root\") return;\n    this.traverser.toStateNode((this.App.graph.current as StateNode).parent.id);\n    this.update();\n  }\n\n  redo() {\n    if (this.App.graph.current.children.length === 0) return;\n    let length = this.graph.current.children.length - 1;\n    this.traverser.toStateNode(this.App.graph.current.children[length].id);\n    this.update();\n  }\n\n  goTo(id: string) {\n    this.traverser.toStateNode(id);\n    this.update();\n  }\n\n  saveGraph() {\n    localStorage[\"graph\"] = JSON.stringify(\n      ProvenanceGraph.serializeProvenanceGraph(this.App.graph as any)\n    );\n  }\n\n  loadGraph() {\n    this.App.graph = ProvenanceGraph.restoreProvenanceGraph(\n      JSON.parse(localStorage[\"graph\"])\n    );\n    this.App.emit(\"graph-loaded\", this.App.graph);\n    this.App.graph.on(\"currentChanged\", this.update.bind(this));\n    this.goTo(this.App.graph.root.id);\n  }\n}\n","// HTML\nexport default `<!-- <div>\n  <a id=\"save-btn\" class=\"button\">Save</a>\n  <a id=\"load-btn\" class=\"button\">Load</a>\n</div> -->\n\n<div class=\"columns\">\n  <div title=\"Undo\" class=\"column undo\">\n    <i class=\"fas fa-undo\"></i>\n  </div>\n  <!-- <div class=\"column is-10 graph-view\"></div> -->\n  <div title=\"Redo\" class=\"column redo\">\n    <i class=\"fas fa-redo\"></i>\n  </div>\n</div>`","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { IProvenanceGraph, Mitt } from \"provenance_mvvm_framework\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport * as d3 from \"d3\";\n\nexport function createButtons(el: d3Selection, graph: IProvenanceGraph) {\n  el.select(\".redo\").classed(\"has-text-grey\", false);\n  el.select(\".undo\").classed(\"has-text-grey\", false);\n\n  if (graph.current.children.length === 0) {\n    el.select(\".redo\").classed(\"has-text-grey\", true);\n  }\n  if (graph.current.label === \"Root\") {\n    el.select(\".undo\").classed(\"has-text-grey\", true);\n  }\n}\n\nexport function createGraph(\n  el: d3Selection,\n  graph: IProvenanceGraph,\n  comm: Mitt\n) {\n  addSvg(el);\n\n  let g = el.select(\".graph-group\");\n  let h = (el.node() as any).getBoundingClientRect().width * 0.9;\n\n  let height = h;\n  let width = 150;\n  let treeMap = d3.tree().size([width, height]);\n\n  let root = d3.hierarchy(graph.root, d => {\n    return d.children;\n  });\n\n  let nodes = treeMap(root);\n\n  let link = addLinks(g, nodes);\n\n  let node = addNodes(g, nodes);\n  addClickToNodes(node, comm);\n  translateNodesToPosition(node);\n  addNodeElements(node, graph.current.id);\n}\n\nfunction addNodeElements(node: d3Selection, current: string) {\n  node\n    .append(\"circle\")\n    .attr(\"r\", 5)\n    .attr(\"class\", d => {\n      if ((d.data as any).id === current) {\n        return \"current\";\n      }\n      return \"\";\n    });\n  node\n    .append(\"text\")\n    .attr(\"dy\", \"0.35em\")\n    .attr(\"x\", d => {\n      return d.children ? -13 : 13;\n    })\n    .style(\"text-anchor\", d => {\n      return d.children ? \"end\" : \"start\";\n    })\n    .text((d, i) => {\n      return i;\n    });\n}\n\nfunction translateNodesToPosition(node: d3Selection) {\n  node.attr(\"transform\", d => {\n    return `translate(${d.y}, ${d.x})`;\n  });\n}\n\nfunction addClickToNodes(node: d3Selection, comm: Mitt) {\n  node.on(\"click\", (d, i) => {\n    comm.emit(\"go-to-node\", (d.data as any).id);\n  });\n}\n\nfunction addNodes(g: d3Selection, nodes: d3.HierarchyPointNode<{}>) {\n  return g\n    .selectAll(\".node\")\n    .data(nodes.descendants())\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", d => {\n      return `node ${d.children ? \"node-internal\" : \"node-leaf\"}`;\n    });\n}\n\nfunction addLinks(g: d3Selection, nodes: d3.HierarchyPointNode<{}>) {\n  return g\n    .selectAll(\".link\")\n    .data(nodes.descendants().slice(1))\n    .enter()\n    .append(\"path\")\n    .attr(\"class\", \"link\")\n    .attr(\"d\", d => {\n      return `M ${d.y}, ${d.x}\n              C ${(d.y + d.parent.y) / 2}, ${d.x} \n                ${(d.y + d.parent.y) / 2}, ${d.parent.x} \n                ${d.parent.y}, ${d.parent.x}`;\n    });\n}\n\nfunction addSvg(el: d3Selection) {\n  let _graphGroup = el.selectAll(\".graph-svg\").data([1]);\n  _graphGroup.exit().remove();\n  _graphGroup\n    .enter()\n    .append(\"svg\")\n    .attr(\"class\", \"graph-svg\")\n    .attr(\"width\", \"100%\")\n    .merge(_graphGroup)\n    .html(\"\")\n    .append(\"g\")\n    .attr(\"class\", \"graph-group\")\n    .attr(\"transform\", `translate(20, 0)`);\n}\n","/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:36:24\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-06-05 18:26:24\n */\nimport * as d3 from \"d3\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport { Data } from \"./../DataStructure/Data\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport { Set } from \"./../DataStructure/Set\";\nimport html from \"./unusedset.view.html\";\nimport { Attribute } from \"./../DataStructure/Attribute\";\nimport params from \"../UpsetView/ui_params\";\nimport { excludeSets } from \"../UpsetView/uiBuilderFunctions\";\nimport expandcollapsehtml from \"./collapseall.view.html\";\n\nexport class UnusedSetView extends ViewBase {\n  headerVis: d3Selection;\n  constructor(root: HTMLElement) {\n    super(root);\n  }\n\n  create() {\n    this.headerVis = d3.select(this.Root);\n\n    let dropDownControls = this.headerVis\n      .append(\"div\")\n      .attr(\"class\", \"unused-set-view\");\n    dropDownControls.classed(\"dropdown-position\", true);\n    this.comm.on(\"update-position\", () => {\n      dropDownControls.style(\"left\", `${params.combinations_width}px`);\n    });\n    dropDownControls.html(dropDownControls.html() + html);\n\n    // let expandCollapseControls = this.headerVis\n    //   .append(\"div\")\n    //   .classed(\"expand-collapse\", true);\n\n    // expandCollapseControls.classed(\"expand-collapse-position\", true);\n    // expandCollapseControls.html(\n    //   expandCollapseControls.html() + expandcollapsehtml\n    // );\n    // expandCollapseControls.style(\"top\", `${params.header_height - 20}px`);\n\n    // let icons = expandCollapseControls.selectAll(\".collapse-icon\");\n\n    // let exp = expandCollapseControls.select(\".expand-all\");\n    // let col = expandCollapseControls.select(\".collapse-all\");\n\n    // let that = this;\n    // icons.on(\"click\", function() {\n    //   let icon = d3.select(this);\n    //   that.comm.emit(\"collapse-all-ext-trigger\");\n    //   if (icon.classed(\"collapse-all\")) {\n    //     col.classed(\"is-invisible\", true);\n    //     exp.classed(\"is-invisible\", false);\n    //   } else {\n    //     col.classed(\"is-invisible\", false);\n    //     exp.classed(\"is-invisible\", true);\n    //   }\n    // });\n  }\n\n  update(data: Data) {\n    let dropDown = this.headerVis\n      .select(\".unused-set-view\")\n      .select(\"#unsed-set-dropdown\");\n\n    let options = this.headerVis\n      .select(\".unused-set-view\")\n      .select(\"#unused-set-options\");\n\n    if (data.unusedSets.length < 1) {\n      dropDown.style(\"display\", \"none\");\n    } else {\n      dropDown.style(\"display\", \"block\");\n      this.updateDropdownOptions(options, data.unusedSets);\n    }\n\n    let attrDropdown = this.headerVis\n      .select(\".unused-set-view\")\n      .select(\"#unused-attribute-dropdown\");\n\n    let attrOptions = this.headerVis\n      .select(\".unused-set-view\")\n      .select(\"#unused-attribute-options\");\n\n    let unselectedAttributes = data.attributes\n      .filter(d => excludeSets.indexOf(d.name) < 0)\n      .filter(\n        d => data.selectedAttributes.map(_ => _.name).indexOf(d.name) < 0\n      );\n    if (unselectedAttributes.length < 1) {\n      attrDropdown.style(\"display\", \"none\");\n    } else {\n      attrDropdown.style(\"display\", \"block\");\n      this.updateAttributeDropdownOptions(attrOptions, unselectedAttributes);\n    }\n  }\n\n  updateDropdownOptions(opt: d3Selection, data: Set[]) {\n    let options = opt.selectAll(\".dropdown-item\").data(data);\n    options.exit().remove();\n\n    options\n      .enter()\n      .append(\"div\")\n      .merge(options)\n      .attr(\"class\", \"dropdown-item\")\n      .text((d, i) => {\n        return d.elementName;\n      })\n      .on(\"click\", (d, i) => {\n        this.comm.emit(\"add-set-trigger\", d);\n      });\n  }\n\n  updateAttributeDropdownOptions(opt: d3Selection, data: Attribute[]) {\n    let options = opt.selectAll(\".dropdown-item\").data(data);\n    options.exit().remove();\n    options\n      .enter()\n      .append(\"div\")\n      .merge(options)\n      .classed(\"dropdown-item\", true)\n      .text(d => d.name)\n      .on(\"click\", d => {\n        this.comm.emit(\"add-attribute-trigger\", d);\n      });\n  }\n}\n","import { Set } from \"./../DataStructure/Set\";\n/*\n * @Author: Kiran Gadhave\n * @Date: 2018-06-03 14:36:29\n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-06-08 15:33:52\n */\nimport { ViewModelBase } from \"provenance_mvvm_framework\";\nimport { UnusedSetView } from \"./UnusedSetView\";\nimport { IDataSetInfo } from \"./../DataStructure/IDataSetInfo\";\nimport { Application } from \"provenance_mvvm_framework\";\nimport { Data } from \"./../DataStructure/Data\";\nimport \"./style.scss\";\nimport { Attribute } from \"../DataStructure/Attribute\";\n\nexport class UnusedSetViewModel extends ViewModelBase {\n  public datasets: IDataSetInfo[] = [];\n  constructor(view: UnusedSetView, app: Application) {\n    super(view, app);\n    this.App.on(\"render-rows-changed\", this.update, this);\n\n    this.App.on(\"used-set-changed\", () => {\n      this.comm.emit(\"update-position\");\n    });\n\n    this.registerFunctions(\n      \"add-set\",\n      (d: any) => {\n        this.App.emit(\"add-set\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"add-set\",\n      (d: any) => {\n        this.App.emit(\"remove-set\", d);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"add-attribute\",\n      (d: any) => {\n        this.App.emit(\"add-attribute\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"add-attribute\",\n      (d: any) => {\n        this.App.emit(\"remove-attribute\", d);\n      },\n      this,\n      false\n    );\n\n    this.comm.on(\"add-set-trigger\", (d: Set) => {\n      let _do = {\n        func: (d: any) => {\n          this.App.emit(\"add-set\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.App.emit(\"remove-set\", d);\n        },\n        args: [d]\n      };\n      this.apply.call(this, [\"add-set\", _do, _undo]);\n    });\n\n    this.comm.on(\"add-attribute-trigger\", (d: Attribute) => {\n      let _do = {\n        func: (d: any) => {\n          this.App.emit(\"add-attribute\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.App.emit(\"remove-attribute\");\n        },\n        args: [d]\n      };\n      this.apply.call(this, [\"add-attribute\", _do, _undo]);\n    });\n  }\n\n  update(data: Data) {\n    this.comm.emit(\"update\", data);\n  }\n}\n","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// HTML\nexport default `<div id=\"unused-sets\" class=\"dropdown is-hoverable\">\n  <div id=\"unsed-set-dropdown\" class=\"dropdown-trigger navbar-link\">\n    Add Sets\n  </div>\n  <div class=\"dropdown-menu\">\n    <div id=\"unused-set-options\" class=\"dropdown-content\">\n      <!-- <div class=\"dropdown-item\">Test</div> -->\n    </div>\n  </div>\n</div>\n\n<div id=\"unused-attributes\" class=\"dropdown is-hoverable\">\n  <div id=\"unused-attribute-dropdown\" class=\"dropdown-trigger navbar-link\">\n    Add Attributes\n  </div>\n  <div class=\"dropdown-menu\">\n    <div id=\"unused-attribute-options\" class=\"dropdown-content\">\n      <!-- <div class=\"dropdown-item\">Test</div> -->\n    </div>\n  </div>\n</div>`","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 14:36:32 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-10-10 07:23:53\n */\nimport * as d3 from \"d3\";\nimport { ViewBase } from \"provenance_mvvm_framework\";\nimport { Data } from \"./../DataStructure/Data\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport \"./styles.scss\";\nimport html from \"./upset.view.html\";\nimport {\n  usedSetsHeader,\n  addRenderRows,\n  addCardinalityHeader,\n  addDeviationHeaders,\n  addAttributeHeaders\n} from \"./uiBuilderFunctions\";\nimport params from \"./ui_params\";\nimport { EmbedConfig } from \"../DataStructure/EmbedConfig\";\n\nexport class UpsetView extends ViewBase {\n  svg: d3Selection;\n  headerGroup: d3Selection;\n  bodyGroup: d3Selection;\n  selectedSetHeaderGroup: d3Selection;\n  cardinalityScaleGroup: d3Selection;\n  deviationGroup: d3Selection;\n  attributeHeaders: d3Selection;\n  setsComboGroup: d3Selection;\n  cardinalityBarGroup: d3Selection;\n  dropdownGroup: d3Selection;\n  deviationBars: d3Selection;\n  attributeBars: d3Selection;\n  config: EmbedConfig;\n\n  constructor(root: HTMLElement, config: EmbedConfig) {\n    super(root);\n    this.config = config;\n  }\n\n  create() {\n    let root = d3.select(this.Root);\n    root.html(root.html() + html);\n\n    this.svg = d3\n      .select(this.Root)\n      .select(\"#vis\")\n      .append(\"svg\");\n\n    this.headerGroup = this.svg.append(\"g\").attr(\"class\", \"header\");\n    this.dropdownGroup = this.headerGroup\n      .append(\"g\")\n      .classed(\"dropdown-header\", true);\n    this.selectedSetHeaderGroup = this.headerGroup\n      .append(\"g\")\n      .attr(\"class\", \"selected-sets-header\");\n    this.cardinalityScaleGroup = this.headerGroup\n      .append(\"g\")\n      .attr(\"class\", \"cardinality-scale-group\");\n    this.deviationGroup = this.headerGroup\n      .append(\"g\")\n      .attr(\"class\", \"deviation-group\");\n    this.attributeHeaders = this.headerGroup\n      .append(\"g\")\n      .attr(\"class\", \"attribute-headers\");\n\n    this.bodyGroup = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"body\")\n      .attr(\"transform\", `translate(0,${params.header_body_padding})`);\n    this.setsComboGroup = this.bodyGroup\n      .append(\"g\")\n      .attr(\"class\", \"sets-combo-group\");\n  }\n\n  update(data: Data) {\n    let excludeSets = [\"Name\", \"Set Count\", \"Sets\"];\n\n    usedSetsHeader(\n      data.usedSets,\n      this.selectedSetHeaderGroup,\n      d3.max(data.sets, d => {\n        return d.setSize;\n      }),\n      this.comm\n    );\n\n    addRenderRows(\n      data,\n      this.setsComboGroup,\n      data.usedSets.length,\n      this.config,\n      this.comm\n    );\n\n    if (!this.config || this.config.CardinalityBars) {\n      addCardinalityHeader(\n        data.allItems.length,\n        d3.max(data.renderRows.map(d => d.data.setSize)),\n        this.cardinalityScaleGroup,\n        this.comm\n      );\n    }\n\n    if (!this.config || this.config.DeviationBars) {\n      addDeviationHeaders(\n        this.deviationGroup,\n        d3.max(data.renderRows.map(d => Math.abs(d.data.disproportionality))),\n        this.comm\n      );\n    }\n\n    if (true) {\n      addAttributeHeaders(this.attributeHeaders, data, this.comm);\n    }\n\n    this.svg.attr(\"height\", params.svg_height).attr(\"width\", params.svg_width);\n\n    (this as any).app.emit(\"used-set-changed\");\n  }\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 14:38:25 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-07-16 11:43:32\n */\nimport { Application } from \"provenance_mvvm_framework\";\nimport { ViewModelBase } from \"provenance_mvvm_framework\";\nimport { UpsetView } from \"./UpsetView\";\nimport { Set } from \"./../DataStructure/Set\";\nimport { Data } from \"./../DataStructure/Data\";\nimport { Attribute } from \"../DataStructure/Attribute\";\nexport class UpsetViewModel extends ViewModelBase {\n  constructor(view: UpsetView, app: Application) {\n    super(view, app);\n    (view as any).app = app;\n    this.comm.on(\"add-selection-trigger\", (d: any) => {\n      this.App.emit(\"add-selection-trigger\", d);\n    });\n\n    this.App.on(\"highlight-selection\", ([d, color]) => {\n      this.comm.emit(\"highlight-selection\", d, color);\n    });\n\n    this.App.on(\"render-rows-changed\", this.update, this);\n\n    this.comm.on(\"sort-by-set\", (id: number) => {\n      this.App.emit(\"sort-by-set\", id);\n    });\n\n    this.comm.on(\"sort-by-cardinality\", () => {\n      this.App.emit(\"sort-by-cardinality\");\n    });\n\n    this.comm.on(\"sort-by-deviation\", () => {\n      this.App.emit(\"sort-by-deviation\");\n    });\n\n    this.comm.on(\"collapse-group\", (d: any) => {\n      this.App.emit(\"collapse-group\", d);\n    });\n\n    this.registerFunctions(\n      \"remove-set\",\n      (d: any) => {\n        this.App.emit(\"remove-set\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"remove-set\",\n      (d: any) => {\n        this.App.emit(\"add-set\", d);\n      },\n      this,\n      false\n    );\n\n    this.registerFunctions(\n      \"remove-attribute\",\n      (d: any) => {\n        this.App.emit(\"remove-attribute\", d);\n      },\n      this\n    );\n\n    this.registerFunctions(\n      \"remove-attribute\",\n      (d: any) => {\n        this.App.emit(\"add-attribute\", d);\n      },\n      this,\n      false\n    );\n\n    this.comm.on(\"remove-set-trigger\", (d: Set) => {\n      let _do = {\n        func: (d: any) => {\n          this.App.emit(\"remove-set\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.App.emit(\"add-set\", d);\n        },\n        args: [d]\n      };\n      this.apply.call(this, [\"remove-set\", _do, _undo]);\n    });\n\n    this.comm.on(\"remove-attribute-trigger\", (d: Attribute) => {\n      let _do = {\n        func: (d: any) => {\n          this.App.emit(\"remove-attribute\", d);\n        },\n        args: [d]\n      };\n      let _undo = {\n        func: (d: any) => {\n          this.App.emit(\"add-attribute\", d);\n        },\n        args: [d]\n      };\n      this.apply.call(this, [\"remove-attribute\", _do, _undo]);\n    });\n\n    this.comm.on(\"set-filter\", idx => {\n      this.App.emit(\"filter-changed\", null, idx);\n      this.App.emit(\"set-agg-none\");\n    });\n  }\n\n  update(data: Data) {\n    this.comm.emit(\"update\", data);\n  }\n}\n","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { UnusedSetViewModel } from \"./../UnusedSetsView/UnusedSetViewModel\";\nimport { Attribute } from \"./../DataStructure/Attribute\";\nimport { Data } from \"./../DataStructure/Data\";\nimport { Group } from \"./../DataStructure/Group\";\nimport { SubSet } from \"./../DataStructure/SubSet\";\nimport { d3Selection, RenderRow, d3Scale } from \"./../type_declarations/types\";\nimport { Set } from \"./../DataStructure/Set\";\nimport params, { deg2rad } from \"./ui_params\";\nimport * as d3 from \"d3\";\nimport { Mitt, Application } from \"provenance_mvvm_framework\";\nimport { RowType } from \"../DataStructure/RowType\";\nimport { BaseType } from \"d3\";\nimport { EmbedConfig } from \"../DataStructure/EmbedConfig\";\nimport { UnusedSetView } from \"../UnusedSetsView/UnusedSetView\";\nimport html from \"./closeicon.view.html\";\n\nexport const excludeSets = [\"Name\", \"Set Count\", \"Sets\"];\nconst attributeName = \"data-attribute-name\";\n\n// ################################################################################################\nexport function usedSetsHeader(\n  data: Set[],\n  el: d3Selection,\n  maxSetSize: number,\n  comm: Mitt\n) {\n  addHeaderBars(data, el, maxSetSize, comm);\n  addConnectors(data, el, comm);\n}\n\nfunction addHeaderBars(\n  data: Set[],\n  el: d3Selection,\n  maxSetSize: number,\n  comm: Mitt\n) {\n  let headerBarGroup = el.selectAll(\".header-bar-group\").data([1]);\n\n  headerBarGroup.exit().remove();\n\n  let _headers = headerBarGroup\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"header-bar-group\")\n    .merge(headerBarGroup)\n    .selectAll(\".header\")\n    .data(data);\n  _headers\n    .exit()\n    .transition()\n    .duration(100)\n    .remove();\n\n  let headers = _headers\n    .enter()\n    .append(\"g\")\n    .merge(_headers)\n    .html(\"\")\n    .attr(\"class\", \"header\");\n\n  headers\n    .transition()\n    .duration(100)\n    .attr(\"transform\", (d, i) => {\n      return `translate(${params.column_width * i}, 0)`;\n    });\n\n  headers\n    .on(\"click\", (d, i) => {\n      comm.emit(\"remove-set-trigger\", d);\n    })\n    .on(\"mouseover\", (d, i) => {\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", true);\n    })\n    .on(\"mouseout\", (d, i) => {\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", false);\n    });\n\n  addBackgroundBars(headers);\n  addForegroundBars(headers, maxSetSize);\n}\n\nfunction addBackgroundBars(headers: d3Selection) {\n  headers\n    .append(\"rect\")\n    .attr(\"height\", params.used_set_header_height)\n    .attr(\"width\", params.column_width)\n    .attr(\"class\", (d, i) => {\n      return `used-set-background S_${i}`;\n    });\n}\n\nfunction addForegroundBars(headers: d3Selection, maxSetSize: number) {\n  let scale = d3\n    .scaleLinear()\n    .domain([0, maxSetSize])\n    .nice()\n    .range([0, params.used_set_header_height]);\n\n  headers\n    .append(\"rect\")\n    .attr(\"height\", (d, i) => {\n      return scale(d.setSize);\n    })\n    .attr(\"width\", params.column_width)\n    .attr(\"class\", \"used-set-foreground\")\n    .attr(\"transform\", (d, i) => {\n      return `translate(0, ${params.used_set_header_height -\n        scale(d.setSize)})`;\n    });\n}\n\nfunction addConnectors(data: Set[], el: d3Selection, comm: Mitt) {\n  let connectorGroup = el.selectAll(\".connector-group\").data([1]);\n  connectorGroup.exit().remove();\n\n  let _connectors = connectorGroup\n    .enter()\n    .append(\"g\")\n    .merge(connectorGroup)\n    .attr(\"class\", \"connector-group\")\n    .attr(\"transform\", `translate(0, ${params.used_set_header_height})`)\n    .selectAll(\".connector\")\n    .data(data);\n  _connectors\n    .exit()\n    .transition()\n    .duration(100)\n    .remove();\n\n  let connectors = _connectors\n    .enter()\n    .append(\"g\")\n    .merge(_connectors)\n    .html(\"\")\n    .attr(\"class\", \"connector\")\n    .on(\"mouseover\", (d, i) => {\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", true);\n    })\n    .on(\"mouseout\", (d, i) => {\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", false);\n    });\n\n  connectors\n    .transition()\n    .duration(100)\n    .attr(\"transform\", (d, i) => {\n      return `translate(${params.column_width * i}, 0)`;\n    });\n\n  connectors.on(\"click\", (d, i) => {\n    comm.emit(\"sort-by-set\", i);\n  });\n\n  addConnectorBars(connectors);\n  addConnectorLabels(connectors);\n}\n\nfunction addConnectorBars(connectors: d3Selection) {\n  connectors\n    .append(\"rect\")\n    .attr(\"class\", (d, i) => {\n      return `connector-rect S_${i}`;\n    })\n    .attr(\"width\", params.column_width)\n    .attr(\"height\", params.used_set_connector_height)\n    .attr(\"transform\", `skewX(${params.used_set_connector_skew})`);\n}\n\nfunction addConnectorLabels(connectors: d3Selection) {\n  connectors\n    .append(\"text\")\n    .text((d: Set) => {\n      return d.elementName;\n    })\n    .attr(\"class\", \"set-label\")\n    .attr(\"text-anchor\", \"end\")\n    .attr(\n      \"transform\",\n      `translate(${params.skew_offset +\n        (params.column_width *\n          Math.sin(deg2rad(params.used_set_connector_skew))) /\n          2},${params.used_set_connector_height})rotate(${\n        params.used_set_connector_skew\n      })`\n    );\n}\n\n// ################################################################################################\nexport function addCardinalityHeader(\n  totalSize: number,\n  maxSetSize: number,\n  el: d3Selection,\n  comm: Mitt\n) {\n  el.attr(\n    \"transform\",\n    `translate(${params.skew_offset +\n      params.combinations_width +\n      params.column_width}, ${params.header_height -\n      params.header_body_padding -\n      params.cardinality_scale_group_height})`\n  );\n\n  el.html(\"\");\n  let overviewAxis = el.append(\"g\").attr(\"class\", \"overview-axis\");\n  let detailsAxis = el.append(\"g\").attr(\"class\", \"details-axis\");\n  let cardinalitySlider = el.append(\"g\").attr(\"class\", \"cardinality-slider\");\n  let sliderBrush = el.append(\"g\").attr(\"class\", \"slider-brush-group\");\n  let cardinalityLabel = el\n    .append(\"g\")\n    .attr(\"class\", \"cardinality-label-group\")\n    .on(\"click\", () => {\n      comm.emit(\"sort-by-cardinality\");\n    });\n\n  let scaleOverview = getCardinalityScale(totalSize, params.cardinality_width);\n  addOverviewAxis(overviewAxis, scaleOverview, totalSize);\n\n  addCardinalitySlider(cardinalitySlider, maxSetSize, scaleOverview, comm);\n  addBrush(sliderBrush, scaleOverview(maxSetSize));\n  addCardinalityLabel(cardinalityLabel);\n  let scaleDetails = getCardinalityScale(maxSetSize, params.cardinality_width);\n  addDetailAxis(detailsAxis, scaleDetails, maxSetSize);\n}\n\nfunction addOverviewAxis(el: d3Selection, scale: d3Scale, totalSize: number) {\n  el.attr(\"transform\", \"translate(0,0)\");\n\n  let top = el.append(\"g\").attr(\"class\", \"top-axis\");\n  top\n    .append(\"path\")\n    .attr(\"class\", \"axis\")\n    .attr(\"d\", \"M0,6 V0 h200 v6\");\n\n  let ticksArr = calculateTicksToShow(totalSize);\n  let ticksG = addTicks(top, ticksArr, scale, 0);\n  addTickLabels(ticksG);\n\n  let bottom = el.append(\"g\").attr(\"class\", \"bottom-axis\");\n  bottom\n    .append(\"path\")\n    .attr(\"class\", \"axis\")\n    .attr(\"d\", `M0,${params.axis_offset} H200`);\n  addTicks(bottom, ticksArr, scale, params.axis_offset - 6);\n}\n\nfunction addCardinalitySlider(\n  el: d3Selection,\n  maxSetSize: number,\n  scale: d3Scale,\n  comm: Mitt\n) {\n  el.attr(\n    \"transform\",\n    `translate(${scale(maxSetSize)},${params.axis_offset / 2 - 7})`\n  );\n\n  addDragEvents(el, scale, comm);\n\n  let slider = el\n    .append(\"rect\")\n    .attr(\"class\", \"cardinality-slider-rect\")\n    .attr(\"transform\", \"rotate(45)\")\n    .attr(\"height\", params.cardinality_slider_dims)\n    .attr(\"width\", params.cardinality_slider_dims);\n}\n\nfunction addBrush(el: d3Selection, pos: number) {\n  el.append(\"rect\")\n    .attr(\"class\", \"slider-brush\")\n    .attr(\"height\", params.axis_offset)\n    .attr(\"width\", pos);\n}\n\nfunction addCardinalityLabel(el: d3Selection) {\n  let textGroup = el\n    .append(\"g\")\n    .attr(\"class\", \"inner-text-group\")\n    .attr(\n      \"transform\",\n      `translate(0, ${params.cardinality_scale_group_height / 2 -\n        params.cardinality_label_height / 2})`\n    );\n  let sliderInfluence = el.append(\"g\").attr(\"class\", \"slider-influence hide\");\n  textGroup\n    .append(\"rect\")\n\n    .attr(\"class\", \"cardinality-label-rect\")\n    .attr(\"width\", params.cardinality_width)\n    .attr(\"height\", params.cardinality_label_height);\n\n  textGroup\n    .append(\"text\")\n    .text(\"Cardinality\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\n      \"transform\",\n      `translate(${params.cardinality_width / 2},${\n        params.cardinality_bar_height\n      })`\n    );\n\n  sliderInfluence.append(\"path\").attr(\"class\", \"slider-brush-path\");\n}\n\nfunction updateBrushAndSlider(pos: number) {\n  d3.select(\".slider-brush\").attr(\"width\", pos);\n  d3.select(\".slider-influence\")\n    .select(\".slider-brush-path\")\n    .attr(\n      \"d\",\n      `M ${params.cardinality_width} ${params.cardinality_scale_group_height -\n        params.axis_offset} H0 V ${params.axis_offset} H${pos}`\n    );\n}\n\nfunction addDragEvents(el: d3Selection, scale: d3Scale, comm: Mitt) {\n  comm.on(\"slider-moved\", (d: number) => {\n    adjustCardinalityBars(d);\n    updateDetailsScale(d);\n    updateBrushAndSlider(scale(d));\n  });\n\n  el.call(\n    d3\n      .drag()\n      .on(\"start\", dragStart)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragEnd)\n  );\n\n  function dragStart() {\n    d3.select(this)\n      .raise()\n      .classed(\"active\", true);\n    d3.select(\".inner-text-group\").classed(\"hide\", true);\n    d3.select(\".slider-influence\").classed(\"hide\", false);\n  }\n  function dragged() {\n    let x = d3.event.x;\n    if (x > scale(6) && x <= params.cardinality_width) {\n      if (Math.abs(x - 0) <= 0.9) x = 1;\n      if (Math.abs(x - params.cardinality_width) <= 0.9)\n        x = params.cardinality_width;\n      d3.select(this).attr(\n        \"transform\",\n        `translate(${x}, ${params.axis_offset / 2 - 7})`\n      );\n      comm.emit(\"slider-moved\", scale.invert(x));\n    }\n  }\n  function dragEnd() {\n    d3.select(this).classed(\"active\", false);\n    d3.select(\".slider-influence\").classed(\"hide\", true);\n    d3.select(\".inner-text-group\").classed(\"hide\", false);\n  }\n}\n\nfunction updateDetailsScale(setSize: number) {\n  let el = d3.select(\".details-axis\");\n  let scale = getCardinalityScale(setSize, params.cardinality_width);\n  addDetailAxis(el, scale, Math.floor(setSize));\n}\n\nfunction addDetailAxis(el: d3Selection, scale: d3Scale, size: number) {\n  el.attr(\n    \"transform\",\n    `translate(0,${params.cardinality_scale_group_height - params.axis_offset})`\n  );\n\n  el.html(\"\");\n\n  let top = el.append(\"g\").attr(\"class\", \"top-axis\");\n  top\n    .append(\"path\")\n    .attr(\"class\", \"axis\")\n    .attr(\"d\", \"M0,6 V0 h200 v6\");\n\n  let ticksArr = calculateTicksToShow(size);\n  let ticksG = addTicks(top, ticksArr, scale, 0);\n  addTickLabels(ticksG);\n\n  let bottom = el.append(\"g\").attr(\"class\", \"bottom-axis\");\n  bottom\n    .append(\"path\")\n    .attr(\"class\", \"axis\")\n    .attr(\"d\", `M0,${params.axis_offset} H200 `);\n  addTicks(bottom, ticksArr, scale, params.axis_offset - 6);\n}\n\nfunction addTicks(\n  el: d3Selection,\n  ticksArr: number[],\n  scale: d3Scale,\n  y_offset: number,\n  x_offset: number = 0\n): d3Selection {\n  let g = el.selectAll(\".tick-group\").data([1]);\n  g.exit().remove();\n\n  let _g = g\n    .enter()\n    .append(\"g\")\n    .merge(g)\n    .attr(\"class\", \"tick-group\")\n    .attr(\"transform\", `translate(${x_offset}, 0)`);\n\n  let ticksG = _g.selectAll(\".tick-g\").data(ticksArr);\n  ticksG.exit().remove();\n  let ticks = ticksG\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"tick-g\")\n    .merge(ticksG)\n    .attr(\"transform\", (d, i) => {\n      return `translate(${scale(d)}, ${y_offset})`;\n    });\n\n  ticks\n    .append(\"path\")\n    .attr(\"class\", \"tick\")\n    .attr(\"d\", \"M0,6 V0\");\n  return ticks;\n}\n\nfunction addTickLabels(\n  ticks: d3Selection,\n  skipDenominator: number = 2,\n  offset: number = 20\n) {\n  ticks\n    .append(\"text\")\n    .attr(\"class\", \"tick-label\")\n    .text((d, i) => {\n      if (i % skipDenominator === 0) return d;\n    })\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"dy\", offset);\n}\n\nfunction calculateTicksToShow(setSize: number): number[] {\n  if (setSize <= 10) return [...Array(setSize).keys(), setSize];\n  else if (setSize <= 25)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 2 === 0;\n      }),\n      setSize\n    ];\n  else if (setSize <= 100)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 20 === 0;\n      }),\n      setSize\n    ];\n  else if (setSize <= 300)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 40 === 0;\n      }),\n      setSize\n    ];\n  else if (setSize <= 1000)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 100 === 0;\n      }),\n      setSize\n    ];\n  else if (setSize <= 2000)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 200 === 0;\n      }),\n      setSize\n    ];\n  else if (setSize <= 6000)\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 500 === 0;\n      }),\n      setSize\n    ];\n  else\n    return [\n      ...[...Array(setSize).keys()].filter(n => {\n        return n % 2000 === 0;\n      }),\n      setSize\n    ];\n}\n// ################################################################################################\n\nexport function addDeviationHeaders(\n  el: d3Selection,\n  maxDisprop: number,\n  comm: Mitt\n) {\n  el.html(\"\");\n  el.attr(\n    \"transform\",\n    `translate(${params.skew_offset +\n      params.combinations_width +\n      params.cardinality_width +\n      params.column_width * 3}, ${params.header_height -\n      params.header_body_padding -\n      params.deviation_scale_group_height +\n      3})`\n  );\n\n  addDeviationLabel(el, comm);\n  addDeviationScale(el, Math.ceil((maxDisprop * 100) / 5) * 5);\n}\n\nfunction addDeviationLabel(el: d3Selection, comm: Mitt) {\n  el.append(\"rect\")\n    .attr(\"height\", params.deviation_label_height)\n    .attr(\"width\", params.deviation_width)\n    .attr(\"class\", \"deviation-label\")\n    .on(\"click\", () => {\n      comm.emit(\"sort-by-deviation\");\n    });\n\n  el.append(\"text\")\n    .text(\"Deviation\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\n      \"transform\",\n      `translate(${params.deviation_width / 2}, ${params.deviation_bar_height})`\n    );\n}\n\nfunction addDeviationScale(el: d3Selection, maxSize: number) {\n  let scale = d3\n    .scaleLinear()\n    .domain([-maxSize, maxSize])\n    .range([-params.deviation_width / 2, params.deviation_width / 2]);\n\n  let domain: number[] = [];\n  let start = -maxSize;\n  while (start <= maxSize) {\n    domain.push(start);\n    start += 5;\n  }\n\n  let g = el.append(\"g\").attr(\"class\", \"scale-group\");\n  g.attr(\n    \"transform\",\n    `translate(0, ${params.deviation_scale_group_height - params.axis_offset})`\n  );\n\n  g.append(\"path\")\n    .attr(\"class\", \"axis\")\n    .attr(\n      \"d\",\n      `M0,${params.deviation_scale_group_height -\n        params.axis_offset -\n        params.header_body_padding} H${params.deviation_width}`\n    );\n\n  let ticks = addTicks(\n    g,\n    domain,\n    scale,\n    params.axis_offset - params.header_body_padding - 6,\n    params.deviation_width / 2\n  );\n\n  addTickLabels(ticks, 1, -2);\n}\n\n// ################################################################################################\nfunction addChildrenToShowList(rowsToShow: RenderRow[], row: RenderRow) {\n  if ((row.data as Group).nestedGroups.length > 0) {\n    rowsToShow.push(row);\n    (row.data as Group).nestedGroups.forEach(ng => {\n      addChildrenToShowList(rowsToShow, {\n        id: ng.id.toString(),\n        data: ng\n      });\n    });\n  } else {\n    rowsToShow.push(row);\n    if (!(row.data as Group).isCollapsed) {\n      let children = (row.data as Group).visibleSets.map(_ => {\n        return {\n          id: _.id.toString(),\n          data: _\n        };\n      });\n      rowsToShow.push(...children);\n    }\n  }\n}\n\nexport function addRenderRows(\n  data: Data,\n  el: d3Selection,\n  usedSetCount: number,\n  config: EmbedConfig,\n  comm: Mitt\n) {\n  let rowsToShow: RenderRow[] = [];\n  if (data.renderRows.filter(_ => _.data.type === RowType.GROUP).length > 0) {\n    data.renderRows.forEach(row => {\n      addChildrenToShowList(rowsToShow, row);\n    });\n  } else {\n    rowsToShow = data.renderRows;\n  }\n  params.row_group_height = params.row_height * rowsToShow.length;\n  setupColumnBackgrounds(el, usedSetCount);\n  el.attr(\"transform\", `translate(0, ${params.used_set_group_height})`);\n  params.combinations_width = params.column_width * usedSetCount;\n  params.used_sets = usedSetCount;\n  let rows: d3Selection;\n  let groups: d3Selection;\n  let subsets: d3Selection;\n\n  if (config && !config.CardinalityBars) params.cardinality_width = 0;\n  if (config && !config.DeviationBars) params.deviation_width = 0;\n\n  // data.renderRows.filter((_, i) => data.subSetsToRemove.indexOf(i) < 0);\n\n  [rows, groups, subsets] = addRows(rowsToShow, el, comm);\n\n  setupSubsets(subsets, comm);\n  setupGroups(groups, comm);\n  collapseGroups(groups, subsets, comm);\n\n  if (!config || config.CardinalityBars) {\n    addCardinalityBars(rows, data.renderRows);\n  }\n\n  if (!config || config.DeviationBars) {\n    addDeviationBars(rows, data.renderRows);\n  }\n\n  comm.on(\"update-attributes\", () => {\n    updateBackgroundAndAddAttributes(rows, groups, subsets, data);\n  });\n\n  comm.on(\"add-attribute\", attr => {\n    data.selectedAttributes = addAttributeToSelected(\n      data.selectedAttributes,\n      attr\n    );\n    comm.emit(\"update-attributes\");\n  });\n\n  comm.on(\"remove-attribute\", attr => {\n    data.selectedAttributes = removeAttributeFromSelected(\n      data.selectedAttributes,\n      attr\n    );\n    comm.emit(\"update-attributes\");\n  });\n\n  comm.emit(\"update-attributes\");\n}\n\nfunction collapseGroups(\n  groups: d3Selection,\n  subsets: d3Selection,\n  comm: Mitt\n) {}\n\nfunction addAttributeToSelected(selected: Attribute[], attr: Attribute) {\n  if (attr && selected.indexOf(attr) < 0) selected.push(attr);\n  return selected;\n}\n\nfunction removeAttributeFromSelected(selected: Attribute[], attr: Attribute) {\n  if (attr && selected.indexOf(attr) >= 0)\n    selected.splice(selected.indexOf(attr), 1);\n  return selected;\n}\n\n/** ************* */\nfunction setupColumnBackgrounds(el: d3Selection, usedSets: number) {\n  let _bg = el.selectAll(\".column-background-group\").data([1]);\n  _bg.exit().remove();\n  let backgroundGroup = _bg\n    .enter()\n    .append(\"g\")\n    .merge(_bg)\n    .html(\"\")\n    .attr(\"class\", \"column-background-group\")\n    .attr(\"transform\", `translate(${params.skew_offset}, 0)`);\n\n  let arr = [...Array(usedSets).keys()];\n  let rects = backgroundGroup.selectAll(\".vert-set-rect\").data(arr);\n  rects.exit().remove();\n  rects\n    .enter()\n    .append(\"rect\")\n    .merge(rects)\n    .attr(\"class\", (d, i) => {\n      return `vert-set-rect S_${i}`;\n    })\n    .attr(\"width\", params.column_width)\n    .attr(\"height\", params.row_group_height)\n    .attr(\"transform\", (d, i) => {\n      return `translate(${params.column_width * i}, 0)`;\n    });\n}\n\nfunction addRows(\n  data: RenderRow[],\n  el: d3Selection,\n  comm: Mitt\n): d3Selection[] {\n  let _rows = el\n    .selectAll(\".row\")\n    .data(data, function(d: RenderRow, i: number) {\n      return d.id;\n    });\n  _rows.exit().remove();\n\n  let rows = _rows\n    .enter()\n    .append(\"g\")\n    .style(\"opacity\", 0)\n    .attr(\"transform\", (d: RenderRow, i) => {\n      if (d.data.type === RowType.GROUP)\n        return `translate(0, ${params.row_height * i})`;\n      return `translate(${params.skew_offset}, ${params.row_height * i})`;\n    })\n    .merge(_rows)\n    .html(\"\")\n    .attr(\"class\", (d: any, i) => {\n      return `row ${d.data.type}`;\n    });\n\n  rows\n    .transition()\n    .duration(300)\n    .attr(\"transform\", (d: RenderRow, i) => {\n      if (d.data.type === RowType.GROUP)\n        return `translate(0, ${params.row_height * i})`;\n      return `translate(${params.skew_offset}, ${params.row_height * i})`;\n    })\n    .style(\"opacity\", 1);\n\n  setupElementGroups(rows, comm);\n\n  let groups = rows.filter((d: RenderRow, i) => {\n    return d.data.type === RowType.GROUP;\n  });\n  groups.append(\"g\").attr(\"class\", \"group-collapse-g\");\n  groups.append(\"g\").attr(\"class\", \"group-label-g\");\n\n  let subsets = rows.filter((d: RenderRow, i) => {\n    return d.data.type === RowType.SUBSET;\n  });\n\n  return [rows, groups, subsets];\n}\n\nfunction setupElementGroups(rows: d3Selection, comm: Mitt) {\n  rows.on(\"click\", d => {\n    comm.emit(\"add-selection-trigger\", d);\n  });\n\n  rows.append(\"g\").attr(\"class\", \"background-rect-g\");\n\n  rows\n    .append(\"g\")\n    .attr(\"class\", \"cardinality-bar-group\")\n    .attr(\"transform\", (d, i) => {\n      if (d.data.type === RowType.GROUP)\n        return `translate(${params.skew_offset +\n          params.combinations_width +\n          params.column_width}, ${(params.row_height -\n          params.cardinality_bar_height) /\n          2})`;\n      return `translate(${params.combinations_width +\n        params.column_width}, ${(params.row_height -\n        params.cardinality_bar_height) /\n        2})`;\n    });\n\n  rows\n    .append(\"g\")\n    .attr(\"class\", \"deviation-bar-group\")\n    .attr(\"transform\", (d, i) => {\n      if (d.data.type === RowType.GROUP)\n        return `translate(${params.skew_offset +\n          params.combinations_width +\n          params.cardinality_width +\n          params.column_width * 3},${(params.row_height -\n          params.deviation_bar_height) /\n          2})`;\n      else\n        return `translate(${params.combinations_width +\n          params.column_width +\n          params.cardinality_width +\n          params.column_width * 2},${(params.row_height -\n          params.deviation_bar_height) /\n          2})`;\n    });\n\n  rows\n    .append(\"g\")\n    .attr(\"class\", \"attribute-group\")\n    .attr(\"transform\", d => {\n      if (d.data.type === RowType.GROUP)\n        return `translate(${params.skew_offset +\n          params.combinations_width +\n          params.cardinality_width +\n          params.deviation_width +\n          params.column_width * 4},${(params.row_height -\n          params.deviation_bar_height) /\n          2})`;\n      else\n        return `translate(${params.combinations_width +\n          params.column_width +\n          params.cardinality_width +\n          params.deviation_width +\n          params.column_width * 3},${(params.row_height -\n          params.deviation_bar_height) /\n          2})`;\n    });\n}\n/** ************* */\n\n/** ************* */\nfunction setupSubsets(subsets: d3Selection, comm: Mitt) {\n  subsets\n    .on(\"mouseover\", function() {\n      d3.select(this)\n        .select(\"rect\")\n        .classed(\"highlight highlight2\", true);\n    })\n    .on(\"mouseout\", function() {\n      d3.select(this)\n        .select(\"rect\")\n        .classed(\"highlight highlight2\", false);\n    });\n\n  addSubsetBackgroundRects(subsets);\n  addCombinations(subsets, comm);\n}\n\nfunction addSubsetBackgroundRects(subsets: d3Selection) {\n  subsets\n    .selectAll(\".background-rect-g\")\n    .append(\"rect\")\n    .attr(\"class\", `subset-background-rect`)\n    .attr(\"height\", params.row_height)\n    .attr(\"width\", params.subset_row_width);\n}\n\nfunction updateSubsetBackgroundRects(subsets: d3Selection) {\n  subsets\n    .selectAll(\".background-rect-g\")\n    .selectAll(\"rect\")\n    .attr(\"width\", params.subset_row_width);\n}\n\nfunction addCombinations(subset: d3Selection, comm: Mitt) {\n  let combinationsGroup = subset.append(\"g\").attr(\"class\", \"combination\");\n\n  combinationsGroup.each(function(d: RenderRow) {\n    let membershipDetails = (d.data as SubSet).combinedSets;\n\n    let degree = membershipDetails.reduce((i, j) => i + j, 0);\n\n    let comboGroup = d3\n      .select(this)\n      .selectAll(\".set-membership\")\n      .data(membershipDetails);\n\n    addCombinationCircles(comboGroup);\n    addRowHighlight(this);\n\n    if (degree > 1) {\n      let first = membershipDetails.indexOf(1);\n      let last = membershipDetails.lastIndexOf(1);\n      addCombinationLine(this, first, last);\n    }\n  });\n}\n\nfunction addCombinationCircles(comboGroup: d3Selection) {\n  comboGroup\n    .exit()\n    .transition()\n    .duration(100)\n    .remove();\n\n  comboGroup\n    .enter()\n    .append(\"circle\")\n    .merge(comboGroup)\n    .attr(\"r\", params.combo_circle_radius)\n    .attr(\"cy\", params.row_height / 2)\n    .attr(\"cx\", (d, i) => {\n      return params.column_width / 2 + params.column_width * i;\n    })\n    .attr(\"class\", (d, i) => {\n      if (d === 0) return `set-membership not-member`;\n      return `set-membership member`;\n    })\n    .on(\"mouseover\", function(d, i) {\n      let parentG = (d3.select(this).node() as any).parentNode;\n      let rect = (d3.select(parentG).node() as any).parentNode;\n      d3.select(rect)\n        .select(\"rect\")\n        .classed(\"highlight highlight2\", true);\n\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", true);\n    })\n    .on(\"mouseout\", function(d, i) {\n      let parentG = (d3.select(this).node() as any).parentNode;\n      let rect = (d3.select(parentG).node() as any).parentNode;\n      d3.select(rect)\n        .select(\"rect\")\n        .classed(\"highlight highlight2\", false);\n\n      d3.selectAll(`.S_${i}`).classed(\"highlight\", false);\n    });\n}\n\nfunction addCombinationLine(el: BaseType, first: number, last: number) {\n  d3.select(el)\n    .append(\"line\")\n    .attr(\"class\", \"combination-line\")\n    .attr(\"x1\", params.column_width / 2 + params.column_width * first)\n    .attr(\"x2\", params.column_width / 2 + params.column_width * last)\n    .attr(\"y1\", params.row_height / 2)\n    .attr(\"y2\", params.row_height / 2);\n}\n\nfunction addRowHighlight(el: BaseType) {\n  d3.select(el)\n    .on(\"mouseover\", function(d: RenderRow) {\n      (d.data as SubSet).combinedSets.forEach((idx, i) => {\n        if (idx === 1) d3.selectAll(`.S_${i}`).classed(\"highlight\", true);\n      });\n    })\n    .on(\"mouseout\", function(d: RenderRow, i) {\n      (d.data as SubSet).combinedSets.forEach((idx, i) => {\n        d3.selectAll(`.S_${i}`).classed(\"highlight\", false);\n      });\n    });\n}\n/** ************* */\n\n/** ************* */\nfunction setupGroups(groups: d3Selection, comm: Mitt) {\n  addGroupCollapseIcons(groups, comm);\n  addGroupBackgroundRects(groups);\n  addGroupLabels(groups);\n}\n\nfunction addGroupCollapseIcons(groups: d3Selection, comm: Mitt) {\n  let collapse = groups\n    .selectAll(\".group-collapse-g\")\n    .append(\"text\")\n    .attr(\"class\", \"group-collapse-g\")\n    .html((d: any) => {\n      if ((d.data as Group).isCollapsed) return \"&#9656;\";\n      return \"&#9662;\";\n    })\n    .attr(\"transform\", (d: RenderRow, i) => {\n      if ((d.data as Group).level == 2)\n        return `translate(23, ${params.row_height - 4})`;\n      return `translate(3, ${params.row_height - 4})`;\n    });\n\n  collapse.style(\"cursor\", \"pointer\");\n\n  collapse.on(\"click\", (d: RenderRow) => {\n    comm.emit(\"collapse-group\", d);\n    d3.event.stopPropagation();\n  });\n}\n\nfunction addGroupBackgroundRects(groups: d3Selection) {\n  groups\n    .selectAll(\".background-rect-g\")\n    .append(\"rect\")\n    .attr(\"class\", \"group-background-rect\")\n    .classed(\"group-background-rect2\", (d: RenderRow, i) => {\n      if ((d.data as Group).level === 2) return true;\n      return false;\n    })\n    .attr(\"height\", params.row_height)\n    .attr(\"width\", (d: RenderRow) => {\n      if ((d.data as Group).level === 2) return params.group_row_width - 20;\n      return params.group_row_width;\n    })\n    .attr(\"transform\", (d: RenderRow) => {\n      if ((d.data as Group).level === 2) return `translate(20, 0)`;\n      return \"translate(0,0)\";\n    })\n    .attr(\"rx\", 5)\n    .attr(\"ry\", 10);\n}\n\nfunction updateGroupBackgroundRects(groups: d3Selection) {\n  groups\n    .selectAll(\".background-rect-g\")\n    .selectAll(\"rect\")\n    .attr(\"width\", (d: RenderRow) => {\n      if ((d.data as Group).level === 2) return params.group_row_width - 20;\n      return params.group_row_width;\n    });\n}\n\nfunction addGroupLabels(groups: d3Selection) {\n  groups\n    .selectAll(\".group-label-g\")\n    .append(\"text\")\n    .attr(\"class\", \"group-label-g\")\n    .text((d: RenderRow, i) => {\n      return d.data.elementName;\n    })\n    .attr(\"transform\", (d: RenderRow, i) => {\n      if ((d.data as Group).level === 2)\n        return `translate(35, ${params.row_height - 4})`;\n      return `translate(15, ${params.row_height - 4})`;\n    });\n}\n/** ************* */\n\n/** ************* */\nfunction addCardinalityBars(rows: d3Selection, data: RenderRow[]) {\n  let maxSubsetSize = d3.max(data.map(d => d.data.setSize));\n  let scale = getCardinalityScale(maxSubsetSize, params.cardinality_width);\n  let cardinalityGroups = rows.selectAll(\".cardinality-bar-group\");\n  renderCardinalityBars(cardinalityGroups, scale);\n}\n\nfunction adjustCardinalityBars(maxDomain: number) {\n  let scale = getCardinalityScale(maxDomain, params.cardinality_width);\n  let el = d3.selectAll(\".row\").selectAll(\".cardinality-bar-group\");\n  renderCardinalityBars(el, scale);\n}\n\nfunction renderCardinalityBars(el: d3Selection, scale: d3Scale) {\n  el.html(\"\");\n  el.each(function(d: RenderRow, i) {\n    let g = d3.select(this);\n    let width = scale(d.data.setSize);\n    let loop = Math.floor(width / params.cardinality_width) + 1;\n    let rem = width % params.cardinality_width;\n\n    let brk = false;\n    if (loop > 3) {\n      brk = true;\n      loop = 4;\n      rem = 0;\n    }\n\n    let offset = params.horizon_offset;\n\n    let hb = g.selectAll(\".cardinality-bar\").data([...Array(loop).keys()]);\n    hb.exit().remove();\n    hb.enter()\n      .append(\"rect\")\n      .merge(hb)\n      .attr(\"class\", (d, i) => {\n        return `cardinality-bar cardinality-bar${i}`;\n      })\n      .attr(\"width\", (d, i) => {\n        if (i + 1 === loop) return rem;\n        return params.cardinality_width;\n      })\n      .attr(\"height\", (d, i) => {\n        let height = params.cardinality_bar_height - offset * i;\n        if (height < 0) return 2;\n        return height;\n      })\n      .attr(\"transform\", (d, i) => {\n        return `translate(0, ${((params.cardinality_bar_height - offset) * i) /\n          4})`;\n      });\n\n    if (brk) {\n      g.append(\"line\")\n        .attr(\"class\", \"break-bar\")\n        .attr(\"y1\", 0)\n        .attr(\"y2\", params.cardinality_bar_height)\n        .attr(\"x1\", params.cardinality_width - 20)\n        .attr(\"x2\", params.cardinality_width - 10);\n\n      g.append(\"line\")\n        .attr(\"class\", \"break-bar\")\n        .attr(\"y1\", 0)\n        .attr(\"y2\", params.cardinality_bar_height)\n        .attr(\"x1\", params.cardinality_width - 25)\n        .attr(\"x2\", params.cardinality_width - 15);\n    }\n\n    g.append(\"text\")\n      .attr(\"class\", \"cardinality-text\")\n      .text(d.data.setSize)\n      .attr(\"transform\", (d, i) => {\n        return loop > 1\n          ? `translate(${params.cardinality_width +\n              5}, ${params.cardinality_bar_height / 2})`\n          : `translate(${rem + 5}, ${params.cardinality_bar_height / 2})`;\n      })\n      .attr(\"dy\", \"0.4em\");\n  });\n}\n\nfunction getCardinalityScale(maxSize: number, maxWidth: number): d3Scale {\n  if (maxSize > 8000) {\n    return d3\n      .scalePow()\n      .exponent(0.75)\n      .domain([0.01, maxSize])\n      .range([0.01, maxWidth]);\n  }\n  if (maxSize > 2000) {\n    return d3\n      .scalePow()\n      .exponent(0.8)\n      .domain([0.01, maxSize])\n      .range([0.01, maxWidth]);\n  }\n  return d3\n    .scaleLinear()\n    .domain([0, maxSize])\n    .range([0, maxWidth]);\n}\n/** ************* */\n\n/** ************* */\nfunction addDeviationBars(rows: d3Selection, data: RenderRow[]) {\n  let maxDeviation = d3.max(\n    data.map(r => Math.abs(r.data.disproportionality * 100))\n  );\n  maxDeviation = Math.ceil(maxDeviation / 5) * 5;\n  let scale = getDeviationScale(maxDeviation, params.deviation_width / 2);\n  let deviationGroup = rows.selectAll(\".deviation-bar-group\");\n  renderDeviationBars(deviationGroup, scale);\n}\n\nfunction getDeviationScale(maxSize: number, maxWidth: number): d3Scale {\n  return d3\n    .scaleLinear()\n    .domain([0, maxSize])\n    .range([0, maxWidth]);\n}\n\nfunction renderDeviationBars(el: d3Selection, scale: d3Scale) {\n  el.html(\"\")\n    .append(\"rect\")\n    .attr(\"width\", params.deviation_width)\n    .attr(\"height\", params.deviation_bar_height)\n    .style(\"fill\", \"none\");\n\n  el.append(\"rect\")\n    .attr(\"class\", (d: RenderRow, i) => {\n      return d.data.disproportionality >= 0\n        ? `disproportionality positive`\n        : `disproportionality negative`;\n    })\n    .attr(\"height\", (d, i) => {\n      return params.deviation_bar_height;\n    })\n    .attr(\"width\", (d: RenderRow, i) => {\n      return scale(Math.abs(d.data.disproportionality) * 100);\n    })\n    .attr(\"transform\", (d: RenderRow, i) => {\n      return d.data.disproportionality >= 0\n        ? `translate(${params.deviation_width / 2}, 0)`\n        : `translate(${params.deviation_width / 2 +\n            scale(d.data.disproportionality * 100)}, 0)`;\n    });\n}\n/** ************* */\nexport function addAttributeHeaders(el: d3Selection, data: Data, comm: Mitt) {\n  el.html(\"\");\n  el.attr(\n    \"transform\",\n    `translate(${params.skew_offset +\n      params.combinations_width +\n      params.cardinality_width +\n      params.deviation_width +\n      params.column_width * 4}, ${params.header_height -\n      params.header_body_padding -\n      29})`\n  );\n\n  let attrHeaders = el.selectAll(\".attribute\").data(data.selectedAttributes);\n  attrHeaders.exit().remove();\n  attrHeaders = attrHeaders\n    .enter()\n    .append(\"g\")\n    .classed(\"attribute\", true)\n    .merge(attrHeaders)\n    .attr(\n      \"transform\",\n      (_, i) => `translate(${i * (params.attribute_width + 25)}, 0)`\n    );\n  addAttrHeaders(attrHeaders, comm);\n}\n\nfunction addAttrHeaders(el: d3Selection, comm: Mitt) {\n  el.each(function(d: Attribute) {\n    let t = d3\n      .select(this)\n      .html(\"\")\n      .append(\"g\");\n\n    // let close = t.append(\"g\").html(html);\n    // close.attr(\"transform\", `translate(${params.attribute_width}, -10)`);\n    t.on(\"click\", () => comm.emit(\"remove-attribute-trigger\", d));\n\n    t.append(\"text\").text(d.name);\n    // t.append(\"rect\")\n    //   .attr(\"width\", params.attribute_width)\n    //   .attr(\"height\", 20)\n    //   .classed(\"label\", true)\n    //   .attr(\"transform\", `translate(0, -18)`);\n\n    let scale = d3\n      .scaleLinear()\n      .domain([d.min, d.max])\n      .range([0, params.attribute_width]);\n\n    let ax = d3.axisTop(scale).ticks(2);\n\n    d3.select(this)\n      .append(\"g\")\n      .attr(\"transform\", `translate(0, 30)`)\n      .call(ax);\n  });\n}\n\n/** ************* */\n// ! Undefined function???\n\nfunction updateBackgroundAndAddAttributes(\n  rows: d3Selection,\n  groups: d3Selection,\n  subset: d3Selection,\n  data: Data\n) {\n  params.no_attributes_shown = data.selectedAttributes.length;\n  updateGroupBackgroundRects(groups);\n  updateSubsetBackgroundRects(subset);\n  addAttributes(rows, data);\n}\n\nfunction addAttributes(rows: d3Selection, data: Data) {\n  let attributeGroups = rows.selectAll(\".attribute-group\").html(\"\");\n\n  let attrs = attributeGroups\n    .selectAll(\".attribute\")\n    .data(data.selectedAttributes);\n  attrs.exit().remove();\n  attrs = attrs\n    .enter()\n    .append(\"g\")\n    .classed(\"attribute\", true)\n    .merge(attrs);\n\n  attrs.attr(attributeName, d => {\n    return d.name;\n  });\n\n  attrs.attr(\"transform\", (_, i) => {\n    return `translate(${i * (params.attribute_width + 25)}, 0)`;\n  });\n\n  attributeGroups.each(function(d: RenderRow) {\n    let itemIndices = d.data.items;\n    let attrs = d3.select(this).selectAll(\".attribute\");\n\n    attrs.each(function(d) {\n      let el = d3.select(this);\n      let attrName = el.attr(attributeName);\n      let relevantAttr = data.selectedAttributes.filter(\n        _ => _.name === attrName\n      )[0];\n\n      let overAllMin = d3.min(relevantAttr.values);\n      let overAllMax = d3.max(relevantAttr.values);\n\n      let memberValues = relevantAttr.values.filter(\n        (_, i) => itemIndices.indexOf(i) > -1\n      );\n      let localStats = getBoxPlotStats(memberValues);\n\n      let boxPlotMaxWidth = params.attribute_width;\n\n      let bpScale = d3\n        .scaleLinear()\n        .domain([overAllMin, overAllMax])\n        .range([0, boxPlotMaxWidth]);\n\n      addBoxPlot(el, localStats, bpScale);\n    });\n  });\n}\n\ntype BoxPlotStats = {\n  min: number;\n  max: number;\n  quantile25: number;\n  quantile50: number;\n  quantile75: number;\n};\n\nfunction getBoxPlotStats(values: number[]): BoxPlotStats {\n  values.sort((a, b) => a - b);\n  return {\n    min: d3.min(values),\n    max: d3.max(values),\n    quantile25: d3.quantile(values, 0.25),\n    quantile50: d3.quantile(values, 0.5),\n    quantile75: d3.quantile(values, 0.75)\n  };\n}\n\nfunction addBoxPlot(el: d3Selection, data: BoxPlotStats, scale: d3Scale) {\n  let bpGroup = el.append(\"g\");\n  bpGroup.attr(\"transform\", `translate(0, ${params.attribute_bar_height / 4})`);\n  addWhiskers(bpGroup, data, scale);\n  addBoxes(bpGroup, data, scale);\n}\n\nfunction addWhiskers(el: d3Selection, data: BoxPlotStats, scale: d3Scale) {\n  el.append(\"line\")\n    .classed(\"whisker\", true)\n    .attr(\"x1\", scale(data.min))\n    .attr(\"x2\", scale(data.min))\n    .attr(\"y1\", 0)\n    .attr(\"y2\", params.attribute_bar_height / 2);\n\n  el.append(\"line\")\n    .classed(\"whisker\", true)\n    .attr(\"x1\", scale(data.max))\n    .attr(\"x2\", scale(data.max))\n    .attr(\"y1\", 0)\n    .attr(\"y2\", params.attribute_bar_height / 2);\n\n  el.append(\"line\")\n    .classed(\"whisker\", true)\n    .attr(\"x1\", scale(data.min))\n    .attr(\"x2\", scale(data.max))\n    .attr(\"y1\", params.attribute_bar_height / 4)\n    .attr(\"y2\", params.attribute_bar_height / 4);\n}\n\nfunction addBoxes(el: d3Selection, data: BoxPlotStats, scale: d3Scale) {\n  el.append(\"rect\")\n    .classed(\"boxplot-box\", true)\n    .attr(\"height\", params.attribute_bar_height / 2)\n    .attr(\"width\", scale(data.quantile75) - scale(data.quantile25))\n    .attr(\"x\", scale(data.quantile25));\n\n  el.append(\"line\")\n    .classed(\"whisker\", true)\n    .attr(\"x1\", scale(data.quantile50))\n    .attr(\"x2\", scale(data.quantile50))\n    .attr(\"y1\", 0 - params.attribute_bar_height / 4)\n    .attr(\"y2\", (params.attribute_bar_height * 3) / 4);\n}\n","let params = {\n  header_body_padding: 5,\n  used_sets: 0,\n  column_width: 20,\n  row_height: 20,\n\n  used_set_header_height: 75,\n  used_set_connector_height: 100,\n  used_set_connector_skew: 45,\n  get used_set_group_height() {\n    return params.used_set_header_height + params.used_set_connector_height;\n  },\n  get skew_offset() {\n    return (\n      params.used_set_connector_height /\n      Math.tan(deg2rad(params.used_set_connector_skew))\n    );\n  },\n\n  row_group_height: 20,\n  combinations_width: 0,\n  get subset_row_width() {\n    return (\n      params.combinations_width +\n      params.cardinality_width +\n      params.deviation_width +\n      params.attribute_group_width +\n      params.column_width * 6\n    );\n  },\n  get group_row_width() {\n    return params.skew_offset + params.subset_row_width;\n  },\n\n  combo_circle_radius: 9,\n\n  cardinality_width: 200,\n  get cardinality_bar_height() {\n    return params.row_height - 4;\n  },\n  cardinality_scale_group_height: 90,\n  axis_offset: 30,\n  cardinality_label_height: 24,\n  cardinality_slider_dims: 10,\n  horizon_offset: 6,\n\n  deviation_width: 200,\n  get deviation_bar_height() {\n    return params.row_height - 4;\n  },\n  deviation_scale_group_height: 60,\n  deviation_label_height: 24,\n\n  no_attributes_shown: 0,\n  attribute_width: 100,\n  get attribute_group_width() {\n    return params.no_attributes_shown * (params.attribute_width + 20);\n  },\n  get attribute_bar_height() {\n    return params.row_height - 4;\n  },\n  attribute_group_height: 100,\n\n  get header_height() {\n    return params.used_set_group_height;\n  },\n\n  get svg_height() {\n    return (\n      params.used_set_group_height +\n      params.row_group_height +\n      params.header_body_padding +\n      5\n    );\n  },\n  get svg_width() {\n    return `${100}%`;\n  }\n};\n\nexport default params;\n\nexport function deg2rad(deg: number): number {\n  return (deg * Math.PI) / 180;\n}\n","// HTML\nexport default `<div id=\"vis\" class=\"position-relative\"></div>\n<div id=\"test\"></div>`","import { Attribute } from \"./../DataStructure/Attribute\";\nimport { Spec, Data } from \"vega\";\nimport { d3Selection } from \"../type_declarations/types\";\nimport * as vegaEmbed from \"vega-embed\";\nimport * as vega from \"vega\";\n\nexport function CreateVegaVis(spec: any, el: d3Selection) {\n  vegaEmbed.default(el.node() as any, spec as any, {\n    mode: \"vega-lite\",\n    hover: false,\n    renderer: \"svg\",\n    runAsync: true,\n    logLevel: vega.None,\n    actions: false\n  });\n}\n","/*\n * @Author: Kiran Gadhave \n * @Date: 2018-06-03 14:36:08 \n * @Last Modified by: Kiran Gadhave\n * @Last Modified time: 2018-10-09 16:10:33\n */\nimport * as d3 from \"d3\";\nimport \"popper.js\";\nimport { Application } from \"provenance_mvvm_framework\";\nimport { DataSetInfoView } from \"../DataSetInfoView/DataSetInfoView\";\nimport { DataSetInfoViewModel } from \"../DataSetInfoView/DataSetInfoViewModel\";\nimport { DataUtils } from \"../DataStructure/DataUtils\";\nimport { EmbedGenView } from \"../EmbedGenView/EmbedGenView\";\nimport { FilterBoxView } from \"../FilterBoxView/FilterBoxView\";\nimport { FilterBoxViewModel } from \"../FilterBoxView/FilterBoxViewModel\";\nimport { NavBarView } from \"../NavBarView/NavBarView\";\nimport { NavBarViewModel } from \"../NavBarView/NavBarViewModel\";\nimport { ProvenanceView } from \"../ProvenanceView/ProvenanceView\";\nimport { ProvenanceViewModel } from \"../ProvenanceView/ProvenanceViewModel\";\nimport { UnusedSetView } from \"../UnusedSetsView/UnusedSetView\";\nimport { UpsetView } from \"../UpsetView/UpsetView\";\nimport { EmbedConfig } from \"./../DataStructure/EmbedConfig\";\nimport { d3Selection } from \"./../type_declarations/types\";\nimport { UnusedSetViewModel } from \"./../UnusedSetsView/UnusedSetViewModel\";\nimport { UpsetViewModel } from \"./../UpsetView/UpsetViewModel\";\nimport \"./styles.scss\";\nimport { ElementViewModel } from \"../ElementView/ElementViewModel\";\nimport { ElementView } from \"../ElementView/ElementView\";\nimport { DatasetSelectionViewModel } from \"../DatasetSelectionView/DatasetSelectionViewModel\";\nimport { DatasetSelectionView } from \"../DatasetSelectionView/DatasetSelectionView\";\n\nexport const serverUrl: string = \"http://18.224.213.250\";\n\nfunction run() {\n  let application = new Application(\"Upset2.0\", \"1.0.0\");\n  DataUtils.app = application;\n  DataUtils.app.on(\"change-dataset\", DataUtils.processDataSet);\n\n  if (sessionStorage[\"provenance-graph\"]) {\n    application.graph = JSON.parse(sessionStorage[\"provenance-graph\"]);\n    application.registry = JSON.parse(sessionStorage[\"provenance-registry\"]);\n  }\n\n  new DatasetSelectionViewModel(\n    new DatasetSelectionView(d3.select(\"body\").node() as HTMLElement),\n    application\n  );\n\n  new DataSetInfoViewModel(\n    new DataSetInfoView(d3.select(\"#dataset-info-box\").node() as HTMLElement),\n    application\n  );\n\n  new NavBarViewModel(\n    new NavBarView(d3.select(\"#navigation-bar\").node() as HTMLElement),\n    application,\n    \"data/datasets.json\"\n  );\n\n  new FilterBoxViewModel(\n    new FilterBoxView(d3.select(\"#filter-box\").node() as HTMLElement),\n    application\n  );\n\n  new ProvenanceViewModel(\n    new ProvenanceView(d3.select(\".provenance-view\").node() as HTMLElement),\n    application\n  );\n\n  let isIFrame = window.self !== window.top;\n  let ec: EmbedConfig = null;\n\n  if (!isIFrame) {\n    EmbedGenView(d3.select(\"#embed-modal\"));\n  } else {\n    ec = renderIFrame();\n  }\n\n  new UpsetViewModel(\n    new UpsetView(d3.select(\"#mid-bar\").node() as HTMLElement, ec),\n    application\n  );\n\n  new UnusedSetViewModel(\n    new UnusedSetView(d3.select(\"#vis\").node() as HTMLElement),\n    application\n  );\n\n  new ElementViewModel(\n    new ElementView(d3.select(\"#right-side-bar\").node() as HTMLElement),\n    application\n  );\n}\n\nrun();\n\nfunction renderIFrame(): EmbedConfig {\n  let ec = JSON.parse(unescape(window.location.hash.replace(\"#\", \"\")));\n\n  if (!ec.NavBar) d3.select(\"#navigation-bar\").style(\"display\", \"none\");\n  if (!ec.FilterBox) d3.select(\"#filter-box\").style(\"display\", \"none\");\n  if (!ec.DataSetInfo) d3.select(\"#dataset-info-box\").style(\"display\", \"none\");\n  if (!ec.LeftSideBar) d3.select(\"#left-side-bar\").style(\"display\", \"none\");\n  if (!ec.RightSideBar) d3.select(\"#right-side-bar\").style(\"display\", \"none\");\n  if (!ec.ProvenanceView)\n    d3.select(\".provenance-view\").style(\"display\", \"none\");\n\n  return ec;\n}\n\nfunction getEmbedConfig(iframe: d3Selection): EmbedConfig {\n  return JSON.parse(iframe.attr(\"data\"));\n}\n","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export type IMetaData = {\n  type: string;\n  index: number;\n  name: string;\n  min?: number;\n  max?: number;\n};\n\nexport type ISetInfo = {\n  format: string;\n  start: number;\n  end: number;\n};\n\nexport type DatasetInfo = {\n  username: string;\n  email: string;\n  file: string;\n  name: string;\n  header: number;\n  separator: string;\n  skip: number;\n  meta: Array<IMetaData>;\n  sets: Array<ISetInfo>;\n  author: string;\n  description: string;\n  source: string;\n  text: string;\n};\n\nexport function getBlankDSInfo(): DatasetInfo {\n  return {\n    username: \"\",\n    email: \"\",\n    file: \"\",\n    name: \"\",\n    header: 0,\n    separator: \"\",\n    skip: -1,\n    meta: [],\n    sets: [],\n    author: \"\",\n    description: \"\",\n    source: \"\",\n    text: \"\"\n  };\n}\n","import { serverUrl } from \"./../app/app\";\nimport { DatasetInfo, getBlankDSInfo } from \"./../DataTypes/DatasetInfo\";\nimport { d3Selection } from \"../type_declarations/types\";\nimport html from \"./FileUpload.view.html\";\nimport \"./styles.scss\";\nimport * as d3 from \"d3\";\nimport { isValidEmail } from \"../Utils/utils\";\nimport { pubsub } from \"../app/app\";\nimport { dsvFormat } from \"d3\";\n\nexport function FileUpload(root: d3Selection) {\n  root.html(html);\n  let datasetInfo: DatasetInfo = getBlankDSInfo();\n  let file: any;\n  let fileInputElement = root.select(\".file-input\");\n  let form = root.select(\".input-form\");\n  let isFirstCall: boolean = true;\n\n  let submitBtn = root.select(\"#submit-btn\");\n  submitBtn.property(\"disabled\", true);\n\n  pubsub.on(\"file-uploaded\", (file: any, info: DatasetInfo) => {\n    processFileUploadForm(form, file, info, isFirstCall);\n    isFirstCall = false;\n  });\n\n  pubsub.on(\"broadcast-dataset-info\", info => {\n    console.log(\"Info\", info);\n    datasetInfo = info;\n  });\n\n  fileInputElement.on(\"input\", () => {\n    file = getUploadedFile();\n    if (file) {\n      root.select(\".file-name\").text(file.name);\n      datasetInfo.separator = root.select(\".delimiter\").property(\"value\");\n      console.log(datasetInfo.separator);\n      pubsub.emit(\"file-uploaded\", file, datasetInfo);\n    }\n  });\n\n  let delimiterDropdown = root.select(\".delimiter\");\n\n  delimiterDropdown.on(\"input\", function() {\n    datasetInfo.separator = d3.select(this).property(\"value\");\n    pubsub.emit(\"file-uploaded\", file, datasetInfo);\n    pubsub.emit(\"broadcast-dataset-info\", datasetInfo);\n  });\n}\n\nfunction processFileUploadForm(\n  inputForm: d3Selection,\n  file: any,\n  datasetInfo: DatasetInfo,\n  firstCall: boolean = false\n) {\n  let submitBtn = inputForm.select(\"#submit-btn\");\n\n  if (firstCall) {\n    inputForm.selectAll(\"input\").on(\"input\", () => {\n      processFileUploadForm(inputForm, file, datasetInfo);\n    });\n    inputForm.selectAll(\"textarea\").on(\"input\", () => {\n      processFileUploadForm(inputForm, file, datasetInfo);\n    });\n    submitBtn.on(\"click\", () => {\n      let fd: any = new FormData();\n      fd.append(\"file\", d3.select(\".file-input\").property(\"files\")[0]);\n      fd.append(\"metadata\", JSON.stringify(datasetInfo).replace(/\\\\\\\\/g, \"\\\\\"));\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", `${serverUrl}upload/single`);\n      xhr.send(fd);\n    });\n  }\n  let warningDiv = inputForm.select(\".notification\");\n  let warnings: string[] = [];\n  let name = inputForm.select(\"input[name=fullname]\").property(\"value\");\n  let email = inputForm.select(\"input[name=email]\").property(\"value\");\n  let datasetName = inputForm.select(\"input[name=dataset]\").property(\"value\");\n  let authors = inputForm.select(\"input[name=authors]\").property(\"value\");\n  let description = inputForm\n    .select(\"textarea[name=description\")\n    .property(\"value\");\n\n  if (!file) {\n    warnings.push(\"Please select file to upload\");\n  }\n  if (file.size > 5242880) {\n    warnings.push(\"File too large\");\n  }\n  if (!name || !name.trim()) {\n    warnings.push(\"Please enter Full Name\");\n  }\n  if (!email || !email.trim()) {\n    warnings.push(\"Please enter a valid email id.\");\n  } else if (!isValidEmail(email)) {\n    warnings.push(\"Please enter a valid email id\");\n  }\n  if (!datasetName || !datasetName.trim()) {\n    warnings.push(\"Please enter name for the dataset\");\n  }\n\n  if (warnings.length > 0) {\n    warningDiv.classed(\"is-hidden\", false);\n    warningDiv.html(\"\");\n    warnings.forEach(w => {\n      warningDiv.append(\"div\").text(w);\n    });\n    submitBtn.property(\"disabled\", true);\n    return;\n  }\n  warningDiv.classed(\"is-hidden\", true);\n  submitBtn.property(\"disabled\", false);\n\n  datasetInfo.username = name;\n  datasetInfo.email = email;\n  datasetInfo.name = datasetName;\n  datasetInfo.author = authors;\n  datasetInfo.description = description;\n  pubsub.emit(\"broadcast-dataset-info\", datasetInfo);\n}\n\nfunction getUploadedFile() {\n  if (\n    (window as any).File &&\n    (window as any).FileReader &&\n    (window as any).FileList &&\n    (window as any).Blob\n  ) {\n  } else {\n    alert(\"The File APIs are not fully supported in this browser.\");\n    throw new Error();\n  }\n  let file = (event.target as any).files[0];\n  return file;\n}\n","// HTML\nexport default `<div class=\"file-upload\">\n  <div class=\"columns is-vcentered\">\n\n    <div class=\"column is-narrow\">\n      <section class=\"hero\">\n        <div class=\"hero-body\">\n          <div class=\"is\">\n            <h1 class=\"title has-text-centered\">\n              Dataset Importer\n            </h1>\n            <h2 class=\"subtitle has-text-centered\">\n              Prepare your dataset\n            </h2>\n\n            <div class=\"file is-centered has-name is-boxed\">\n              <label class=\"file-label\">\n                <input class=\"file-input\" type=\"file\" name=\"resume\">\n                <span class=\"file-cta\">\n                  <span class=\"file-icon\">\n                    <i class=\"fas fa-upload\"></i>\n                  </span>\n                  <span class=\"file-label\">\n                    Choose a dataset\n                  </span>\n                </span>\n                <span class=\"file-name has-text-centered\">\n                  ...\n                </span>\n              </label>\n            </div>\n\n            <div class=\"field has-text-centered\">\n              <label class=\"label\">Select Delimiter</label>\n              <div class=\"control\">\n                <div class=\"select is-fullwidth\">\n                  <select class=\"delimiter\">\n                    <option value=\";\">Semicolon ;</option>\n                    <option value=\",\">Comma ,</option>\n                    <option value=\" \">Space</option>\n                    <option value=\"\\t\">Tab \\t</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </section>\n    </div>\n\n    <div class=\"column input-form\">\n      <div class=\"columns is-vcentered is-centered\">\n\n        <div class=\"column is-half\">\n          <div class=\"field\">\n            <label class=\"label\">Full Name*</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"text\" placeholder=\"John Doe\" name=\"fullname\" value=\"Test\">\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label class=\"label\">Email ID*</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"email\" placeholder=\"johndoe@email.com\" name=\"email\" value=\"test@test.com\">\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label class=\"label\">Dataset Name*</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"text\" placeholder=\"Dataset Name\" name=\"dataset\" value=\"Test\">\n            </div>\n          </div>\n\n\n        </div>\n        <div class=\"column is-half\">\n\n          <div class=\"field\">\n            <label class=\"label\">Authors</label>\n            <div class=\"control\">\n              <input class=\"input\" type=\"text\" placeholder=\"List of Authors\" name=\"authors\">\n            </div>\n          </div>\n\n\n\n          <div class=\"field\">\n            <label class=\"label\">Description</label>\n            <div class=\"control\">\n              <textarea class=\"textarea resize-none\" placeholder=\"Enter dataset description.\" rows=\"4\" name=\"description\"></textarea>\n            </div>\n          </div>\n\n\n        </div>\n\n      </div>\n\n      <div class=\"field\">\n        <div class=\"control\">\n          <button id=\"submit-btn\" class=\"button\">Upload</button>\n        </div>\n      </div>\n\n      <div class=\"notification is-warning is-hidden\">\n      </div>\n    </div>\n  </div>\n</div>`","\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { Container } from \"golden-layout\";\nimport * as d3 from \"d3\";\nimport html from \"./file.view.html\";\nimport { FileUpload } from \"../FileUploadView/FileUpload\";\nimport { TableView } from \"../TableView/TableView\";\nimport { test } from \"../app/app\";\n\nexport function FileView(container: Container, state: any) {\n  let root = d3.select(container.getElement()[0]);\n  root.html(html);\n  let fileUpload = root.select(\".file-upload-view\");\n  FileUpload(fileUpload);\n  let tableview = root.select(\".table-view\");\n  TableView(tableview);\n}\n","// HTML\nexport default `<div class=\"file-upload-view\"></div>\n<div class=\"table-view\"></div>\n<div id=\"test\" class=\"test-view\"></div>`","export enum ColumnType {\n  Number,\n  Label,\n  Set,\n  Set_List,\n  Categorical\n}\n\nexport let ColumnTypeDictionary: { [key: number]: string } = {\n  0: \"Number\",\n  1: \"Label\",\n  2: \"Set\",\n  3: \"Set List\",\n  4: \"Categorical\"\n};\n","import { ColumnType, ColumnTypeDictionary } from \"./ColumnType\";\nimport { EventHandler } from \"./../Utils/PubSub\";\nimport { DatasetInfo, IMetaData } from \"./../DataTypes/DatasetInfo\";\nimport { d3Selection } from \"../type_declarations/types\";\nimport { pubsub } from \"../app/app\";\nimport * as d3 from \"d3\";\nimport { DSVParsedArray, DSVRowString, select } from \"d3\";\nimport \"./styles.scss\";\nimport dropdown from \"./dropdown.view.html\";\nimport { FilterWithIndices } from \"../Utils/utils\";\n\nexport function TableView(root: d3Selection) {\n  let dsInfo: DatasetInfo;\n  pubsub.on(\"file-uploaded\", (file: any, info: DatasetInfo) => {\n    dsInfo = info;\n    processDataset(file, info);\n  });\n\n  pubsub.on(\"data-processed\", (data: DSVParsedArray<DSVRowString>) => {\n    pubsub.on(\"update-dataset-info\", (cdt: { [key: string]: ColumnType }) => {\n      updateDatasetInfoWithSets(data, dsInfo, cdt);\n    });\n    processRawData(data, root);\n  });\n}\n\nfunction processDataset(file: any, info: DatasetInfo) {\n  let reader = getReader(parseDSV, info);\n  reader.readAsDataURL(file);\n}\n\nfunction getReader(parseDSV: EventHandler, info: DatasetInfo) {\n  let reader = new FileReader();\n  reader.onload = event => parseDSV((event.target as any).result, info);\n  return reader;\n}\n\nfunction parseDSV(url: any, info: DatasetInfo) {\n  let temp = JSON.stringify(info).replace(/\\\\\\\\/g, \"\\\\\");\n  console.log(JSON.parse(temp));\n  d3.dsv(JSON.parse(temp).separator, url).then(data => {\n    pubsub.emit(\"data-processed\", data);\n  });\n}\n\nfunction processRawData(data: DSVParsedArray<DSVRowString>, root: d3Selection) {\n  let columns = data.columns.slice();\n  columns.unshift(\"ID\");\n  data.forEach((d, i) => {\n    (d as any)[\"ID\"] = i + 1;\n  });\n  let subSet: Array<any> = getSubsetOfLength(data, 15);\n  let table = buildTable(root, subSet, columns);\n}\n\nfunction getSubsetOfLength(data: DSVParsedArray<DSVRowString>, offset: number) {\n  let length = data.length - 1;\n  let subSet: any[] = [];\n  subSet = data.slice(0, offset);\n  subSet.push(...data.slice(length - offset, length));\n  return subSet;\n}\n\nfunction buildTable(root: d3Selection, data: any[], columns: string[]) {\n  let columnDataTypes: { [key: string]: ColumnType } = readDefaultColumnTypes(\n    data,\n    columns\n  );\n  pubsub.emit(\"update-dataset-info\", columnDataTypes);\n\n  pubsub.on(\"column-type-changed\", (colName, newType) => {\n    columnDataTypes[colName] = newType;\n    pubsub.emit(\"update-dataset-info\", columnDataTypes);\n  });\n\n  root.classed(\"table-view\", true).style(\"height\", () => {\n    let header_height = d3.select(\".file-upload\").style(\"height\");\n    return `calc(99vh - ${header_height})`;\n  });\n\n  let table = root.selectAll(\".table-container\").data([1]);\n  table.exit().remove();\n  table = table\n    .enter()\n    .append(\"div\")\n    .classed(\"table-container\", true)\n    .merge(table)\n    .html(\"\");\n\n  table.append(\"table\");\n\n  let thead = table.append(\"thead\");\n  let tbody = table.append(\"tbody\");\n\n  let rows = buildBody(tbody, data, columns);\n  buildHeader(thead, columnDataTypes);\n\n  return table;\n}\n\nfunction buildBody(root: d3Selection, data: any[], columns: string[]) {\n  data.splice(15, 0, null);\n  let rows = root\n    .selectAll(\"tr\")\n    .data(data)\n    .enter()\n    .append(\"tr\");\n\n  let cells = rows\n    .selectAll(\"td\")\n    .data((row, rowidx) => {\n      if (row === null) {\n        return columns.map(col => {\n          return {\n            column: col,\n            value: \"...\"\n          };\n        });\n      }\n      return columns.map(col => {\n        return {\n          column: col,\n          value: row[col]\n        };\n      });\n    })\n    .enter()\n    .append(\"td\")\n    .text(d => d.value);\n\n  return rows;\n}\n\nfunction buildHeader(\n  root: d3Selection,\n  columns: { [key: string]: ColumnType }\n) {\n  let headerRow = root.append(\"tr\");\n  let header_group = addHeaderGroup(headerRow, columns);\n  let header_selectors = addHeaderSelectors(header_group);\n  addHeaderLabels(header_group);\n\n  setUpDropdowns(header_selectors);\n}\n\nfunction addHeaderGroup(\n  headerRow: d3Selection,\n  columns: { [key: string]: ColumnType }\n) {\n  let header_group = headerRow\n    .selectAll(\".header-group\")\n    .data(d3.entries(columns));\n  header_group.exit().remove();\n  header_group = header_group\n    .enter()\n    .append(\"th\")\n    .merge(header_group)\n    .classed(\"header-group\", true)\n    .html(\"\");\n  return header_group;\n}\n\nfunction addHeaderSelectors(header_group: d3Selection) {\n  return header_group\n    .append(\"div\")\n    .classed(\"header-selector\", true)\n    .html(dropdown)\n    .each(function(d) {\n      d3.select(this).select(\"select\");\n    });\n}\n\nfunction addHeaderLabels(header_group: d3Selection) {\n  return header_group\n    .append(\"div\")\n    .classed(\"header-label\", true)\n    .text(d => {\n      return d.key;\n    });\n}\n\nfunction setUpDropdowns(header_selectors: d3Selection) {\n  header_selectors.each(function(column) {\n    let selector = d3.select(this).select(\"select\");\n    selector\n      .select(`option[value=${ColumnTypeDictionary[column.value]}]`)\n      .property(\"selected\", true);\n\n    selector.on(\"input\", function(d: any) {\n      let selectedOption = d3.select(this).property(\"value\");\n      pubsub.emit(\n        \"column-type-changed\",\n        d.key,\n        parseInt(\n          Object.keys(ColumnTypeDictionary).find(\n            (k: any) => ColumnTypeDictionary[k] === selectedOption\n          )\n        )\n      );\n    });\n  });\n}\n\nfunction readDefaultColumnTypes(data: any[], columns: string[]) {\n  let cdt: { [key: string]: ColumnType } = {};\n  columns.forEach(column => {\n    let columnValues = data.map(d => d[column]);\n    let type = getColumnType(columnValues);\n    cdt[column] = type;\n  });\n\n  return cdt;\n}\n\nfunction getColumnType(arr: any[]): ColumnType {\n  if (isNumericArray(arr)) {\n    if (isSetArray(arr)) return ColumnType.Set;\n    if (isDecimalArray(arr)) return ColumnType.Number;\n    if (isCategoricalArray(arr)) return ColumnType.Categorical;\n    return ColumnType.Number;\n  } else {\n    if (isCategoricalArray(arr)) return ColumnType.Categorical;\n  }\n  return ColumnType.Label;\n}\n\nfunction isNumericArray(arr: any[]) {\n  return !arr.every(isNaN);\n}\n\nfunction isDecimalArray(arr: any[]) {\n  return arr.some(i => i % 1 !== 0);\n}\n\nfunction isTextArray(arr: any[]) {\n  return arr.some(isNaN);\n}\n\nfunction isSetArray(arr: any[]) {\n  let uniqueVals = [...new Set(arr)];\n  return uniqueVals.length > 0 && uniqueVals.length <= 2;\n}\n\nfunction isCategoricalArray(arr: any[]) {\n  let uniqueVals = [...new Set(arr)];\n  return uniqueVals.length > 0 && uniqueVals.length < 10;\n}\n\nfunction isSetList(arr: any[], seperator: string) {\n  return arr.some(i => i.includes(seperator));\n}\n\nfunction updateDatasetInfoWithSets(\n  data: DSVParsedArray<DSVRowString>,\n  info: DatasetInfo,\n  cdt: { [key: string]: ColumnType }\n) {\n  let sets = FilterWithIndices(data.columns, (d: string) => cdt[d] === 2);\n  let attributes = FilterWithIndices(data.columns, (d: string) => cdt[d] !== 2);\n\n  let consecutiveSets = sets.reduce(\n    (resultArray: any, item: number, idx: number, arr: number[]) => {\n      if (item !== undefined) {\n        if (arr[idx - 1] === undefined || arr[idx - 1] + 1 !== item) {\n          resultArray.push([]);\n        }\n        resultArray[resultArray.length - 1].push(item);\n      }\n      return resultArray;\n    },\n    []\n  );\n\n  info.sets = [];\n  consecutiveSets.forEach((s: number[]) => {\n    info.sets.push({\n      format: \"binary\",\n      start: s[0],\n      end: s[s.length - 1]\n    });\n  });\n\n  info.meta = [];\n  attributes.forEach((attrIdx: number) => {\n    let metaData: IMetaData = {\n      type: \"string\",\n      index: attrIdx,\n      name: data.columns[attrIdx]\n    };\n    if (cdt[data.columns[attrIdx]] === ColumnType.Label) metaData.type = \"id\";\n    let values = data.map(d => d[metaData.name]);\n    if (isNumericArray(values)) {\n      if (isDecimalArray(values.map(parseFloat))) {\n        metaData.type = \"float\";\n        metaData.min = d3.min(values.map(parseFloat));\n        metaData.max = d3.max(values.map(parseFloat));\n      } else {\n        metaData.type = \"integer\";\n        metaData.min = d3.min(values.map(parseInt));\n        metaData.max = d3.max(values.map(parseInt));\n      }\n    }\n\n    info.meta.push(metaData);\n  });\n  pubsub.emit(\"broadcast-dataset-info\", info);\n}\n","// HTML\nexport default `<div class=\"select\">\n  <select>\n    <option value=\"Number\">Number</option>\n    <option value=\"Label\">Label</option>\n    <option value=\"Set\">Set</option>\n    <option value=\"Set List\">Set List</option>\n    <option value=\"Categorical\">Categorical</option>\n  </select>\n</div>`","\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export type EventHandler = (...event?: any[]) => void;\nexport type EventHandlerList = Array<EventHandler>;\nexport type EventHandlerMap = {\n  [type: string]: EventHandlerList;\n};\n\nexport function mitt(all?: EventHandlerMap) {\n  all = all || Object.create(null);\n\n  return {\n    on(type: string, handler: EventHandler, ctx?: any) {\n      if (ctx) (all[type] || (all[type] = [])).push(handler.bind(ctx));\n      (all[type] || (all[type] = [])).push(handler);\n    },\n    off(type: string, handler: EventHandler) {\n      if (all[type]) all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n    },\n    emit(type: string, ...evt: any[]) {\n      (all[type] || []).slice().map(handler => {\n        handler(...evt);\n      });\n    }\n  };\n}\n\nexport type Mitt = {\n  on(type: string, handler: EventHandler, ctx?: any): void;\n  off(type: string, handler: EventHandler): void;\n  emit(type: string, ...evt: any[]): void;\n};\n","export function isValidEmail(email: string) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nexport const stringIsNumber = (val: any) => isNaN(Number(val)) === false;\n\nexport function enumToArray(enm: any) {\n  return Object.keys(enm)\n    .filter(stringIsNumber)\n    .map(k => {\n      return {\n        key: k,\n        value: enm[k]\n      };\n    });\n}\n\nexport function FilterWithIndices<T>(\n  arr: Array<T>,\n  predicate: Function\n): Array<number> {\n  let temp: Array<number> = [];\n  arr.forEach((item, idx) => {\n    if (predicate(item)) temp.push(idx);\n  });\n  return temp;\n}\n","import { d3Selection } from \"./../type_declarations/types\";\nimport { DatasetInfo } from \"./../DataTypes/DatasetInfo\";\nimport { Container } from \"golden-layout\";\nimport { View } from \"./../DataTypes/View\";\nimport config from \"./layout_config\";\nimport GoldenLayout from \"golden-layout/dist/goldenlayout\";\nimport \"golden-layout/src/css/goldenlayout-base.css\";\nimport \"./styles.scss\";\nimport { FileView } from \"../FileView/FileView\";\nimport { mitt, Mitt } from \"../Utils/PubSub\";\nimport * as vegaLite from \"vega-lite\";\nimport * as vega from \"vega\";\nimport { Renderer } from \"vega\";\n\nexport const pubsub: Mitt = mitt();\n\nexport const serverUrl: string = \"http://18.224.213.250/\";\n\nlet views: View[] = [\n  {\n    componentName: \"FileView\",\n    componentState: {},\n    type: \"component\",\n    factory: FileView\n  },\n  {\n    componentName: \"DatasetInfo\",\n    componentState: {},\n    type: \"component\",\n    factory: function(c: any, s: any) {}\n  }\n];\n\nexport function CreateFileUploadView(root?: d3Selection) {\n  let layout: any;\n  if (root) layout = new GoldenLayout(config, root.node());\n  else layout = new GoldenLayout(config);\n  views.forEach(view => {\n    layout.registerComponent(view.componentName, view.factory);\n  });\n\n  layout.init();\n}\n\nCreateFileUploadView();\n\n// function test() {\n//   vega\n//     .loader()\n//     .load(\"https://vega.github.io/vega/examples/bar-chart.vg.json\")\n//     .then(data => {\n//       renderer(JSON.parse(data));\n//     });\n\n//   function renderer(data: any) {\n//     let view = new vega.View(vega.parse(data))\n//       .renderer(\"svg\")\n//       .initialize(\".table-view\")\n//       .hover()\n//       .run();\n\n//     view.toImageURL(\"png\").then(url => console.log(url));\n//   }\n// }\n","import { Config } from \"golden-layout\";\n\nconst config: Config = {\n  settings: {\n    hasHeaders: false\n  },\n  content: [\n    {\n      type: \"row\",\n      content: [\n        {\n          type: \"component\",\n          componentName: \"FileView\",\n          componentState: {\n            label: \"FileView\"\n          },\n          width: 80\n        },\n        {\n          type: \"component\",\n          componentName: \"DatasetInfo\",\n          componentState: {\n            label: \"DatasetInfo\"\n          },\n          width: 20\n        }\n      ]\n    }\n  ]\n};\n\nexport default config;\n","\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--5-3!../../../../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}