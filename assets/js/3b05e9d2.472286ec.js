"use strict";(self.webpackChunkuserdocs=self.webpackChunkuserdocs||[]).push([[6985],{5261:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"development/local-development","title":"Local Installation","description":"To deploy UpSet 2.0 locally it is necessary to install the Multinet infrastructure.","source":"@site/docs/development/local-development.md","sourceDirName":"development","slug":"/development/local-development","permalink":"/upset2/docs/development/local-development","draft":false,"unlisted":false,"editUrl":"https://github.com/visdesignlab/upset2/edit/main/packages/userdocs/docs/development/local-development.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Developer Documentation","permalink":"/upset2/docs/development/documentation"},"next":{"title":"Developer Guidelines","permalink":"/upset2/docs/development/developer-guidelines"}}');var l=n(4848),o=n(8453);const s={sidebar_position:2},d="Local Installation",r={},a=[{value:"Multinet Installation",id:"multinet-installation",level:2},{value:"Upset Installation",id:"upset-installation",level:2},{value:"Running the application",id:"running-the-application",level:2},{value:"End To End (e2e) Testing",id:"end-to-end-e2e-testing",level:2},{value:"Storybook development",id:"storybook-development",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"local-installation",children:"Local Installation"})}),"\n",(0,l.jsx)(t.p,{children:"To deploy UpSet 2.0 locally it is necessary to install the Multinet infrastructure."}),"\n",(0,l.jsx)(t.h2,{id:"multinet-installation",children:"Multinet Installation"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Clone ",(0,l.jsx)(t.a,{href:"https://github.com/multinet-app/multinet-api",children:"Multinet API"}),", ",(0,l.jsx)(t.a,{href:"https://github.com/multinet-app/multinet-client",children:"Multinet Client"}),", and ",(0,l.jsx)(t.a,{href:"https://github.com/multinet-app/multinetjs",children:"Multinet JS"})," into individual folders."]}),"\n",(0,l.jsx)(t.li,{children:"Follow the installation instructions for Multinet API and Multinet Client."}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"upset-installation",children:"Upset Installation"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Clone the repository using ",(0,l.jsx)(t.code,{children:"git clone"})," or download and extract the zip file."]}),"\n",(0,l.jsxs)(t.li,{children:["Open terminal in the cloned folder and run ",(0,l.jsx)(t.code,{children:"yarn install"})]}),"\n",(0,l.jsxs)(t.li,{children:["Run ",(0,l.jsx)(t.code,{children:"yarn build"})," in the terminal to compile."]}),"\n",(0,l.jsx)(t.li,{children:"Navigate to the upset2 folder."}),"\n",(0,l.jsxs)(t.li,{children:["In ",(0,l.jsx)(t.code,{children:"packages/app"})," copy ",(0,l.jsx)(t.code,{children:".env.default"})," and rename the copied file to ",(0,l.jsx)(t.code,{children:".env"})]}),"\n",(0,l.jsxs)(t.li,{children:["In the OAUTH application created during the ",(0,l.jsx)(t.a,{href:"https://github.com/multinet-app/multinet-api#api",children:"OAUTH API setup"})," of Multinet API, add ",(0,l.jsx)(t.code,{children:"http://localhost:3000/"})," to the redirect uris field."]}),"\n",(0,l.jsxs)(t.li,{children:["Copy the ",(0,l.jsx)(t.code,{children:"Client id"})," field in the application but do not modify the value"]}),"\n",(0,l.jsxs)(t.li,{children:["Navigate to the ",(0,l.jsx)(t.code,{children:".env"})," file created in step 5."]}),"\n",(0,l.jsxs)(t.li,{children:["Paste the ",(0,l.jsx)(t.code,{children:"Client id"})," to the field ",(0,l.jsx)(t.code,{children:"VITE_OAUTH_CLIENT_ID"})]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"running-the-application",children:"Running the application"}),"\n",(0,l.jsxs)(t.p,{children:["To run UpSet 2.0 locally, first, complete the ",(0,l.jsx)(t.a,{href:"#local-installation",children:"Local Installation"})," steps. Then, use ",(0,l.jsx)(t.code,{children:"yarn dev"})," to run UpSet 2.0 on port 3000.\nA browser window for ",(0,l.jsx)(t.code,{children:"localhost:3000"})," will open during the launch process. ",(0,l.jsx)(t.em,{children:"Note"})," that for this to work with the data upload portal, multinet server and client should be running in parallel."]}),"\n",(0,l.jsx)(t.h2,{id:"end-to-end-e2e-testing",children:"End To End (e2e) Testing"}),"\n",(0,l.jsxs)(t.p,{children:["To run the playwright end to end tests, use the command:\n",(0,l.jsx)(t.code,{children:"yarn test"})]}),"\n",(0,l.jsxs)(t.p,{children:["To open the test in a UI view to track steps, append ",(0,l.jsx)(t.code,{children:"--ui"}),"."]}),"\n",(0,l.jsx)(t.p,{children:"This will launch a local server if there is not one already running on port 3000."}),"\n",(0,l.jsxs)(t.p,{children:["To add a test, add a ",(0,l.jsx)(t.code,{children:".spec.ts"})," file to ",(0,l.jsx)(t.code,{children:"e2e-tests"}),". For information on how to use playwright, please see the ",(0,l.jsx)(t.a,{href:"https://playwright.dev/docs/writing-tests",children:"playwright documentation"}),"."]}),"\n",(0,l.jsx)(t.h2,{id:"storybook-development",children:"Storybook development"}),"\n",(0,l.jsxs)(t.p,{children:["Storybook can be used to test development of UpSet 2.0 as a react component. To run storybook, run ",(0,l.jsx)(t.code,{children:"cd packages/upset"})," from the project root directory. Then, run ",(0,l.jsx)(t.code,{children:"yarn storybook"}),". This will run ",(0,l.jsx)(t.code,{children:"Upset.stories.tsx"}),", which opens a browser tab for the storybook. This will render the react component of UpSet with the simpsons dataset and stripped of any attribute or settings rendering."]}),"\n",(0,l.jsxs)(t.p,{children:["A new story can be added by adding a ",(0,l.jsx)(t.code,{children:"{name}.stories.tsx"})," file to ",(0,l.jsx)(t.code,{children:"packages/upset/stories/"}),". New data can be added to the ",(0,l.jsx)(t.code,{children:"data"})," subfolder in the same directory."]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var i=n(6540);const l={},o=i.createContext(l);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);